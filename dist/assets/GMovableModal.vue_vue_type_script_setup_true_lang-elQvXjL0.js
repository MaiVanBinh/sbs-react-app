import{d as H,l as d,o as M,ai as z,a as b,h as W,aj as I,c as Y,Y as i,i as f,Q as c,G as j,j as X,bh as G,ax as K,ay as N}from"./index-eLyz9_Ts.js";const R={class:"truncate text-base font-semibold leading-6",style:{border:"none","-ms-user-select":"none","-moz-user-select":"none","-webkit-user-select":"none","-khtml-user-select":"none","user-select":"none","-webkit-user-drag":"none","-khtml-user-drag":"none","-moz-user-drag":"none","-o-user-drag":"none","user-drag":"none"}},V=H({__name:"GMovableModal",props:{width:{type:String,default:"w-[750px]"},height:{type:String,default:"h-[700px]"},maxHeight:{type:String,default:""},left:{type:String,default:""},right:{type:String,default:""},top:{type:String,default:""},bottom:{type:String,default:""},disable:{type:Boolean,default:!1},intent:{type:String,default:""},inWrapModal:{type:Boolean,default:!1}},emits:["close"],setup(t,{emit:p}){const s=t,x=p;let n,h=0,g=0,u=0,m=0;const w=()=>{document.onmouseup=null,document.onmousemove=null},v=e=>{const o=document.getElementById("movable-modal");if(o){const l=o.getBoundingClientRect(),a=window.innerHeight-o.offsetHeight,r=window.innerWidth-o.offsetWidth;e=e||window.event,e.preventDefault(),h=u-e.clientX,g=m-e.clientY,u=e.clientX,m=e.clientY,n&&(l.y<0?n.style.top="0px":l.y>a?n.style.top=`${a}px`:l.y===a?n.style.top=`${a-3}px`:n.style.top=`${n.offsetTop-g}px`,l.x<0?n.style.left="0px":l.x>r?n.style.left=`${r}px`:l.x===r?n.style.left=`${r-1}px`:n.style.left=`${n.offsetLeft-h}px`)}},k=e=>{e=e||window.event,e.preventDefault(),u=e.clientX,m=e.clientY,document.onmouseup=w,document.onmousemove=v},$=()=>{const e=document.getElementById("handle");e&&(e.onmousedown=k)},y=()=>{x("close")},B=e=>{if(e.srcKey==="winEsc"){const o=document.getElementById("close-button");o&&(o.focus(),y())}},E=d(()=>{switch(s.intent){case"primary":return"bg-primary-blue-300 text-white h-[40px] !px-3 !rounded-t-[5px]";default:return""}}),S=d(()=>{switch(s.intent){case"primary":return"!mr-0";default:return""}}),C=d(()=>{switch(s.intent){case"primary":return"border border-black !rounded-b-none";default:return""}}),D=d(()=>{switch(s.intent){case"primary":return"!rounded-none !p-0";default:return""}});return M(()=>{n=document.getElementById("movable-modal"),n&&$()}),(e,o)=>{const l=z("shortkey");return b(),W(N,{to:"body",disable:t.disable},[I((b(),Y("div",{id:"movable-modal",class:c(["flex flex-col rounded-md shadow-2xl fixed",[t.width,t.height,t.maxHeight?`max-h-${t.maxHeight}`:"",t.inWrapModal?"z-[9999]":"z-50",C.value]]),style:K([t.bottom?`bottom: ${t.bottom}`:"",t.left?`left: ${t.left}`:"",t.right?`right: ${t.right}`:"",t.top?`top: ${t.top}`:""]),onShortkey:B},[i("div",{id:"handle",class:c([[E.value],"bg-gray-50 dark:bg-dark dark:text-white dark:border-dark-border border-b border-gray-200 px-4 py-3 sm:px-6 rounded-t-lg flex items-center justify-between cursor-move"])},[i("div",R,[f(e.$slots,"title")]),i("button",{id:"close-button",type:"button",class:c(["m-1.5 mr-6 rounded-md focus:ring-2 focus:ring-offset-2 focus:ring-primary",S.value]),onClick:y},[j(X(G),{class:"w-6 h-6 cursor-pointer","aria-hidden":"true"})],2)],2),i("div",{class:c(["h-full text-sm overflow-auto py-2 px-6 bg-white dark:bg-dark dark:text-dark-gray-200 rounded-b-md",[D.value]])},[f(e.$slots,"content",{class:"h-full"})],2),f(e.$slots,"bottom")],38)),[[l,{winEsc:["esc"]}]])],8,["disable"])}}});export{V as _};
