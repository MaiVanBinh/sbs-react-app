import{G as B}from"./GSingleSelect-7u8H0FdH.js";import{u as g}from"./use-model-wrapper-XtiLc3Xd.js";import{d as I,ab as V,aa as U,k as r,c6 as w,a as N,c as S,G as L,j as k,as as q,Q as D}from"./index-eLyz9_Ts.js";const G=I({__name:"UserSelect",props:{modelValue:{default:""},isAllOption:{type:Boolean,default:!1},name:{default:"userName"},label:{default:""},labelName:{default:"기자 전체"},isItemLabel:{type:Boolean,default:!0},preselectFirst:{type:Boolean,default:!1},preselectLogin:{type:Boolean,default:!1},required:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},placeholder:{default:"사용자 전체"},allowEmpty:{type:Boolean,default:!1},deptId:{default:void 0},disabled:{type:Boolean,default:!1},isLoginUser:{type:Boolean,default:!1},openDirection:{default:""},selectWidth:{default:"w-28"}},emits:["update:modelValue","on-selected","on-remove"],setup(u,{emit:i}){const a=u,o=i,{userMngId:p}=V(),c=U(),{fetchUsers:f,getChDivId:m,getAllOptions:b}=c,d=r(!1),s=g(a,o,"modelValue"),n=r([]),v=e=>{o("update:modelValue",e),o("on-selected",e)},y=e=>{o("update:modelValue",e),o("on-remove",e)},h=async()=>{try{d.value=!0;const e={chDivId:m,useYn:"Y",delYn:"N",deptId:a.deptId,size:1e4},t=await f(e);t.success&&(n.value=t.data.content.map(l=>({...l,name:l.userNm,label:`${l.userNm}(${l.userId})`})),a.isAllOption&&(n.value.unshift(b(a.labelName)),s.value=n.value[0]),a.isLoginUser&&(s.value=p))}finally{d.value=!1}};return w(async()=>{await h()}),(e,t)=>(N(),S("div",null,[L(B,{modelValue:k(s),"onUpdate:modelValue":t[0]||(t[0]=l=>q(s)?s.value=l:null),name:e.name,"is-loading":d.value,label:e.label?e.label:"",options:n.value,"item-label":"label","track-by":"id","allow-empty":e.allowEmpty,searchable:e.searchable,required:e.required,disabled:e.disabled,"preselect-first":e.preselectFirst,placeholder:e.placeholder,"open-direction":e.openDirection,class:D(e.selectWidth),"onSelect:value":v,"onRemove:value":y},null,8,["modelValue","name","is-loading","label","options","allow-empty","searchable","required","disabled","preselect-first","placeholder","open-direction","class"])]))}});export{G as _};
