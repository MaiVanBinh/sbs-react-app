import{d as F,V as E,k as S,W as Q,t as W,a as o,c as h,Y as s,G as d,$ as O,F as j,C as I,a0 as V,a1 as G,w as f,X as n,j as g,a2 as q,K as R,h as $,a3 as L,l as X,a4 as Y,a5 as H,e as Z,Q as K,a6 as P,N as ee,R as le}from"./index-eLyz9_Ts.js";import{_ as te}from"./JoinHeader.vue_vue_type_script_setup_true_lang-yI0Lw48U.js";import{u as se}from"./use-regex-PKR758aA.js";import{G as ae}from"./GRadioGroup-cHw1G1ew.js";/* empty css                                                                    */const oe={class:"p-4 bg-white dark:bg-dark dark:text-white inline-block rounded-lg text-sm overflow-hidden shadow-xl w-2/5"},re={class:"text-sm mb-4"},ne={class:"flex justify-between items-center mb-2"},ie=["onClick"],de={class:"rounded-md text-xs h-20 p-2 border border-gray-300 dark:border-slate-600 dark:text-gray-300"},ue={class:"text-xs mb-4"},me={class:"flex space-x-2 w-full items-end"},ce={class:"text-error text-xs mt-1 mb-2"},pe={key:0},fe={class:"text-xs w-full whitespace-normal dark:text-white"},be={class:"dark:text-white"},ve={class:"mt-4 pb-1 space-x-3 flex items-center justify-end"},we=F({__name:"JoinAgreeStep",props:{email:{}},emits:["on-complete"],setup(A,{emit:T}){const x=T,l=E({email:"",type:"",confirmSend:!1,authNumber:"",tvTerm:!1,policy:!1}),{emailPattern:C}=se(),r=S(!1),y=E([{title:"SBS TV 통합 이용약관",contents:"약관 내용",key:"tvTerm"},{title:"개인정보 수집 및 이용 동의",contents:"SBS TV 보도 시스템(NRS) 사이트 이용을 위한 회원가입시 이용자(임직원, 협력사)로부터 아래와 같은 개인정보를 수집하고 있습니다. 이용자는 본 개인정보 수집 및 이용에 동의 시 필요한 최소한의 정보 외의 개인정보 수집 및 이용에 동의하지 않을 권리가 있습니다.",key:"policy"}]),k=S(!1),u=S(!1),p=E({show:!1,title:"",contents:""}),b=c=>{const e=y.find(w=>w.key===c);e&&(p.title=e.title,p.contents=e.contents),p.show=!0,console.log(c,"전체보기 어떻게?")},v={email:{type:"string",required:!0,validator(c,e,w){return e?C(l.email)?!0:w(new Error("이메일 형식으로 입력해주세요.")):w(new Error("이메일은 필수 입력 값입니다."))}}},{pass:_,errorFields:i}=Q(l,v),m=()=>{k.value=!0,l.confirmSend=!l.confirmSend,l.confirmSend?(u.value=!0,setTimeout(()=>{k.value=!1},5e3),console.log(_,l)):k.value=!1},t=()=>{x("on-complete",l.email),console.log("인증 성공!")},D=c=>{c?(l.tvTerm=!0,l.policy=!0):(l.tvTerm=!1,l.policy=!1)};return W(()=>[l.tvTerm,l.policy],([c,e])=>{c&&e?r.value=!0:(!c||!e)&&(r.value=!1)}),(c,e)=>{var w,B,N;return o(),h(j,null,[s("div",oe,[s("div",re,[d(O,{id:"agreeAllCheck",modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=a=>r.value=a),name:"allCheck",class:"text-sm",label:"필수 약관 전체 동의",onChange:D},null,8,["modelValue"]),e[6]||(e[6]=s("p",{class:"text-xs dark:text-gray-300"}," SBS TV 통합 이용약관과 개인정보 수집 및 이용에 모두 동의 합니다. ",-1))]),(o(!0),h(j,null,I(y,a=>(o(),h("div",{key:a.title,class:"mb-4"},[s("div",ne,[d(O,{id:a.key,modelValue:l[a.key],"onUpdate:modelValue":U=>l[a.key]=U,name:a.title,label:`[필수] ${a.title}`},null,8,["id","modelValue","onUpdate:modelValue","name","label"]),s("p",{class:"text-primary cursor-pointer",onClick:U=>b(a.key)},"전체보기",8,ie)]),s("div",de,V(a.contents),1)]))),128)),e[8]||(e[8]=s("p",{class:"mt-2 mb-2 border-t border-gray-300 dark:border-slate-600 dark:text-white"},null,-1)),s("div",ue,[d(ae,{modelValue:l.type,"onUpdate:modelValue":e[1]||(e[1]=a=>l.type=a),label:"가입 구분","track-by":"label",options:[{label:"SBSTV",value:"SBSTV"},{label:"SBS뉴스",value:"SBS뉴스"},{label:"외주 사용자",value:"외주 사용자"}]},null,8,["modelValue"])]),s("div",me,[d(G,{modelValue:l.email,"onUpdate:modelValue":e[2]||(e[2]=a=>l.email=a),label:"이메일",type:"email",name:"email",class:"w-full",placeholder:"이메일을 입력해 주세요",disabled:l.confirmSend},null,8,["modelValue","disabled"]),d(q,{class:"h-[2.15rem]",disabled:!g(_)||k.value,onClick:m},{default:f(()=>[n(V(l.confirmSend?"재전송":"인증번호 요청"),1)]),_:1},8,["disabled"])]),s("div",ce,V((B=(w=g(i))==null?void 0:w.email)!=null&&B.length?(N=g(i))==null?void 0:N.email[0].message:""),1),l.confirmSend?(o(),h("div",pe,[d(G,{modelValue:l.authNumber,"onUpdate:modelValue":e[3]||(e[3]=a=>l.authNumber=a),label:"인증번호입력",type:"text",name:"authNumber",placeholder:"인증번호를 입력해 주세요",class:"w-full"},null,8,["modelValue"]),d(q,{class:"w-full mt-2",disabled:!g(_),onClick:t},{default:f(()=>e[7]||(e[7]=[n("가입정보 입력 ")])),_:1},8,["disabled"])])):R("",!0)]),p.show?(o(),$(L,{key:0,overflow:"overflow-y-hidden","modal-class":"w-1/2",onClose:e[4]||(e[4]=a=>p.show=!1)},{title:f(()=>[n(V(p.title),1)]),content:f(()=>[s("div",fe,V(p.contents),1)]),_:1})):R("",!0),u.value?(o(),$(L,{key:1,overflow:"overflow-y-hidden","modal-class":"ssm:w-1/3"},{title:f(()=>e[9]||(e[9]=[n(" 인증메일 발송 ")])),content:f(()=>[s("div",be,[n(" 등록된 이메일 주소("+V(l.email)+")로 인증메일이 발송되었습니다.",1),e[10]||(e[10]=s("br",null,null,-1)),e[11]||(e[11]=n(" 이메일의 인증번호를 확인 후 정확하게 입력해 주세요. "))]),s("div",ve,[d(q,{type:"secondary",class:"text-sm w-full",onClick:e[5]||(e[5]=a=>u.value=!1)},{default:f(()=>e[12]||(e[12]=[n("확인")])),_:1})])]),_:1})):R("",!0)],64)}}}),xe={class:"p-4 bg-white dark:bg-dark dark:text-white inline-block rounded-lg text-sm overflow-hidden shadow-xl w-2/5"},ye=F({__name:"JoinInfoStep",props:{email:{}},emits:["on-complete"],setup(A,{emit:T}){const x=A,l=X(()=>x.email),C=T,r=E({name:"",id:"",password:"",passwordCheck:"",phone:""}),y=S(!1),k={name:{type:"string",required:!0,message:"이름은 필수 입력 값입니다."},id:{type:"string",min:3,required:!0,message:"아이디는 필수 입력 값입니다."},password:{type:"string",required:!0,message:"비밀번호는 필수 입력 값입니다."},passwordCheck:{type:"string",required:!0,validator(i,m,t){return m===r.password?!0:t(new Error("비밀번호가 일치하지 않습니다."))}},phone:{type:"string",required:!0,validator(i,m,t){return m?y.value?!0:t(new Error("연락처를 정확하게 입력해 주세요")):t(new Error("연락처는 필수 입력 값입니다."))}}},u={name:{label:"이름",type:"text",placeholder:"이름을 입력해 주세요"},id:{label:"아이디",type:"text",placeholder:"아이디를 입력해 주세요"},password:{label:"비밀번호",type:"password",placeholder:"비밀번호를 입력해 주세요"},passwordCheck:{label:"비밀번호 확인",type:"password",placeholder:"비밀번호를 다시 입력해 주세요"},phone:{label:"연락처",type:"text",placeholder:"-을 제외한 숫자로 입력"}},{pass:p,errorFields:b}=Q(r,k),v=i=>{y.value=i.completed},_=()=>{C("on-complete")};return(i,m)=>(o(),h("div",xe,[d(G,{modelValue:l.value,"onUpdate:modelValue":m[0]||(m[0]=t=>l.value=t),label:"이메일 (인증완료)",name:"email",class:"w-full",disabled:""},null,8,["modelValue"]),m[2]||(m[2]=s("p",{class:"mt-3 mb-3 border-t border-gray-300 dark:border-slate-600 dark:text-white"},null,-1)),(o(!0),h(j,null,I(Object.entries(r),([t],D)=>{var c,e,w,B,N,a,U,M,z;return o(),h("div",{key:D,class:"mb-2"},[t==="phone"?(o(),$(Y,{key:0,modelValue:r[t],"onUpdate:modelValue":J=>r[t]=J,label:(c=u[t])==null?void 0:c.label,"mask-format":"###-####-####",placeholder:(e=u[t])==null?void 0:e.placeholder,"error-msg":(B=(w=g(b))==null?void 0:w[t])!=null&&B.length?(N=g(b))==null?void 0:N[t][0].message:"",onMaska:v},null,8,["modelValue","onUpdate:modelValue","label","placeholder","error-msg"])):(o(),$(G,{key:1,modelValue:r[t],"onUpdate:modelValue":J=>r[t]=J,label:u[t].label,type:u[t].type,name:u[t].type,class:"w-full","error-msg":(U=(a=g(b))==null?void 0:a[t])!=null&&U.length?(M=g(b))==null?void 0:M[t][0].message:"",placeholder:(z=u[t])==null?void 0:z.placeholder},null,8,["modelValue","onUpdate:modelValue","label","type","name","error-msg","placeholder"]))])}),128)),d(q,{class:"w-full mt-2",disabled:!g(p),onClick:_},{default:f(()=>m[1]||(m[1]=[n("가입 요청")])),_:1},8,["disabled"])]))}}),ge={class:"flex w-full min-h-screen lex flex-col pt-32 items-center bg-gray-100 dark:bg-dark-secondary"},he={class:"flex items-center justify-center mb-4 space-x-4"},ke={class:"mt-4 pb-1"},Te=F({__name:"JoinView",setup(A){const{t:T}=H(),x=S(0),l=[{title:T("Join.약관_동의_및_본인인증"),component:we,icon:"shield-check"},{title:T("Join.가입정보_입력"),component:ye,icon:"document-check"}],C=S(""),r=Z(),y=S(!1),k=()=>{y.value=!0},u=()=>{y.value=!1,r.push({name:le.Login})},p=b=>{x.value?k():(console.log(b),C.value=b,console.log(C.value),x.value+=1)};return(b,v)=>(o(),h("div",null,[d(te,{title:"사용자 등록 요청"}),s("div",ge,[s("div",he,[(o(),h(j,null,I(l,(_,i)=>s("div",{key:i,class:K(["flex items-center justify-center text-sm text-gray-400",{"text-gray-700 dark:text-white":x.value===i}])},[s("span",{class:K({"text-primary":x.value===i,"inline-flex items-center justify-center mr-2 text-sm text-gray-400 ":!0})},[d(P,{icon:_.icon,size:"w-5"},null,8,["icon"]),n(" Step "+V(i+1)+".",1)],2),n(" "+V(_.title)+" ",1),i===0?(o(),$(P,{key:0,class:"text-gray-400 ml-4 mr-1 dark:text-gray-500",icon:"chevron-right",size:"w-5"})):R("",!0)],2)),64))]),(o(),$(ee(l[x.value].component),{email:C.value,onOnComplete:p},null,40,["email"]))]),y.value?(o(),$(L,{key:0,overflow:"overflow-y-hidden","modal-class":"ssm:w-1/3",close:!1},{title:f(()=>v[0]||(v[0]=[n(" 사용자 등록 요청 ")])),content:f(()=>[v[2]||(v[2]=s("div",{class:"dark:text-white"},[n(" 사용자 등록 요청이 완료되었습니다."),s("br"),n(" 관리자의 승인 이후에 신청한 정보로 로그인이 가능합니다. ")],-1)),s("div",ke,[d(q,{type:"secondary",class:"text-sm w-full",onClick:u},{default:f(()=>v[1]||(v[1]=[n("확인")])),_:1})])]),_:1})):R("",!0)]))}});export{Te as default};
