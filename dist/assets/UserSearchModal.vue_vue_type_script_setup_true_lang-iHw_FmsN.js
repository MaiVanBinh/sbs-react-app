import{c as l}from"./make-grid-column-aeLSdEws.js";import{d as N,aa as b,k as c,o as y,a as S,h as k,w as d,Y as s,G as o,a1 as I,a2 as i,al as R,a3 as $,am as B}from"./index-eLyz9_Ts.js";import{_ as D}from"./FormItem.vue_vue_type_script_setup_true_lang-ZXQ_7x89.js";import{_ as U}from"./OrganizationSelect.vue_vue_type_script_setup_true_lang-BNuugYEX.js";const Y={class:"flex justify-between border rounded-md p-2"},V={class:"flex"},j={class:"flex gap-x-2"},z={class:"mt-4 h-[300px]"},E={class:"flex justify-center gap-x-2 my-4"},T=N({__name:"UserSearchModal",props:{isLoading:{type:Boolean},customColumn:{default:void 0}},emits:["close","selected-row"],setup(G,{emit:u}){const a=u,f=b(),{fetchUsers:p}=f,h=c({chDivId:"1",deptId:"",useYn:"Y",delYn:"N",searchValue:"",page:0,size:20}),_=c({isShow:!0,page:1,totalElements:0,totalPages:1,numberOfElements:0,size:10}),r=c([]),t=c([]),v=[l({headerName:"NO",maxWidth:60,cellRenderer:e=>B(e)}),l({headerName:"사용자ID",field:"userId",flex:1}),l({headerName:"사용자명",field:"userNm",flex:1}),l({headerName:"부서명",field:"deptNm",flex:1})],w=()=>{a("close")},m=async()=>{const e=await p(h.value);e.success&&(r.value=e.data.content)},g=e=>{t.value=e.map(n=>n.data)},x=()=>{a("close")},C=()=>{t.value.length&&(console.log(t.value),a("selected-row",t.value),a("close"))};return y(()=>{m()}),(e,n)=>(S(),k($,{"modal-class":"w-[60vw]","content-class":"h-1/2",onClose:w},{title:d(()=>n[0]||(n[0]=[s("span",null,"사용자검색",-1)])),content:d(()=>[s("div",null,[s("div",Y,[s("div",V,[o(D,{label:"조직"},{default:d(()=>[o(U)]),_:1})]),s("div",j,[o(I,{placeholder:"사용자 이름",intent:"primary"}),o(i,{"button-text":"조회",onClick:m})])]),s("div",z,[o(R,{class:"w-full h-full","column-defs":e.customColumn?e.customColumn:v,"is-loading":e.isLoading,"row-data":r.value,"page-info":_.value,"header-height":25,onSelectedRows:g},null,8,["column-defs","is-loading","row-data","page-info"])])])]),bottom:d(()=>[s("div",E,[o(i,{"button-text":"확인",onClick:C}),o(i,{"button-text":"취소",type:"secondary",onClick:x})])]),_:1}))}});export{T as _};
