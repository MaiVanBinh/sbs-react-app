import{c4 as kt,bP as Ke,ae as Ye,aO as Sr,aD as Ht}from"./index-eLyz9_Ts.js";function Zt(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Xe={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,r){(function(t){e.exports=t()})(function(){return function t(n,l,o){function u(g,x){if(!l[g]){if(!n[g]){var m=typeof Zt=="function"&&Zt;if(!x&&m)return m(g,!0);if(a)return a(g,!0);var S=new Error("Cannot find module '"+g+"'");throw S.code="MODULE_NOT_FOUND",S}var h=l[g]={exports:{}};n[g][0].call(h.exports,function(w){var c=n[g][1][w];return u(c||w)},h,h.exports,t,n,l,o)}return l[g].exports}for(var a=typeof Zt=="function"&&Zt,f=0;f<o.length;f++)u(o[f]);return u}({1:[function(t,n,l){var o=t("./utils"),u=t("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";l.encode=function(f){for(var g,x,m,S,h,w,c,y=[],d=0,b=f.length,O=b,P=o.getTypeOf(f)!=="string";d<f.length;)O=b-d,m=P?(g=f[d++],x=d<b?f[d++]:0,d<b?f[d++]:0):(g=f.charCodeAt(d++),x=d<b?f.charCodeAt(d++):0,d<b?f.charCodeAt(d++):0),S=g>>2,h=(3&g)<<4|x>>4,w=1<O?(15&x)<<2|m>>6:64,c=2<O?63&m:64,y.push(a.charAt(S)+a.charAt(h)+a.charAt(w)+a.charAt(c));return y.join("")},l.decode=function(f){var g,x,m,S,h,w,c=0,y=0,d="data:";if(f.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var b,O=3*(f=f.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(f.charAt(f.length-1)===a.charAt(64)&&O--,f.charAt(f.length-2)===a.charAt(64)&&O--,O%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=u.uint8array?new Uint8Array(0|O):new Array(0|O);c<f.length;)g=a.indexOf(f.charAt(c++))<<2|(S=a.indexOf(f.charAt(c++)))>>4,x=(15&S)<<4|(h=a.indexOf(f.charAt(c++)))>>2,m=(3&h)<<6|(w=a.indexOf(f.charAt(c++))),b[y++]=g,h!==64&&(b[y++]=x),w!==64&&(b[y++]=m);return b}},{"./support":30,"./utils":32}],2:[function(t,n,l){var o=t("./external"),u=t("./stream/DataWorker"),a=t("./stream/Crc32Probe"),f=t("./stream/DataLengthProbe");function g(x,m,S,h,w){this.compressedSize=x,this.uncompressedSize=m,this.crc32=S,this.compression=h,this.compressedContent=w}g.prototype={getContentWorker:function(){var x=new u(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),m=this;return x.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),x},getCompressedWorker:function(){return new u(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(x,m,S){return x.pipe(new a).pipe(new f("uncompressedSize")).pipe(m.compressWorker(S)).pipe(new f("compressedSize")).withStreamInfo("compression",m)},n.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,l){var o=t("./stream/GenericWorker");l.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},l.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,l){var o=t("./utils"),u=function(){for(var a,f=[],g=0;g<256;g++){a=g;for(var x=0;x<8;x++)a=1&a?3988292384^a>>>1:a>>>1;f[g]=a}return f}();n.exports=function(a,f){return a!==void 0&&a.length?o.getTypeOf(a)!=="string"?function(g,x,m,S){var h=u,w=S+m;g^=-1;for(var c=S;c<w;c++)g=g>>>8^h[255&(g^x[c])];return-1^g}(0|f,a,a.length,0):function(g,x,m,S){var h=u,w=S+m;g^=-1;for(var c=S;c<w;c++)g=g>>>8^h[255&(g^x.charCodeAt(c))];return-1^g}(0|f,a,a.length,0):0}},{"./utils":32}],5:[function(t,n,l){l.base64=!1,l.binary=!1,l.dir=!1,l.createFolders=!0,l.date=null,l.compression=null,l.compressionOptions=null,l.comment=null,l.unixPermissions=null,l.dosPermissions=null},{}],6:[function(t,n,l){var o=null;o=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:o}},{lie:37}],7:[function(t,n,l){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",u=t("pako"),a=t("./utils"),f=t("./stream/GenericWorker"),g=o?"uint8array":"array";function x(m,S){f.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=S,this.meta={}}l.magic="\b\0",a.inherits(x,f),x.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(g,m.data),!1)},x.prototype.flush=function(){f.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},x.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},x.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(S){m.push({data:S,meta:m.meta})}},l.compressWorker=function(m){return new x("Deflate",m)},l.uncompressWorker=function(){return new x("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,l){function o(h,w){var c,y="";for(c=0;c<w;c++)y+=String.fromCharCode(255&h),h>>>=8;return y}function u(h,w,c,y,d,b){var O,P,I=h.file,H=h.compression,F=b!==g.utf8encode,$=a.transformTo("string",b(I.name)),B=a.transformTo("string",g.utf8encode(I.name)),K=I.comment,Q=a.transformTo("string",b(K)),E=a.transformTo("string",g.utf8encode(K)),L=B.length!==I.name.length,s=E.length!==K.length,N="",A="",p="",U=I.dir,z=I.date,D={crc32:0,compressedSize:0,uncompressedSize:0};w&&!c||(D.crc32=h.crc32,D.compressedSize=h.compressedSize,D.uncompressedSize=h.uncompressedSize);var k=0;w&&(k|=8),F||!L&&!s||(k|=2048);var C=0,V=0;U&&(C|=16),d==="UNIX"?(V=798,C|=function(G,et){var it=G;return G||(it=et?16893:33204),(65535&it)<<16}(I.unixPermissions,U)):(V=20,C|=function(G){return 63&(G||0)}(I.dosPermissions)),O=z.getUTCHours(),O<<=6,O|=z.getUTCMinutes(),O<<=5,O|=z.getUTCSeconds()/2,P=z.getUTCFullYear()-1980,P<<=4,P|=z.getUTCMonth()+1,P<<=5,P|=z.getUTCDate(),L&&(A=o(1,1)+o(x($),4)+B,N+="up"+o(A.length,2)+A),s&&(p=o(1,1)+o(x(Q),4)+E,N+="uc"+o(p.length,2)+p);var q="";return q+=`
\0`,q+=o(k,2),q+=H.magic,q+=o(O,2),q+=o(P,2),q+=o(D.crc32,4),q+=o(D.compressedSize,4),q+=o(D.uncompressedSize,4),q+=o($.length,2),q+=o(N.length,2),{fileRecord:m.LOCAL_FILE_HEADER+q+$+N,dirRecord:m.CENTRAL_FILE_HEADER+o(V,2)+q+o(Q.length,2)+"\0\0\0\0"+o(C,4)+o(y,4)+$+N+Q}}var a=t("../utils"),f=t("../stream/GenericWorker"),g=t("../utf8"),x=t("../crc32"),m=t("../signature");function S(h,w,c,y){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=c,this.encodeFileName=y,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(S,f),S.prototype.push=function(h){var w=h.meta.percent||0,c=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,f.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:c?(w+100*(c-y-1))/c:100}}))},S.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var w=this.streamFiles&&!h.file.dir;if(w){var c=u(h,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:c.fileRecord,meta:{percent:0}})}else this.accumulate=!0},S.prototype.closedSource=function(h){this.accumulate=!1;var w=this.streamFiles&&!h.file.dir,c=u(h,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(c.dirRecord),w)this.push({data:function(y){return m.DATA_DESCRIPTOR+o(y.crc32,4)+o(y.compressedSize,4)+o(y.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:c.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},S.prototype.flush=function(){for(var h=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var c=this.bytesWritten-h,y=function(d,b,O,P,I){var H=a.transformTo("string",I(P));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(d,2)+o(d,2)+o(b,4)+o(O,4)+o(H.length,2)+H}(this.dirRecords.length,c,h,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},S.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},S.prototype.registerPrevious=function(h){this._sources.push(h);var w=this;return h.on("data",function(c){w.processChunk(c)}),h.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),h.on("error",function(c){w.error(c)}),this},S.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},S.prototype.error=function(h){var w=this._sources;if(!f.prototype.error.call(this,h))return!1;for(var c=0;c<w.length;c++)try{w[c].error(h)}catch{}return!0},S.prototype.lock=function(){f.prototype.lock.call(this);for(var h=this._sources,w=0;w<h.length;w++)h[w].lock()},n.exports=S},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,l){var o=t("../compressions"),u=t("./ZipFileWorker");l.generateWorker=function(a,f,g){var x=new u(f.streamFiles,g,f.platform,f.encodeFileName),m=0;try{a.forEach(function(S,h){m++;var w=function(b,O){var P=b||O,I=o[P];if(!I)throw new Error(P+" is not a valid compression method !");return I}(h.options.compression,f.compression),c=h.options.compressionOptions||f.compressionOptions||{},y=h.dir,d=h.date;h._compressWorker(w,c).withStreamInfo("file",{name:S,dir:y,date:d,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(x)}),x.entriesCount=m}catch(S){x.error(S)}return x}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,l){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new o;for(var a in this)typeof this[a]!="function"&&(u[a]=this[a]);return u}}(o.prototype=t("./object")).loadAsync=t("./load"),o.support=t("./support"),o.defaults=t("./defaults"),o.version="3.10.1",o.loadAsync=function(u,a){return new o().loadAsync(u,a)},o.external=t("./external"),n.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,l){var o=t("./utils"),u=t("./external"),a=t("./utf8"),f=t("./zipEntries"),g=t("./stream/Crc32Probe"),x=t("./nodejsUtils");function m(S){return new u.Promise(function(h,w){var c=S.decompressed.getContentWorker().pipe(new g);c.on("error",function(y){w(y)}).on("end",function(){c.streamInfo.crc32!==S.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}n.exports=function(S,h){var w=this;return h=o.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),x.isNode&&x.isStream(S)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",S,!0,h.optimizedBinaryString,h.base64).then(function(c){var y=new f(h);return y.load(c),y}).then(function(c){var y=[u.Promise.resolve(c)],d=c.files;if(h.checkCRC32)for(var b=0;b<d.length;b++)y.push(m(d[b]));return u.Promise.all(y)}).then(function(c){for(var y=c.shift(),d=y.files,b=0;b<d.length;b++){var O=d[b],P=O.fileNameStr,I=o.resolve(O.fileNameStr);w.file(I,O.decompressed,{binary:!0,optimizedBinaryString:!0,date:O.date,dir:O.dir,comment:O.fileCommentStr.length?O.fileCommentStr:null,unixPermissions:O.unixPermissions,dosPermissions:O.dosPermissions,createFolders:h.createFolders}),O.dir||(w.file(I).unsafeOriginalName=P)}return y.zipComment.length&&(w.comment=y.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,l){var o=t("../utils"),u=t("../stream/GenericWorker");function a(f,g){u.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(g)}o.inherits(a,u),a.prototype._bindStream=function(f){var g=this;(this._stream=f).pause(),f.on("data",function(x){g.push({data:x,meta:{percent:0}})}).on("error",function(x){g.isPaused?this.generatedError=x:g.error(x)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},a.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,l){var o=t("readable-stream").Readable;function u(a,f,g){o.call(this,f),this._helper=a;var x=this;a.on("data",function(m,S){x.push(m)||x._helper.pause(),g&&g(S)}).on("error",function(m){x.emit("error",m)}).on("end",function(){x.push(null)})}t("../utils").inherits(u,o),u.prototype._read=function(){this._helper.resume()},n.exports=u},{"../utils":32,"readable-stream":16}],14:[function(t,n,l){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,u);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,u)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var u=new Buffer(o);return u.fill(0),u},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(t,n,l){function o(I,H,F){var $,B=a.getTypeOf(H),K=a.extend(F||{},x);K.date=K.date||new Date,K.compression!==null&&(K.compression=K.compression.toUpperCase()),typeof K.unixPermissions=="string"&&(K.unixPermissions=parseInt(K.unixPermissions,8)),K.unixPermissions&&16384&K.unixPermissions&&(K.dir=!0),K.dosPermissions&&16&K.dosPermissions&&(K.dir=!0),K.dir&&(I=d(I)),K.createFolders&&($=y(I))&&b.call(this,$,!0);var Q=B==="string"&&K.binary===!1&&K.base64===!1;F&&F.binary!==void 0||(K.binary=!Q),(H instanceof m&&H.uncompressedSize===0||K.dir||!H||H.length===0)&&(K.base64=!1,K.binary=!0,H="",K.compression="STORE",B="string");var E=null;E=H instanceof m||H instanceof f?H:w.isNode&&w.isStream(H)?new c(I,H):a.prepareContent(I,H,K.binary,K.optimizedBinaryString,K.base64);var L=new S(I,E,K);this.files[I]=L}var u=t("./utf8"),a=t("./utils"),f=t("./stream/GenericWorker"),g=t("./stream/StreamHelper"),x=t("./defaults"),m=t("./compressedObject"),S=t("./zipObject"),h=t("./generate"),w=t("./nodejsUtils"),c=t("./nodejs/NodejsStreamInputAdapter"),y=function(I){I.slice(-1)==="/"&&(I=I.substring(0,I.length-1));var H=I.lastIndexOf("/");return 0<H?I.substring(0,H):""},d=function(I){return I.slice(-1)!=="/"&&(I+="/"),I},b=function(I,H){return H=H!==void 0?H:x.createFolders,I=d(I),this.files[I]||o.call(this,I,null,{dir:!0,createFolders:H}),this.files[I]};function O(I){return Object.prototype.toString.call(I)==="[object RegExp]"}var P={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(I){var H,F,$;for(H in this.files)$=this.files[H],(F=H.slice(this.root.length,H.length))&&H.slice(0,this.root.length)===this.root&&I(F,$)},filter:function(I){var H=[];return this.forEach(function(F,$){I(F,$)&&H.push($)}),H},file:function(I,H,F){if(arguments.length!==1)return I=this.root+I,o.call(this,I,H,F),this;if(O(I)){var $=I;return this.filter(function(K,Q){return!Q.dir&&$.test(K)})}var B=this.files[this.root+I];return B&&!B.dir?B:null},folder:function(I){if(!I)return this;if(O(I))return this.filter(function(B,K){return K.dir&&I.test(B)});var H=this.root+I,F=b.call(this,H),$=this.clone();return $.root=F.name,$},remove:function(I){I=this.root+I;var H=this.files[I];if(H||(I.slice(-1)!=="/"&&(I+="/"),H=this.files[I]),H&&!H.dir)delete this.files[I];else for(var F=this.filter(function(B,K){return K.name.slice(0,I.length)===I}),$=0;$<F.length;$++)delete this.files[F[$].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(I){var H,F={};try{if((F=a.extend(I||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");a.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var $=F.comment||this.comment||"";H=h.generateWorker(this,F,$)}catch(B){(H=new f("error")).error(B)}return new g(H,F.type||"string",F.mimeType)},generateAsync:function(I,H){return this.generateInternalStream(I).accumulate(H)},generateNodeStream:function(I,H){return(I=I||{}).type||(I.type="nodebuffer"),this.generateInternalStream(I).toNodejsStream(H)}};n.exports=P},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,l){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,l){var o=t("./DataReader");function u(a){o.call(this,a);for(var f=0;f<this.data.length;f++)a[f]=255&a[f]}t("../utils").inherits(u,o),u.prototype.byteAt=function(a){return this.data[this.zero+a]},u.prototype.lastIndexOfSignature=function(a){for(var f=a.charCodeAt(0),g=a.charCodeAt(1),x=a.charCodeAt(2),m=a.charCodeAt(3),S=this.length-4;0<=S;--S)if(this.data[S]===f&&this.data[S+1]===g&&this.data[S+2]===x&&this.data[S+3]===m)return S-this.zero;return-1},u.prototype.readAndCheckSignature=function(a){var f=a.charCodeAt(0),g=a.charCodeAt(1),x=a.charCodeAt(2),m=a.charCodeAt(3),S=this.readData(4);return f===S[0]&&g===S[1]&&x===S[2]&&m===S[3]},u.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,f},n.exports=u},{"../utils":32,"./DataReader":18}],18:[function(t,n,l){var o=t("../utils");function u(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var f,g=0;for(this.checkOffset(a),f=this.index+a-1;f>=this.index;f--)g=(g<<8)+this.byteAt(f);return this.index+=a,g},readString:function(a){return o.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},n.exports=u},{"../utils":32}],19:[function(t,n,l){var o=t("./Uint8ArrayReader");function u(a){o.call(this,a)}t("../utils").inherits(u,o),u.prototype.readData=function(a){this.checkOffset(a);var f=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,f},n.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,l){var o=t("./DataReader");function u(a){o.call(this,a)}t("../utils").inherits(u,o),u.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},u.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},u.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},u.prototype.readData=function(a){this.checkOffset(a);var f=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,f},n.exports=u},{"../utils":32,"./DataReader":18}],21:[function(t,n,l){var o=t("./ArrayReader");function u(a){o.call(this,a)}t("../utils").inherits(u,o),u.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,f},n.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,l){var o=t("../utils"),u=t("../support"),a=t("./ArrayReader"),f=t("./StringReader"),g=t("./NodeBufferReader"),x=t("./Uint8ArrayReader");n.exports=function(m){var S=o.getTypeOf(m);return o.checkSupport(S),S!=="string"||u.uint8array?S==="nodebuffer"?new g(m):u.uint8array?new x(o.transformTo("uint8array",m)):new a(o.transformTo("array",m)):new f(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,l){l.LOCAL_FILE_HEADER="PK",l.CENTRAL_FILE_HEADER="PK",l.CENTRAL_DIRECTORY_END="PK",l.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",l.ZIP64_CENTRAL_DIRECTORY_END="PK",l.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,l){var o=t("./GenericWorker"),u=t("../utils");function a(f){o.call(this,"ConvertWorker to "+f),this.destType=f}u.inherits(a,o),a.prototype.processChunk=function(f){this.push({data:u.transformTo(this.destType,f.data),meta:f.meta})},n.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,l){var o=t("./GenericWorker"),u=t("../crc32");function a(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(a,o),a.prototype.processChunk=function(f){this.streamInfo.crc32=u(f.data,this.streamInfo.crc32||0),this.push(f)},n.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,l){var o=t("../utils"),u=t("./GenericWorker");function a(f){u.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}o.inherits(a,u),a.prototype.processChunk=function(f){if(f){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+f.data.length}u.prototype.processChunk.call(this,f)},n.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,l){var o=t("../utils"),u=t("./GenericWorker");function a(f){u.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(x){g.dataIsReady=!0,g.data=x,g.max=x&&x.length||0,g.type=o.getTypeOf(x),g.isPaused||g._tickAndRepeat()},function(x){g.error(x)})}o.inherits(a,u),a.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,g);break;case"uint8array":f=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":f=this.data.slice(this.index,g)}return this.index=g,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,l){function o(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,a){return this._listeners[u].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,a){if(this._listeners[u])for(var f=0;f<this._listeners[u].length;f++)this._listeners[u][f].call(this,a)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var a=this;return u.on("data",function(f){a.processChunk(f)}),u.on("end",function(){a.end()}),u.on("error",function(f){a.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var u=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,a){return this.extraStreamInfo[u]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},n.exports=o},{}],29:[function(t,n,l){var o=t("../utils"),u=t("./ConvertWorker"),a=t("./GenericWorker"),f=t("../base64"),g=t("../support"),x=t("../external"),m=null;if(g.nodestream)try{m=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function S(w,c){return new x.Promise(function(y,d){var b=[],O=w._internalType,P=w._outputType,I=w._mimeType;w.on("data",function(H,F){b.push(H),c&&c(F)}).on("error",function(H){b=[],d(H)}).on("end",function(){try{var H=function(F,$,B){switch(F){case"blob":return o.newBlob(o.transformTo("arraybuffer",$),B);case"base64":return f.encode($);default:return o.transformTo(F,$)}}(P,function(F,$){var B,K=0,Q=null,E=0;for(B=0;B<$.length;B++)E+=$[B].length;switch(F){case"string":return $.join("");case"array":return Array.prototype.concat.apply([],$);case"uint8array":for(Q=new Uint8Array(E),B=0;B<$.length;B++)Q.set($[B],K),K+=$[B].length;return Q;case"nodebuffer":return Buffer.concat($);default:throw new Error("concat : unsupported type '"+F+"'")}}(O,b),I);y(H)}catch(F){d(F)}b=[]}).resume()})}function h(w,c,y){var d=c;switch(c){case"blob":case"arraybuffer":d="uint8array";break;case"base64":d="string"}try{this._internalType=d,this._outputType=c,this._mimeType=y,o.checkSupport(d),this._worker=w.pipe(new u(d)),w.lock()}catch(b){this._worker=new a("error"),this._worker.error(b)}}h.prototype={accumulate:function(w){return S(this,w)},on:function(w,c){var y=this;return w==="data"?this._worker.on(w,function(d){c.call(y,d.data,d.meta)}):this._worker.on(w,function(){o.delay(c,arguments,y)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},w)}},n.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,l){if(l.base64=!0,l.array=!0,l.string=!0,l.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",l.nodebuffer=typeof Buffer<"u",l.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")l.blob=!1;else{var o=new ArrayBuffer(0);try{l.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(o),l.blob=u.getBlob("application/zip").size===0}catch{l.blob=!1}}}try{l.nodestream=!!t("readable-stream").Readable}catch{l.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,l){for(var o=t("./utils"),u=t("./support"),a=t("./nodejsUtils"),f=t("./stream/GenericWorker"),g=new Array(256),x=0;x<256;x++)g[x]=252<=x?6:248<=x?5:240<=x?4:224<=x?3:192<=x?2:1;g[254]=g[254]=1;function m(){f.call(this,"utf-8 decode"),this.leftOver=null}function S(){f.call(this,"utf-8 encode")}l.utf8encode=function(h){return u.nodebuffer?a.newBufferFrom(h,"utf-8"):function(w){var c,y,d,b,O,P=w.length,I=0;for(b=0;b<P;b++)(64512&(y=w.charCodeAt(b)))==55296&&b+1<P&&(64512&(d=w.charCodeAt(b+1)))==56320&&(y=65536+(y-55296<<10)+(d-56320),b++),I+=y<128?1:y<2048?2:y<65536?3:4;for(c=u.uint8array?new Uint8Array(I):new Array(I),b=O=0;O<I;b++)(64512&(y=w.charCodeAt(b)))==55296&&b+1<P&&(64512&(d=w.charCodeAt(b+1)))==56320&&(y=65536+(y-55296<<10)+(d-56320),b++),y<128?c[O++]=y:(y<2048?c[O++]=192|y>>>6:(y<65536?c[O++]=224|y>>>12:(c[O++]=240|y>>>18,c[O++]=128|y>>>12&63),c[O++]=128|y>>>6&63),c[O++]=128|63&y);return c}(h)},l.utf8decode=function(h){return u.nodebuffer?o.transformTo("nodebuffer",h).toString("utf-8"):function(w){var c,y,d,b,O=w.length,P=new Array(2*O);for(c=y=0;c<O;)if((d=w[c++])<128)P[y++]=d;else if(4<(b=g[d]))P[y++]=65533,c+=b-1;else{for(d&=b===2?31:b===3?15:7;1<b&&c<O;)d=d<<6|63&w[c++],b--;1<b?P[y++]=65533:d<65536?P[y++]=d:(d-=65536,P[y++]=55296|d>>10&1023,P[y++]=56320|1023&d)}return P.length!==y&&(P.subarray?P=P.subarray(0,y):P.length=y),o.applyFromCharCode(P)}(h=o.transformTo(u.uint8array?"uint8array":"array",h))},o.inherits(m,f),m.prototype.processChunk=function(h){var w=o.transformTo(u.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var c=w;(w=new Uint8Array(c.length+this.leftOver.length)).set(this.leftOver,0),w.set(c,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var y=function(b,O){var P;for((O=O||b.length)>b.length&&(O=b.length),P=O-1;0<=P&&(192&b[P])==128;)P--;return P<0||P===0?O:P+g[b[P]]>O?P:O}(w),d=w;y!==w.length&&(u.uint8array?(d=w.subarray(0,y),this.leftOver=w.subarray(y,w.length)):(d=w.slice(0,y),this.leftOver=w.slice(y,w.length))),this.push({data:l.utf8decode(d),meta:h.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:l.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},l.Utf8DecodeWorker=m,o.inherits(S,f),S.prototype.processChunk=function(h){this.push({data:l.utf8encode(h.data),meta:h.meta})},l.Utf8EncodeWorker=S},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,l){var o=t("./support"),u=t("./base64"),a=t("./nodejsUtils"),f=t("./external");function g(c){return c}function x(c,y){for(var d=0;d<c.length;++d)y[d]=255&c.charCodeAt(d);return y}t("setimmediate"),l.newBlob=function(c,y){l.checkSupport("blob");try{return new Blob([c],{type:y})}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(c),d.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(c,y,d){var b=[],O=0,P=c.length;if(P<=d)return String.fromCharCode.apply(null,c);for(;O<P;)y==="array"||y==="nodebuffer"?b.push(String.fromCharCode.apply(null,c.slice(O,Math.min(O+d,P)))):b.push(String.fromCharCode.apply(null,c.subarray(O,Math.min(O+d,P)))),O+=d;return b.join("")},stringifyByChar:function(c){for(var y="",d=0;d<c.length;d++)y+=String.fromCharCode(c[d]);return y},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function S(c){var y=65536,d=l.getTypeOf(c),b=!0;if(d==="uint8array"?b=m.applyCanBeUsed.uint8array:d==="nodebuffer"&&(b=m.applyCanBeUsed.nodebuffer),b)for(;1<y;)try{return m.stringifyByChunk(c,d,y)}catch{y=Math.floor(y/2)}return m.stringifyByChar(c)}function h(c,y){for(var d=0;d<c.length;d++)y[d]=c[d];return y}l.applyFromCharCode=S;var w={};w.string={string:g,array:function(c){return x(c,new Array(c.length))},arraybuffer:function(c){return w.string.uint8array(c).buffer},uint8array:function(c){return x(c,new Uint8Array(c.length))},nodebuffer:function(c){return x(c,a.allocBuffer(c.length))}},w.array={string:S,array:g,arraybuffer:function(c){return new Uint8Array(c).buffer},uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return a.newBufferFrom(c)}},w.arraybuffer={string:function(c){return S(new Uint8Array(c))},array:function(c){return h(new Uint8Array(c),new Array(c.byteLength))},arraybuffer:g,uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return a.newBufferFrom(new Uint8Array(c))}},w.uint8array={string:S,array:function(c){return h(c,new Array(c.length))},arraybuffer:function(c){return c.buffer},uint8array:g,nodebuffer:function(c){return a.newBufferFrom(c)}},w.nodebuffer={string:S,array:function(c){return h(c,new Array(c.length))},arraybuffer:function(c){return w.nodebuffer.uint8array(c).buffer},uint8array:function(c){return h(c,new Uint8Array(c.length))},nodebuffer:g},l.transformTo=function(c,y){if(y=y||"",!c)return y;l.checkSupport(c);var d=l.getTypeOf(y);return w[d][c](y)},l.resolve=function(c){for(var y=c.split("/"),d=[],b=0;b<y.length;b++){var O=y[b];O==="."||O===""&&b!==0&&b!==y.length-1||(O===".."?d.pop():d.push(O))}return d.join("/")},l.getTypeOf=function(c){return typeof c=="string"?"string":Object.prototype.toString.call(c)==="[object Array]"?"array":o.nodebuffer&&a.isBuffer(c)?"nodebuffer":o.uint8array&&c instanceof Uint8Array?"uint8array":o.arraybuffer&&c instanceof ArrayBuffer?"arraybuffer":void 0},l.checkSupport=function(c){if(!o[c.toLowerCase()])throw new Error(c+" is not supported by this platform")},l.MAX_VALUE_16BITS=65535,l.MAX_VALUE_32BITS=-1,l.pretty=function(c){var y,d,b="";for(d=0;d<(c||"").length;d++)b+="\\x"+((y=c.charCodeAt(d))<16?"0":"")+y.toString(16).toUpperCase();return b},l.delay=function(c,y,d){setImmediate(function(){c.apply(d||null,y||[])})},l.inherits=function(c,y){function d(){}d.prototype=y.prototype,c.prototype=new d},l.extend=function(){var c,y,d={};for(c=0;c<arguments.length;c++)for(y in arguments[c])Object.prototype.hasOwnProperty.call(arguments[c],y)&&d[y]===void 0&&(d[y]=arguments[c][y]);return d},l.prepareContent=function(c,y,d,b,O){return f.Promise.resolve(y).then(function(P){return o.blob&&(P instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(P))!==-1)&&typeof FileReader<"u"?new f.Promise(function(I,H){var F=new FileReader;F.onload=function($){I($.target.result)},F.onerror=function($){H($.target.error)},F.readAsArrayBuffer(P)}):P}).then(function(P){var I=l.getTypeOf(P);return I?(I==="arraybuffer"?P=l.transformTo("uint8array",P):I==="string"&&(O?P=u.decode(P):d&&b!==!0&&(P=function(H){return x(H,o.uint8array?new Uint8Array(H.length):new Array(H.length))}(P))),P):f.Promise.reject(new Error("Can't read the data of '"+c+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,l){var o=t("./reader/readerFor"),u=t("./utils"),a=t("./signature"),f=t("./zipEntry"),g=t("./support");function x(m){this.files=[],this.loadOptions=m}x.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var S=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(S)+", expected "+u.pretty(m)+")")}},isSignature:function(m,S){var h=this.reader.index;this.reader.setIndex(m);var w=this.reader.readString(4)===S;return this.reader.setIndex(h),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),S=g.uint8array?"uint8array":"array",h=u.transformTo(S,m);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,S,h,w=this.zip64EndOfCentralSize-44;0<w;)m=this.reader.readInt(2),S=this.reader.readInt(4),h=this.reader.readData(S),this.zip64ExtensibleData[m]={id:m,length:S,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,S;for(m=0;m<this.files.length;m++)S=this.files[m],this.reader.setIndex(S.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),S.readLocalPart(this.reader),S.handleUTF8(),S.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(m=new f({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var S=m;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var w=S-h;if(0<w)this.isSignature(S,a.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(m){this.reader=o(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=x},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,l){var o=t("./reader/readerFor"),u=t("./utils"),a=t("./compressedObject"),f=t("./crc32"),g=t("./utf8"),x=t("./compressions"),m=t("./support");function S(h,w){this.options=h,this.loadOptions=w}S.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var w,c;if(h.skip(22),this.fileNameLength=h.readInt(2),c=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(c),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=function(y){for(var d in x)if(Object.prototype.hasOwnProperty.call(x,d)&&x[d].magic===y)return x[d];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,w,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var w=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(w),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=o(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var w,c,y,d=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<d;)w=h.readInt(2),c=h.readInt(2),y=h.readData(c),this.extraFields[w]={id:w,length:c,value:y};h.setIndex(d)},handleUTF8:function(){var h=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var c=u.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(c)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var d=u.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(d)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var w=o(h.value);return w.readInt(1)!==1||f(this.fileName)!==w.readInt(4)?null:g.utf8decode(w.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var w=o(h.value);return w.readInt(1)!==1||f(this.fileComment)!==w.readInt(4)?null:g.utf8decode(w.readData(h.length-5))}return null}},n.exports=S},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,l){function o(w,c,y){this.name=w,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=c,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var u=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),f=t("./utf8"),g=t("./compressedObject"),x=t("./stream/GenericWorker");o.prototype={internalStream:function(w){var c=null,y="string";try{if(!w)throw new Error("No output type specified.");var d=(y=w.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),c=this._decompressWorker();var b=!this._dataBinary;b&&!d&&(c=c.pipe(new f.Utf8EncodeWorker)),!b&&d&&(c=c.pipe(new f.Utf8DecodeWorker))}catch(O){(c=new x("error")).error(O)}return new u(c,y,"")},async:function(w,c){return this.internalStream(w).accumulate(c)},nodeStream:function(w,c){return this.internalStream(w||"nodebuffer").toNodejsStream(c)},_compressWorker:function(w,c){if(this._data instanceof g&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new f.Utf8EncodeWorker)),g.createWorkerFrom(y,w,c)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof x?this._data:new a(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],S=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<m.length;h++)o.prototype[m[h]]=S;n.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,l){(function(o){var u,a,f=o.MutationObserver||o.WebKitMutationObserver;if(f){var g=0,x=new f(w),m=o.document.createTextNode("");x.observe(m,{characterData:!0}),u=function(){m.data=g=++g%2}}else if(o.setImmediate||o.MessageChannel===void 0)u="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var c=o.document.createElement("script");c.onreadystatechange=function(){w(),c.onreadystatechange=null,c.parentNode.removeChild(c),c=null},o.document.documentElement.appendChild(c)}:function(){setTimeout(w,0)};else{var S=new o.MessageChannel;S.port1.onmessage=w,u=function(){S.port2.postMessage(0)}}var h=[];function w(){var c,y;a=!0;for(var d=h.length;d;){for(y=h,h=[],c=-1;++c<d;)y[c]();d=h.length}a=!1}n.exports=function(c){h.push(c)!==1||a||u()}}).call(this,typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,l){var o=t("immediate");function u(){}var a={},f=["REJECTED"],g=["FULFILLED"],x=["PENDING"];function m(d){if(typeof d!="function")throw new TypeError("resolver must be a function");this.state=x,this.queue=[],this.outcome=void 0,d!==u&&c(this,d)}function S(d,b,O){this.promise=d,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}function h(d,b,O){o(function(){var P;try{P=b(O)}catch(I){return a.reject(d,I)}P===d?a.reject(d,new TypeError("Cannot resolve promise with itself")):a.resolve(d,P)})}function w(d){var b=d&&d.then;if(d&&(typeof d=="object"||typeof d=="function")&&typeof b=="function")return function(){b.apply(d,arguments)}}function c(d,b){var O=!1;function P(F){O||(O=!0,a.reject(d,F))}function I(F){O||(O=!0,a.resolve(d,F))}var H=y(function(){b(I,P)});H.status==="error"&&P(H.value)}function y(d,b){var O={};try{O.value=d(b),O.status="success"}catch(P){O.status="error",O.value=P}return O}(n.exports=m).prototype.finally=function(d){if(typeof d!="function")return this;var b=this.constructor;return this.then(function(O){return b.resolve(d()).then(function(){return O})},function(O){return b.resolve(d()).then(function(){throw O})})},m.prototype.catch=function(d){return this.then(null,d)},m.prototype.then=function(d,b){if(typeof d!="function"&&this.state===g||typeof b!="function"&&this.state===f)return this;var O=new this.constructor(u);return this.state!==x?h(O,this.state===g?d:b,this.outcome):this.queue.push(new S(O,d,b)),O},S.prototype.callFulfilled=function(d){a.resolve(this.promise,d)},S.prototype.otherCallFulfilled=function(d){h(this.promise,this.onFulfilled,d)},S.prototype.callRejected=function(d){a.reject(this.promise,d)},S.prototype.otherCallRejected=function(d){h(this.promise,this.onRejected,d)},a.resolve=function(d,b){var O=y(w,b);if(O.status==="error")return a.reject(d,O.value);var P=O.value;if(P)c(d,P);else{d.state=g,d.outcome=b;for(var I=-1,H=d.queue.length;++I<H;)d.queue[I].callFulfilled(b)}return d},a.reject=function(d,b){d.state=f,d.outcome=b;for(var O=-1,P=d.queue.length;++O<P;)d.queue[O].callRejected(b);return d},m.resolve=function(d){return d instanceof this?d:a.resolve(new this(u),d)},m.reject=function(d){var b=new this(u);return a.reject(b,d)},m.all=function(d){var b=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=d.length,P=!1;if(!O)return this.resolve([]);for(var I=new Array(O),H=0,F=-1,$=new this(u);++F<O;)B(d[F],F);return $;function B(K,Q){b.resolve(K).then(function(E){I[Q]=E,++H!==O||P||(P=!0,a.resolve($,I))},function(E){P||(P=!0,a.reject($,E))})}},m.race=function(d){var b=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=d.length,P=!1;if(!O)return this.resolve([]);for(var I=-1,H=new this(u);++I<O;)F=d[I],b.resolve(F).then(function($){P||(P=!0,a.resolve(H,$))},function($){P||(P=!0,a.reject(H,$))});var F;return H}},{immediate:36}],38:[function(t,n,l){var o={};(0,t("./lib/utils/common").assign)(o,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,l){var o=t("./zlib/deflate"),u=t("./utils/common"),a=t("./utils/strings"),f=t("./zlib/messages"),g=t("./zlib/zstream"),x=Object.prototype.toString,m=0,S=-1,h=0,w=8;function c(d){if(!(this instanceof c))return new c(d);this.options=u.assign({level:S,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},d||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var O=o.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(O!==m)throw new Error(f[O]);if(b.header&&o.deflateSetHeader(this.strm,b.header),b.dictionary){var P;if(P=typeof b.dictionary=="string"?a.string2buf(b.dictionary):x.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(O=o.deflateSetDictionary(this.strm,P))!==m)throw new Error(f[O]);this._dict_set=!0}}function y(d,b){var O=new c(b);if(O.push(d,!0),O.err)throw O.msg||f[O.err];return O.result}c.prototype.push=function(d,b){var O,P,I=this.strm,H=this.options.chunkSize;if(this.ended)return!1;P=b===~~b?b:b===!0?4:0,typeof d=="string"?I.input=a.string2buf(d):x.call(d)==="[object ArrayBuffer]"?I.input=new Uint8Array(d):I.input=d,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new u.Buf8(H),I.next_out=0,I.avail_out=H),(O=o.deflate(I,P))!==1&&O!==m)return this.onEnd(O),!(this.ended=!0);I.avail_out!==0&&(I.avail_in!==0||P!==4&&P!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(u.shrinkBuf(I.output,I.next_out))):this.onData(u.shrinkBuf(I.output,I.next_out)))}while((0<I.avail_in||I.avail_out===0)&&O!==1);return P===4?(O=o.deflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===m):P!==2||(this.onEnd(m),!(I.avail_out=0))},c.prototype.onData=function(d){this.chunks.push(d)},c.prototype.onEnd=function(d){d===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},l.Deflate=c,l.deflate=y,l.deflateRaw=function(d,b){return(b=b||{}).raw=!0,y(d,b)},l.gzip=function(d,b){return(b=b||{}).gzip=!0,y(d,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,l){var o=t("./zlib/inflate"),u=t("./utils/common"),a=t("./utils/strings"),f=t("./zlib/constants"),g=t("./zlib/messages"),x=t("./zlib/zstream"),m=t("./zlib/gzheader"),S=Object.prototype.toString;function h(c){if(!(this instanceof h))return new h(c);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},c||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||c&&c.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&!(15&y.windowBits)&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x,this.strm.avail_out=0;var d=o.inflateInit2(this.strm,y.windowBits);if(d!==f.Z_OK)throw new Error(g[d]);this.header=new m,o.inflateGetHeader(this.strm,this.header)}function w(c,y){var d=new h(y);if(d.push(c,!0),d.err)throw d.msg||g[d.err];return d.result}h.prototype.push=function(c,y){var d,b,O,P,I,H,F=this.strm,$=this.options.chunkSize,B=this.options.dictionary,K=!1;if(this.ended)return!1;b=y===~~y?y:y===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof c=="string"?F.input=a.binstring2buf(c):S.call(c)==="[object ArrayBuffer]"?F.input=new Uint8Array(c):F.input=c,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new u.Buf8($),F.next_out=0,F.avail_out=$),(d=o.inflate(F,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&B&&(H=typeof B=="string"?a.string2buf(B):S.call(B)==="[object ArrayBuffer]"?new Uint8Array(B):B,d=o.inflateSetDictionary(this.strm,H)),d===f.Z_BUF_ERROR&&K===!0&&(d=f.Z_OK,K=!1),d!==f.Z_STREAM_END&&d!==f.Z_OK)return this.onEnd(d),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&d!==f.Z_STREAM_END&&(F.avail_in!==0||b!==f.Z_FINISH&&b!==f.Z_SYNC_FLUSH)||(this.options.to==="string"?(O=a.utf8border(F.output,F.next_out),P=F.next_out-O,I=a.buf2string(F.output,O),F.next_out=P,F.avail_out=$-P,P&&u.arraySet(F.output,F.output,O,P,0),this.onData(I)):this.onData(u.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&(K=!0)}while((0<F.avail_in||F.avail_out===0)&&d!==f.Z_STREAM_END);return d===f.Z_STREAM_END&&(b=f.Z_FINISH),b===f.Z_FINISH?(d=o.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===f.Z_OK):b!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),!(F.avail_out=0))},h.prototype.onData=function(c){this.chunks.push(c)},h.prototype.onEnd=function(c){c===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},l.Inflate=h,l.inflate=w,l.inflateRaw=function(c,y){return(y=y||{}).raw=!0,w(c,y)},l.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,l){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";l.assign=function(f){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var x=g.shift();if(x){if(typeof x!="object")throw new TypeError(x+"must be non-object");for(var m in x)x.hasOwnProperty(m)&&(f[m]=x[m])}}return f},l.shrinkBuf=function(f,g){return f.length===g?f:f.subarray?f.subarray(0,g):(f.length=g,f)};var u={arraySet:function(f,g,x,m,S){if(g.subarray&&f.subarray)f.set(g.subarray(x,x+m),S);else for(var h=0;h<m;h++)f[S+h]=g[x+h]},flattenChunks:function(f){var g,x,m,S,h,w;for(g=m=0,x=f.length;g<x;g++)m+=f[g].length;for(w=new Uint8Array(m),g=S=0,x=f.length;g<x;g++)h=f[g],w.set(h,S),S+=h.length;return w}},a={arraySet:function(f,g,x,m,S){for(var h=0;h<m;h++)f[S+h]=g[x+h]},flattenChunks:function(f){return[].concat.apply([],f)}};l.setTyped=function(f){f?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,u)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,a))},l.setTyped(o)},{}],42:[function(t,n,l){var o=t("./common"),u=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var f=new o.Buf8(256),g=0;g<256;g++)f[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function x(m,S){if(S<65537&&(m.subarray&&a||!m.subarray&&u))return String.fromCharCode.apply(null,o.shrinkBuf(m,S));for(var h="",w=0;w<S;w++)h+=String.fromCharCode(m[w]);return h}f[254]=f[254]=1,l.string2buf=function(m){var S,h,w,c,y,d=m.length,b=0;for(c=0;c<d;c++)(64512&(h=m.charCodeAt(c)))==55296&&c+1<d&&(64512&(w=m.charCodeAt(c+1)))==56320&&(h=65536+(h-55296<<10)+(w-56320),c++),b+=h<128?1:h<2048?2:h<65536?3:4;for(S=new o.Buf8(b),c=y=0;y<b;c++)(64512&(h=m.charCodeAt(c)))==55296&&c+1<d&&(64512&(w=m.charCodeAt(c+1)))==56320&&(h=65536+(h-55296<<10)+(w-56320),c++),h<128?S[y++]=h:(h<2048?S[y++]=192|h>>>6:(h<65536?S[y++]=224|h>>>12:(S[y++]=240|h>>>18,S[y++]=128|h>>>12&63),S[y++]=128|h>>>6&63),S[y++]=128|63&h);return S},l.buf2binstring=function(m){return x(m,m.length)},l.binstring2buf=function(m){for(var S=new o.Buf8(m.length),h=0,w=S.length;h<w;h++)S[h]=m.charCodeAt(h);return S},l.buf2string=function(m,S){var h,w,c,y,d=S||m.length,b=new Array(2*d);for(h=w=0;h<d;)if((c=m[h++])<128)b[w++]=c;else if(4<(y=f[c]))b[w++]=65533,h+=y-1;else{for(c&=y===2?31:y===3?15:7;1<y&&h<d;)c=c<<6|63&m[h++],y--;1<y?b[w++]=65533:c<65536?b[w++]=c:(c-=65536,b[w++]=55296|c>>10&1023,b[w++]=56320|1023&c)}return x(b,w)},l.utf8border=function(m,S){var h;for((S=S||m.length)>m.length&&(S=m.length),h=S-1;0<=h&&(192&m[h])==128;)h--;return h<0||h===0?S:h+f[m[h]]>S?h:S}},{"./common":41}],43:[function(t,n,l){n.exports=function(o,u,a,f){for(var g=65535&o|0,x=o>>>16&65535|0,m=0;a!==0;){for(a-=m=2e3<a?2e3:a;x=x+(g=g+u[f++]|0)|0,--m;);g%=65521,x%=65521}return g|x<<16|0}},{}],44:[function(t,n,l){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,l){var o=function(){for(var u,a=[],f=0;f<256;f++){u=f;for(var g=0;g<8;g++)u=1&u?3988292384^u>>>1:u>>>1;a[f]=u}return a}();n.exports=function(u,a,f,g){var x=o,m=g+f;u^=-1;for(var S=g;S<m;S++)u=u>>>8^x[255&(u^a[S])];return-1^u}},{}],46:[function(t,n,l){var o,u=t("../utils/common"),a=t("./trees"),f=t("./adler32"),g=t("./crc32"),x=t("./messages"),m=0,S=4,h=0,w=-2,c=-1,y=4,d=2,b=8,O=9,P=286,I=30,H=19,F=2*P+1,$=15,B=3,K=258,Q=K+B+1,E=42,L=113,s=1,N=2,A=3,p=4;function U(i,Z){return i.msg=x[Z],Z}function z(i){return(i<<1)-(4<i?9:0)}function D(i){for(var Z=i.length;0<=--Z;)i[Z]=0}function k(i){var Z=i.state,j=Z.pending;j>i.avail_out&&(j=i.avail_out),j!==0&&(u.arraySet(i.output,Z.pending_buf,Z.pending_out,j,i.next_out),i.next_out+=j,Z.pending_out+=j,i.total_out+=j,i.avail_out-=j,Z.pending-=j,Z.pending===0&&(Z.pending_out=0))}function C(i,Z){a._tr_flush_block(i,0<=i.block_start?i.block_start:-1,i.strstart-i.block_start,Z),i.block_start=i.strstart,k(i.strm)}function V(i,Z){i.pending_buf[i.pending++]=Z}function q(i,Z){i.pending_buf[i.pending++]=Z>>>8&255,i.pending_buf[i.pending++]=255&Z}function G(i,Z){var j,v,_=i.max_chain_length,R=i.strstart,M=i.prev_length,W=i.nice_match,T=i.strstart>i.w_size-Q?i.strstart-(i.w_size-Q):0,Y=i.window,J=i.w_mask,X=i.prev,tt=i.strstart+K,at=Y[R+M-1],nt=Y[R+M];i.prev_length>=i.good_match&&(_>>=2),W>i.lookahead&&(W=i.lookahead);do if(Y[(j=Z)+M]===nt&&Y[j+M-1]===at&&Y[j]===Y[R]&&Y[++j]===Y[R+1]){R+=2,j++;do;while(Y[++R]===Y[++j]&&Y[++R]===Y[++j]&&Y[++R]===Y[++j]&&Y[++R]===Y[++j]&&Y[++R]===Y[++j]&&Y[++R]===Y[++j]&&Y[++R]===Y[++j]&&Y[++R]===Y[++j]&&R<tt);if(v=K-(tt-R),R=tt-K,M<v){if(i.match_start=Z,W<=(M=v))break;at=Y[R+M-1],nt=Y[R+M]}}while((Z=X[Z&J])>T&&--_!=0);return M<=i.lookahead?M:i.lookahead}function et(i){var Z,j,v,_,R,M,W,T,Y,J,X=i.w_size;do{if(_=i.window_size-i.lookahead-i.strstart,i.strstart>=X+(X-Q)){for(u.arraySet(i.window,i.window,X,X,0),i.match_start-=X,i.strstart-=X,i.block_start-=X,Z=j=i.hash_size;v=i.head[--Z],i.head[Z]=X<=v?v-X:0,--j;);for(Z=j=X;v=i.prev[--Z],i.prev[Z]=X<=v?v-X:0,--j;);_+=X}if(i.strm.avail_in===0)break;if(M=i.strm,W=i.window,T=i.strstart+i.lookahead,Y=_,J=void 0,J=M.avail_in,Y<J&&(J=Y),j=J===0?0:(M.avail_in-=J,u.arraySet(W,M.input,M.next_in,J,T),M.state.wrap===1?M.adler=f(M.adler,W,J,T):M.state.wrap===2&&(M.adler=g(M.adler,W,J,T)),M.next_in+=J,M.total_in+=J,J),i.lookahead+=j,i.lookahead+i.insert>=B)for(R=i.strstart-i.insert,i.ins_h=i.window[R],i.ins_h=(i.ins_h<<i.hash_shift^i.window[R+1])&i.hash_mask;i.insert&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[R+B-1])&i.hash_mask,i.prev[R&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=R,R++,i.insert--,!(i.lookahead+i.insert<B)););}while(i.lookahead<Q&&i.strm.avail_in!==0)}function it(i,Z){for(var j,v;;){if(i.lookahead<Q){if(et(i),i.lookahead<Q&&Z===m)return s;if(i.lookahead===0)break}if(j=0,i.lookahead>=B&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+B-1])&i.hash_mask,j=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),j!==0&&i.strstart-j<=i.w_size-Q&&(i.match_length=G(i,j)),i.match_length>=B)if(v=a._tr_tally(i,i.strstart-i.match_start,i.match_length-B),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=B){for(i.match_length--;i.strstart++,i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+B-1])&i.hash_mask,j=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart,--i.match_length!=0;);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+1])&i.hash_mask;else v=a._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(v&&(C(i,!1),i.strm.avail_out===0))return s}return i.insert=i.strstart<B-1?i.strstart:B-1,Z===S?(C(i,!0),i.strm.avail_out===0?A:p):i.last_lit&&(C(i,!1),i.strm.avail_out===0)?s:N}function rt(i,Z){for(var j,v,_;;){if(i.lookahead<Q){if(et(i),i.lookahead<Q&&Z===m)return s;if(i.lookahead===0)break}if(j=0,i.lookahead>=B&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+B-1])&i.hash_mask,j=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=B-1,j!==0&&i.prev_length<i.max_lazy_match&&i.strstart-j<=i.w_size-Q&&(i.match_length=G(i,j),i.match_length<=5&&(i.strategy===1||i.match_length===B&&4096<i.strstart-i.match_start)&&(i.match_length=B-1)),i.prev_length>=B&&i.match_length<=i.prev_length){for(_=i.strstart+i.lookahead-B,v=a._tr_tally(i,i.strstart-1-i.prev_match,i.prev_length-B),i.lookahead-=i.prev_length-1,i.prev_length-=2;++i.strstart<=_&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+B-1])&i.hash_mask,j=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),--i.prev_length!=0;);if(i.match_available=0,i.match_length=B-1,i.strstart++,v&&(C(i,!1),i.strm.avail_out===0))return s}else if(i.match_available){if((v=a._tr_tally(i,0,i.window[i.strstart-1]))&&C(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return s}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(v=a._tr_tally(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<B-1?i.strstart:B-1,Z===S?(C(i,!0),i.strm.avail_out===0?A:p):i.last_lit&&(C(i,!1),i.strm.avail_out===0)?s:N}function ot(i,Z,j,v,_){this.good_length=i,this.max_lazy=Z,this.nice_length=j,this.max_chain=v,this.func=_}function lt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*F),this.dyn_dtree=new u.Buf16(2*(2*I+1)),this.bl_tree=new u.Buf16(2*(2*H+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16($+1),this.heap=new u.Buf16(2*P+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*P+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function st(i){var Z;return i&&i.state?(i.total_in=i.total_out=0,i.data_type=d,(Z=i.state).pending=0,Z.pending_out=0,Z.wrap<0&&(Z.wrap=-Z.wrap),Z.status=Z.wrap?E:L,i.adler=Z.wrap===2?0:1,Z.last_flush=m,a._tr_init(Z),h):U(i,w)}function dt(i){var Z=st(i);return Z===h&&function(j){j.window_size=2*j.w_size,D(j.head),j.max_lazy_match=o[j.level].max_lazy,j.good_match=o[j.level].good_length,j.nice_match=o[j.level].nice_length,j.max_chain_length=o[j.level].max_chain,j.strstart=0,j.block_start=0,j.lookahead=0,j.insert=0,j.match_length=j.prev_length=B-1,j.match_available=0,j.ins_h=0}(i.state),Z}function ht(i,Z,j,v,_,R){if(!i)return w;var M=1;if(Z===c&&(Z=6),v<0?(M=0,v=-v):15<v&&(M=2,v-=16),_<1||O<_||j!==b||v<8||15<v||Z<0||9<Z||R<0||y<R)return U(i,w);v===8&&(v=9);var W=new lt;return(i.state=W).strm=i,W.wrap=M,W.gzhead=null,W.w_bits=v,W.w_size=1<<W.w_bits,W.w_mask=W.w_size-1,W.hash_bits=_+7,W.hash_size=1<<W.hash_bits,W.hash_mask=W.hash_size-1,W.hash_shift=~~((W.hash_bits+B-1)/B),W.window=new u.Buf8(2*W.w_size),W.head=new u.Buf16(W.hash_size),W.prev=new u.Buf16(W.w_size),W.lit_bufsize=1<<_+6,W.pending_buf_size=4*W.lit_bufsize,W.pending_buf=new u.Buf8(W.pending_buf_size),W.d_buf=1*W.lit_bufsize,W.l_buf=3*W.lit_bufsize,W.level=Z,W.strategy=R,W.method=j,dt(i)}o=[new ot(0,0,0,0,function(i,Z){var j=65535;for(j>i.pending_buf_size-5&&(j=i.pending_buf_size-5);;){if(i.lookahead<=1){if(et(i),i.lookahead===0&&Z===m)return s;if(i.lookahead===0)break}i.strstart+=i.lookahead,i.lookahead=0;var v=i.block_start+j;if((i.strstart===0||i.strstart>=v)&&(i.lookahead=i.strstart-v,i.strstart=v,C(i,!1),i.strm.avail_out===0)||i.strstart-i.block_start>=i.w_size-Q&&(C(i,!1),i.strm.avail_out===0))return s}return i.insert=0,Z===S?(C(i,!0),i.strm.avail_out===0?A:p):(i.strstart>i.block_start&&(C(i,!1),i.strm.avail_out),s)}),new ot(4,4,8,4,it),new ot(4,5,16,8,it),new ot(4,6,32,32,it),new ot(4,4,16,16,rt),new ot(8,16,32,32,rt),new ot(8,16,128,128,rt),new ot(8,32,128,256,rt),new ot(32,128,258,1024,rt),new ot(32,258,258,4096,rt)],l.deflateInit=function(i,Z){return ht(i,Z,b,15,8,0)},l.deflateInit2=ht,l.deflateReset=dt,l.deflateResetKeep=st,l.deflateSetHeader=function(i,Z){return i&&i.state?i.state.wrap!==2?w:(i.state.gzhead=Z,h):w},l.deflate=function(i,Z){var j,v,_,R;if(!i||!i.state||5<Z||Z<0)return i?U(i,w):w;if(v=i.state,!i.output||!i.input&&i.avail_in!==0||v.status===666&&Z!==S)return U(i,i.avail_out===0?-5:w);if(v.strm=i,j=v.last_flush,v.last_flush=Z,v.status===E)if(v.wrap===2)i.adler=0,V(v,31),V(v,139),V(v,8),v.gzhead?(V(v,(v.gzhead.text?1:0)+(v.gzhead.hcrc?2:0)+(v.gzhead.extra?4:0)+(v.gzhead.name?8:0)+(v.gzhead.comment?16:0)),V(v,255&v.gzhead.time),V(v,v.gzhead.time>>8&255),V(v,v.gzhead.time>>16&255),V(v,v.gzhead.time>>24&255),V(v,v.level===9?2:2<=v.strategy||v.level<2?4:0),V(v,255&v.gzhead.os),v.gzhead.extra&&v.gzhead.extra.length&&(V(v,255&v.gzhead.extra.length),V(v,v.gzhead.extra.length>>8&255)),v.gzhead.hcrc&&(i.adler=g(i.adler,v.pending_buf,v.pending,0)),v.gzindex=0,v.status=69):(V(v,0),V(v,0),V(v,0),V(v,0),V(v,0),V(v,v.level===9?2:2<=v.strategy||v.level<2?4:0),V(v,3),v.status=L);else{var M=b+(v.w_bits-8<<4)<<8;M|=(2<=v.strategy||v.level<2?0:v.level<6?1:v.level===6?2:3)<<6,v.strstart!==0&&(M|=32),M+=31-M%31,v.status=L,q(v,M),v.strstart!==0&&(q(v,i.adler>>>16),q(v,65535&i.adler)),i.adler=1}if(v.status===69)if(v.gzhead.extra){for(_=v.pending;v.gzindex<(65535&v.gzhead.extra.length)&&(v.pending!==v.pending_buf_size||(v.gzhead.hcrc&&v.pending>_&&(i.adler=g(i.adler,v.pending_buf,v.pending-_,_)),k(i),_=v.pending,v.pending!==v.pending_buf_size));)V(v,255&v.gzhead.extra[v.gzindex]),v.gzindex++;v.gzhead.hcrc&&v.pending>_&&(i.adler=g(i.adler,v.pending_buf,v.pending-_,_)),v.gzindex===v.gzhead.extra.length&&(v.gzindex=0,v.status=73)}else v.status=73;if(v.status===73)if(v.gzhead.name){_=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>_&&(i.adler=g(i.adler,v.pending_buf,v.pending-_,_)),k(i),_=v.pending,v.pending===v.pending_buf_size)){R=1;break}R=v.gzindex<v.gzhead.name.length?255&v.gzhead.name.charCodeAt(v.gzindex++):0,V(v,R)}while(R!==0);v.gzhead.hcrc&&v.pending>_&&(i.adler=g(i.adler,v.pending_buf,v.pending-_,_)),R===0&&(v.gzindex=0,v.status=91)}else v.status=91;if(v.status===91)if(v.gzhead.comment){_=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>_&&(i.adler=g(i.adler,v.pending_buf,v.pending-_,_)),k(i),_=v.pending,v.pending===v.pending_buf_size)){R=1;break}R=v.gzindex<v.gzhead.comment.length?255&v.gzhead.comment.charCodeAt(v.gzindex++):0,V(v,R)}while(R!==0);v.gzhead.hcrc&&v.pending>_&&(i.adler=g(i.adler,v.pending_buf,v.pending-_,_)),R===0&&(v.status=103)}else v.status=103;if(v.status===103&&(v.gzhead.hcrc?(v.pending+2>v.pending_buf_size&&k(i),v.pending+2<=v.pending_buf_size&&(V(v,255&i.adler),V(v,i.adler>>8&255),i.adler=0,v.status=L)):v.status=L),v.pending!==0){if(k(i),i.avail_out===0)return v.last_flush=-1,h}else if(i.avail_in===0&&z(Z)<=z(j)&&Z!==S)return U(i,-5);if(v.status===666&&i.avail_in!==0)return U(i,-5);if(i.avail_in!==0||v.lookahead!==0||Z!==m&&v.status!==666){var W=v.strategy===2?function(T,Y){for(var J;;){if(T.lookahead===0&&(et(T),T.lookahead===0)){if(Y===m)return s;break}if(T.match_length=0,J=a._tr_tally(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++,J&&(C(T,!1),T.strm.avail_out===0))return s}return T.insert=0,Y===S?(C(T,!0),T.strm.avail_out===0?A:p):T.last_lit&&(C(T,!1),T.strm.avail_out===0)?s:N}(v,Z):v.strategy===3?function(T,Y){for(var J,X,tt,at,nt=T.window;;){if(T.lookahead<=K){if(et(T),T.lookahead<=K&&Y===m)return s;if(T.lookahead===0)break}if(T.match_length=0,T.lookahead>=B&&0<T.strstart&&(X=nt[tt=T.strstart-1])===nt[++tt]&&X===nt[++tt]&&X===nt[++tt]){at=T.strstart+K;do;while(X===nt[++tt]&&X===nt[++tt]&&X===nt[++tt]&&X===nt[++tt]&&X===nt[++tt]&&X===nt[++tt]&&X===nt[++tt]&&X===nt[++tt]&&tt<at);T.match_length=K-(at-tt),T.match_length>T.lookahead&&(T.match_length=T.lookahead)}if(T.match_length>=B?(J=a._tr_tally(T,1,T.match_length-B),T.lookahead-=T.match_length,T.strstart+=T.match_length,T.match_length=0):(J=a._tr_tally(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++),J&&(C(T,!1),T.strm.avail_out===0))return s}return T.insert=0,Y===S?(C(T,!0),T.strm.avail_out===0?A:p):T.last_lit&&(C(T,!1),T.strm.avail_out===0)?s:N}(v,Z):o[v.level].func(v,Z);if(W!==A&&W!==p||(v.status=666),W===s||W===A)return i.avail_out===0&&(v.last_flush=-1),h;if(W===N&&(Z===1?a._tr_align(v):Z!==5&&(a._tr_stored_block(v,0,0,!1),Z===3&&(D(v.head),v.lookahead===0&&(v.strstart=0,v.block_start=0,v.insert=0))),k(i),i.avail_out===0))return v.last_flush=-1,h}return Z!==S?h:v.wrap<=0?1:(v.wrap===2?(V(v,255&i.adler),V(v,i.adler>>8&255),V(v,i.adler>>16&255),V(v,i.adler>>24&255),V(v,255&i.total_in),V(v,i.total_in>>8&255),V(v,i.total_in>>16&255),V(v,i.total_in>>24&255)):(q(v,i.adler>>>16),q(v,65535&i.adler)),k(i),0<v.wrap&&(v.wrap=-v.wrap),v.pending!==0?h:1)},l.deflateEnd=function(i){var Z;return i&&i.state?(Z=i.state.status)!==E&&Z!==69&&Z!==73&&Z!==91&&Z!==103&&Z!==L&&Z!==666?U(i,w):(i.state=null,Z===L?U(i,-3):h):w},l.deflateSetDictionary=function(i,Z){var j,v,_,R,M,W,T,Y,J=Z.length;if(!i||!i.state||(R=(j=i.state).wrap)===2||R===1&&j.status!==E||j.lookahead)return w;for(R===1&&(i.adler=f(i.adler,Z,J,0)),j.wrap=0,J>=j.w_size&&(R===0&&(D(j.head),j.strstart=0,j.block_start=0,j.insert=0),Y=new u.Buf8(j.w_size),u.arraySet(Y,Z,J-j.w_size,j.w_size,0),Z=Y,J=j.w_size),M=i.avail_in,W=i.next_in,T=i.input,i.avail_in=J,i.next_in=0,i.input=Z,et(j);j.lookahead>=B;){for(v=j.strstart,_=j.lookahead-(B-1);j.ins_h=(j.ins_h<<j.hash_shift^j.window[v+B-1])&j.hash_mask,j.prev[v&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=v,v++,--_;);j.strstart=v,j.lookahead=B-1,et(j)}return j.strstart+=j.lookahead,j.block_start=j.strstart,j.insert=j.lookahead,j.lookahead=0,j.match_length=j.prev_length=B-1,j.match_available=0,i.next_in=W,i.input=T,i.avail_in=M,j.wrap=R,h},l.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,l){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,l){n.exports=function(o,u){var a,f,g,x,m,S,h,w,c,y,d,b,O,P,I,H,F,$,B,K,Q,E,L,s,N;a=o.state,f=o.next_in,s=o.input,g=f+(o.avail_in-5),x=o.next_out,N=o.output,m=x-(u-o.avail_out),S=x+(o.avail_out-257),h=a.dmax,w=a.wsize,c=a.whave,y=a.wnext,d=a.window,b=a.hold,O=a.bits,P=a.lencode,I=a.distcode,H=(1<<a.lenbits)-1,F=(1<<a.distbits)-1;t:do{O<15&&(b+=s[f++]<<O,O+=8,b+=s[f++]<<O,O+=8),$=P[b&H];e:for(;;){if(b>>>=B=$>>>24,O-=B,(B=$>>>16&255)===0)N[x++]=65535&$;else{if(!(16&B)){if(!(64&B)){$=P[(65535&$)+(b&(1<<B)-1)];continue e}if(32&B){a.mode=12;break t}o.msg="invalid literal/length code",a.mode=30;break t}K=65535&$,(B&=15)&&(O<B&&(b+=s[f++]<<O,O+=8),K+=b&(1<<B)-1,b>>>=B,O-=B),O<15&&(b+=s[f++]<<O,O+=8,b+=s[f++]<<O,O+=8),$=I[b&F];r:for(;;){if(b>>>=B=$>>>24,O-=B,!(16&(B=$>>>16&255))){if(!(64&B)){$=I[(65535&$)+(b&(1<<B)-1)];continue r}o.msg="invalid distance code",a.mode=30;break t}if(Q=65535&$,O<(B&=15)&&(b+=s[f++]<<O,(O+=8)<B&&(b+=s[f++]<<O,O+=8)),h<(Q+=b&(1<<B)-1)){o.msg="invalid distance too far back",a.mode=30;break t}if(b>>>=B,O-=B,(B=x-m)<Q){if(c<(B=Q-B)&&a.sane){o.msg="invalid distance too far back",a.mode=30;break t}if(L=d,(E=0)===y){if(E+=w-B,B<K){for(K-=B;N[x++]=d[E++],--B;);E=x-Q,L=N}}else if(y<B){if(E+=w+y-B,(B-=y)<K){for(K-=B;N[x++]=d[E++],--B;);if(E=0,y<K){for(K-=B=y;N[x++]=d[E++],--B;);E=x-Q,L=N}}}else if(E+=y-B,B<K){for(K-=B;N[x++]=d[E++],--B;);E=x-Q,L=N}for(;2<K;)N[x++]=L[E++],N[x++]=L[E++],N[x++]=L[E++],K-=3;K&&(N[x++]=L[E++],1<K&&(N[x++]=L[E++]))}else{for(E=x-Q;N[x++]=N[E++],N[x++]=N[E++],N[x++]=N[E++],2<(K-=3););K&&(N[x++]=N[E++],1<K&&(N[x++]=N[E++]))}break}}break}}while(f<g&&x<S);f-=K=O>>3,b&=(1<<(O-=K<<3))-1,o.next_in=f,o.next_out=x,o.avail_in=f<g?g-f+5:5-(f-g),o.avail_out=x<S?S-x+257:257-(x-S),a.hold=b,a.bits=O}},{}],49:[function(t,n,l){var o=t("../utils/common"),u=t("./adler32"),a=t("./crc32"),f=t("./inffast"),g=t("./inftrees"),x=1,m=2,S=0,h=-2,w=1,c=852,y=592;function d(E){return(E>>>24&255)+(E>>>8&65280)+((65280&E)<<8)+((255&E)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function O(E){var L;return E&&E.state?(L=E.state,E.total_in=E.total_out=L.total=0,E.msg="",L.wrap&&(E.adler=1&L.wrap),L.mode=w,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new o.Buf32(c),L.distcode=L.distdyn=new o.Buf32(y),L.sane=1,L.back=-1,S):h}function P(E){var L;return E&&E.state?((L=E.state).wsize=0,L.whave=0,L.wnext=0,O(E)):h}function I(E,L){var s,N;return E&&E.state?(N=E.state,L<0?(s=0,L=-L):(s=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?h:(N.window!==null&&N.wbits!==L&&(N.window=null),N.wrap=s,N.wbits=L,P(E))):h}function H(E,L){var s,N;return E?(N=new b,(E.state=N).window=null,(s=I(E,L))!==S&&(E.state=null),s):h}var F,$,B=!0;function K(E){if(B){var L;for(F=new o.Buf32(512),$=new o.Buf32(32),L=0;L<144;)E.lens[L++]=8;for(;L<256;)E.lens[L++]=9;for(;L<280;)E.lens[L++]=7;for(;L<288;)E.lens[L++]=8;for(g(x,E.lens,0,288,F,0,E.work,{bits:9}),L=0;L<32;)E.lens[L++]=5;g(m,E.lens,0,32,$,0,E.work,{bits:5}),B=!1}E.lencode=F,E.lenbits=9,E.distcode=$,E.distbits=5}function Q(E,L,s,N){var A,p=E.state;return p.window===null&&(p.wsize=1<<p.wbits,p.wnext=0,p.whave=0,p.window=new o.Buf8(p.wsize)),N>=p.wsize?(o.arraySet(p.window,L,s-p.wsize,p.wsize,0),p.wnext=0,p.whave=p.wsize):(N<(A=p.wsize-p.wnext)&&(A=N),o.arraySet(p.window,L,s-N,A,p.wnext),(N-=A)?(o.arraySet(p.window,L,s-N,N,0),p.wnext=N,p.whave=p.wsize):(p.wnext+=A,p.wnext===p.wsize&&(p.wnext=0),p.whave<p.wsize&&(p.whave+=A))),0}l.inflateReset=P,l.inflateReset2=I,l.inflateResetKeep=O,l.inflateInit=function(E){return H(E,15)},l.inflateInit2=H,l.inflate=function(E,L){var s,N,A,p,U,z,D,k,C,V,q,G,et,it,rt,ot,lt,st,dt,ht,i,Z,j,v,_=0,R=new o.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!E||!E.state||!E.output||!E.input&&E.avail_in!==0)return h;(s=E.state).mode===12&&(s.mode=13),U=E.next_out,A=E.output,D=E.avail_out,p=E.next_in,N=E.input,z=E.avail_in,k=s.hold,C=s.bits,V=z,q=D,Z=S;t:for(;;)switch(s.mode){case w:if(s.wrap===0){s.mode=13;break}for(;C<16;){if(z===0)break t;z--,k+=N[p++]<<C,C+=8}if(2&s.wrap&&k===35615){R[s.check=0]=255&k,R[1]=k>>>8&255,s.check=a(s.check,R,2,0),C=k=0,s.mode=2;break}if(s.flags=0,s.head&&(s.head.done=!1),!(1&s.wrap)||(((255&k)<<8)+(k>>8))%31){E.msg="incorrect header check",s.mode=30;break}if((15&k)!=8){E.msg="unknown compression method",s.mode=30;break}if(C-=4,i=8+(15&(k>>>=4)),s.wbits===0)s.wbits=i;else if(i>s.wbits){E.msg="invalid window size",s.mode=30;break}s.dmax=1<<i,E.adler=s.check=1,s.mode=512&k?10:12,C=k=0;break;case 2:for(;C<16;){if(z===0)break t;z--,k+=N[p++]<<C,C+=8}if(s.flags=k,(255&s.flags)!=8){E.msg="unknown compression method",s.mode=30;break}if(57344&s.flags){E.msg="unknown header flags set",s.mode=30;break}s.head&&(s.head.text=k>>8&1),512&s.flags&&(R[0]=255&k,R[1]=k>>>8&255,s.check=a(s.check,R,2,0)),C=k=0,s.mode=3;case 3:for(;C<32;){if(z===0)break t;z--,k+=N[p++]<<C,C+=8}s.head&&(s.head.time=k),512&s.flags&&(R[0]=255&k,R[1]=k>>>8&255,R[2]=k>>>16&255,R[3]=k>>>24&255,s.check=a(s.check,R,4,0)),C=k=0,s.mode=4;case 4:for(;C<16;){if(z===0)break t;z--,k+=N[p++]<<C,C+=8}s.head&&(s.head.xflags=255&k,s.head.os=k>>8),512&s.flags&&(R[0]=255&k,R[1]=k>>>8&255,s.check=a(s.check,R,2,0)),C=k=0,s.mode=5;case 5:if(1024&s.flags){for(;C<16;){if(z===0)break t;z--,k+=N[p++]<<C,C+=8}s.length=k,s.head&&(s.head.extra_len=k),512&s.flags&&(R[0]=255&k,R[1]=k>>>8&255,s.check=a(s.check,R,2,0)),C=k=0}else s.head&&(s.head.extra=null);s.mode=6;case 6:if(1024&s.flags&&(z<(G=s.length)&&(G=z),G&&(s.head&&(i=s.head.extra_len-s.length,s.head.extra||(s.head.extra=new Array(s.head.extra_len)),o.arraySet(s.head.extra,N,p,G,i)),512&s.flags&&(s.check=a(s.check,N,G,p)),z-=G,p+=G,s.length-=G),s.length))break t;s.length=0,s.mode=7;case 7:if(2048&s.flags){if(z===0)break t;for(G=0;i=N[p+G++],s.head&&i&&s.length<65536&&(s.head.name+=String.fromCharCode(i)),i&&G<z;);if(512&s.flags&&(s.check=a(s.check,N,G,p)),z-=G,p+=G,i)break t}else s.head&&(s.head.name=null);s.length=0,s.mode=8;case 8:if(4096&s.flags){if(z===0)break t;for(G=0;i=N[p+G++],s.head&&i&&s.length<65536&&(s.head.comment+=String.fromCharCode(i)),i&&G<z;);if(512&s.flags&&(s.check=a(s.check,N,G,p)),z-=G,p+=G,i)break t}else s.head&&(s.head.comment=null);s.mode=9;case 9:if(512&s.flags){for(;C<16;){if(z===0)break t;z--,k+=N[p++]<<C,C+=8}if(k!==(65535&s.check)){E.msg="header crc mismatch",s.mode=30;break}C=k=0}s.head&&(s.head.hcrc=s.flags>>9&1,s.head.done=!0),E.adler=s.check=0,s.mode=12;break;case 10:for(;C<32;){if(z===0)break t;z--,k+=N[p++]<<C,C+=8}E.adler=s.check=d(k),C=k=0,s.mode=11;case 11:if(s.havedict===0)return E.next_out=U,E.avail_out=D,E.next_in=p,E.avail_in=z,s.hold=k,s.bits=C,2;E.adler=s.check=1,s.mode=12;case 12:if(L===5||L===6)break t;case 13:if(s.last){k>>>=7&C,C-=7&C,s.mode=27;break}for(;C<3;){if(z===0)break t;z--,k+=N[p++]<<C,C+=8}switch(s.last=1&k,C-=1,3&(k>>>=1)){case 0:s.mode=14;break;case 1:if(K(s),s.mode=20,L!==6)break;k>>>=2,C-=2;break t;case 2:s.mode=17;break;case 3:E.msg="invalid block type",s.mode=30}k>>>=2,C-=2;break;case 14:for(k>>>=7&C,C-=7&C;C<32;){if(z===0)break t;z--,k+=N[p++]<<C,C+=8}if((65535&k)!=(k>>>16^65535)){E.msg="invalid stored block lengths",s.mode=30;break}if(s.length=65535&k,C=k=0,s.mode=15,L===6)break t;case 15:s.mode=16;case 16:if(G=s.length){if(z<G&&(G=z),D<G&&(G=D),G===0)break t;o.arraySet(A,N,p,G,U),z-=G,p+=G,D-=G,U+=G,s.length-=G;break}s.mode=12;break;case 17:for(;C<14;){if(z===0)break t;z--,k+=N[p++]<<C,C+=8}if(s.nlen=257+(31&k),k>>>=5,C-=5,s.ndist=1+(31&k),k>>>=5,C-=5,s.ncode=4+(15&k),k>>>=4,C-=4,286<s.nlen||30<s.ndist){E.msg="too many length or distance symbols",s.mode=30;break}s.have=0,s.mode=18;case 18:for(;s.have<s.ncode;){for(;C<3;){if(z===0)break t;z--,k+=N[p++]<<C,C+=8}s.lens[M[s.have++]]=7&k,k>>>=3,C-=3}for(;s.have<19;)s.lens[M[s.have++]]=0;if(s.lencode=s.lendyn,s.lenbits=7,j={bits:s.lenbits},Z=g(0,s.lens,0,19,s.lencode,0,s.work,j),s.lenbits=j.bits,Z){E.msg="invalid code lengths set",s.mode=30;break}s.have=0,s.mode=19;case 19:for(;s.have<s.nlen+s.ndist;){for(;ot=(_=s.lencode[k&(1<<s.lenbits)-1])>>>16&255,lt=65535&_,!((rt=_>>>24)<=C);){if(z===0)break t;z--,k+=N[p++]<<C,C+=8}if(lt<16)k>>>=rt,C-=rt,s.lens[s.have++]=lt;else{if(lt===16){for(v=rt+2;C<v;){if(z===0)break t;z--,k+=N[p++]<<C,C+=8}if(k>>>=rt,C-=rt,s.have===0){E.msg="invalid bit length repeat",s.mode=30;break}i=s.lens[s.have-1],G=3+(3&k),k>>>=2,C-=2}else if(lt===17){for(v=rt+3;C<v;){if(z===0)break t;z--,k+=N[p++]<<C,C+=8}C-=rt,i=0,G=3+(7&(k>>>=rt)),k>>>=3,C-=3}else{for(v=rt+7;C<v;){if(z===0)break t;z--,k+=N[p++]<<C,C+=8}C-=rt,i=0,G=11+(127&(k>>>=rt)),k>>>=7,C-=7}if(s.have+G>s.nlen+s.ndist){E.msg="invalid bit length repeat",s.mode=30;break}for(;G--;)s.lens[s.have++]=i}}if(s.mode===30)break;if(s.lens[256]===0){E.msg="invalid code -- missing end-of-block",s.mode=30;break}if(s.lenbits=9,j={bits:s.lenbits},Z=g(x,s.lens,0,s.nlen,s.lencode,0,s.work,j),s.lenbits=j.bits,Z){E.msg="invalid literal/lengths set",s.mode=30;break}if(s.distbits=6,s.distcode=s.distdyn,j={bits:s.distbits},Z=g(m,s.lens,s.nlen,s.ndist,s.distcode,0,s.work,j),s.distbits=j.bits,Z){E.msg="invalid distances set",s.mode=30;break}if(s.mode=20,L===6)break t;case 20:s.mode=21;case 21:if(6<=z&&258<=D){E.next_out=U,E.avail_out=D,E.next_in=p,E.avail_in=z,s.hold=k,s.bits=C,f(E,q),U=E.next_out,A=E.output,D=E.avail_out,p=E.next_in,N=E.input,z=E.avail_in,k=s.hold,C=s.bits,s.mode===12&&(s.back=-1);break}for(s.back=0;ot=(_=s.lencode[k&(1<<s.lenbits)-1])>>>16&255,lt=65535&_,!((rt=_>>>24)<=C);){if(z===0)break t;z--,k+=N[p++]<<C,C+=8}if(ot&&!(240&ot)){for(st=rt,dt=ot,ht=lt;ot=(_=s.lencode[ht+((k&(1<<st+dt)-1)>>st)])>>>16&255,lt=65535&_,!(st+(rt=_>>>24)<=C);){if(z===0)break t;z--,k+=N[p++]<<C,C+=8}k>>>=st,C-=st,s.back+=st}if(k>>>=rt,C-=rt,s.back+=rt,s.length=lt,ot===0){s.mode=26;break}if(32&ot){s.back=-1,s.mode=12;break}if(64&ot){E.msg="invalid literal/length code",s.mode=30;break}s.extra=15&ot,s.mode=22;case 22:if(s.extra){for(v=s.extra;C<v;){if(z===0)break t;z--,k+=N[p++]<<C,C+=8}s.length+=k&(1<<s.extra)-1,k>>>=s.extra,C-=s.extra,s.back+=s.extra}s.was=s.length,s.mode=23;case 23:for(;ot=(_=s.distcode[k&(1<<s.distbits)-1])>>>16&255,lt=65535&_,!((rt=_>>>24)<=C);){if(z===0)break t;z--,k+=N[p++]<<C,C+=8}if(!(240&ot)){for(st=rt,dt=ot,ht=lt;ot=(_=s.distcode[ht+((k&(1<<st+dt)-1)>>st)])>>>16&255,lt=65535&_,!(st+(rt=_>>>24)<=C);){if(z===0)break t;z--,k+=N[p++]<<C,C+=8}k>>>=st,C-=st,s.back+=st}if(k>>>=rt,C-=rt,s.back+=rt,64&ot){E.msg="invalid distance code",s.mode=30;break}s.offset=lt,s.extra=15&ot,s.mode=24;case 24:if(s.extra){for(v=s.extra;C<v;){if(z===0)break t;z--,k+=N[p++]<<C,C+=8}s.offset+=k&(1<<s.extra)-1,k>>>=s.extra,C-=s.extra,s.back+=s.extra}if(s.offset>s.dmax){E.msg="invalid distance too far back",s.mode=30;break}s.mode=25;case 25:if(D===0)break t;if(G=q-D,s.offset>G){if((G=s.offset-G)>s.whave&&s.sane){E.msg="invalid distance too far back",s.mode=30;break}et=G>s.wnext?(G-=s.wnext,s.wsize-G):s.wnext-G,G>s.length&&(G=s.length),it=s.window}else it=A,et=U-s.offset,G=s.length;for(D<G&&(G=D),D-=G,s.length-=G;A[U++]=it[et++],--G;);s.length===0&&(s.mode=21);break;case 26:if(D===0)break t;A[U++]=s.length,D--,s.mode=21;break;case 27:if(s.wrap){for(;C<32;){if(z===0)break t;z--,k|=N[p++]<<C,C+=8}if(q-=D,E.total_out+=q,s.total+=q,q&&(E.adler=s.check=s.flags?a(s.check,A,q,U-q):u(s.check,A,q,U-q)),q=D,(s.flags?k:d(k))!==s.check){E.msg="incorrect data check",s.mode=30;break}C=k=0}s.mode=28;case 28:if(s.wrap&&s.flags){for(;C<32;){if(z===0)break t;z--,k+=N[p++]<<C,C+=8}if(k!==(4294967295&s.total)){E.msg="incorrect length check",s.mode=30;break}C=k=0}s.mode=29;case 29:Z=1;break t;case 30:Z=-3;break t;case 31:return-4;case 32:default:return h}return E.next_out=U,E.avail_out=D,E.next_in=p,E.avail_in=z,s.hold=k,s.bits=C,(s.wsize||q!==E.avail_out&&s.mode<30&&(s.mode<27||L!==4))&&Q(E,E.output,E.next_out,q-E.avail_out)?(s.mode=31,-4):(V-=E.avail_in,q-=E.avail_out,E.total_in+=V,E.total_out+=q,s.total+=q,s.wrap&&q&&(E.adler=s.check=s.flags?a(s.check,A,q,E.next_out-q):u(s.check,A,q,E.next_out-q)),E.data_type=s.bits+(s.last?64:0)+(s.mode===12?128:0)+(s.mode===20||s.mode===15?256:0),(V==0&&q===0||L===4)&&Z===S&&(Z=-5),Z)},l.inflateEnd=function(E){if(!E||!E.state)return h;var L=E.state;return L.window&&(L.window=null),E.state=null,S},l.inflateGetHeader=function(E,L){var s;return E&&E.state&&2&(s=E.state).wrap?((s.head=L).done=!1,S):h},l.inflateSetDictionary=function(E,L){var s,N=L.length;return E&&E.state?(s=E.state).wrap!==0&&s.mode!==11?h:s.mode===11&&u(1,L,N,0)!==s.check?-3:Q(E,L,N,N)?(s.mode=31,-4):(s.havedict=1,S):h},l.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,l){var o=t("../utils/common"),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(x,m,S,h,w,c,y,d){var b,O,P,I,H,F,$,B,K,Q=d.bits,E=0,L=0,s=0,N=0,A=0,p=0,U=0,z=0,D=0,k=0,C=null,V=0,q=new o.Buf16(16),G=new o.Buf16(16),et=null,it=0;for(E=0;E<=15;E++)q[E]=0;for(L=0;L<h;L++)q[m[S+L]]++;for(A=Q,N=15;1<=N&&q[N]===0;N--);if(N<A&&(A=N),N===0)return w[c++]=20971520,w[c++]=20971520,d.bits=1,0;for(s=1;s<N&&q[s]===0;s++);for(A<s&&(A=s),E=z=1;E<=15;E++)if(z<<=1,(z-=q[E])<0)return-1;if(0<z&&(x===0||N!==1))return-1;for(G[1]=0,E=1;E<15;E++)G[E+1]=G[E]+q[E];for(L=0;L<h;L++)m[S+L]!==0&&(y[G[m[S+L]]++]=L);if(F=x===0?(C=et=y,19):x===1?(C=u,V-=257,et=a,it-=257,256):(C=f,et=g,-1),E=s,H=c,U=L=k=0,P=-1,I=(D=1<<(p=A))-1,x===1&&852<D||x===2&&592<D)return 1;for(;;){for($=E-U,K=y[L]<F?(B=0,y[L]):y[L]>F?(B=et[it+y[L]],C[V+y[L]]):(B=96,0),b=1<<E-U,s=O=1<<p;w[H+(k>>U)+(O-=b)]=$<<24|B<<16|K|0,O!==0;);for(b=1<<E-1;k&b;)b>>=1;if(b!==0?(k&=b-1,k+=b):k=0,L++,--q[E]==0){if(E===N)break;E=m[S+y[L]]}if(A<E&&(k&I)!==P){for(U===0&&(U=A),H+=s,z=1<<(p=E-U);p+U<N&&!((z-=q[p+U])<=0);)p++,z<<=1;if(D+=1<<p,x===1&&852<D||x===2&&592<D)return 1;w[P=k&I]=A<<24|p<<16|H-c|0}}return k!==0&&(w[H+k]=E-U<<24|64<<16|0),d.bits=A,0}},{"../utils/common":41}],51:[function(t,n,l){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,l){var o=t("../utils/common"),u=0,a=1;function f(_){for(var R=_.length;0<=--R;)_[R]=0}var g=0,x=29,m=256,S=m+1+x,h=30,w=19,c=2*S+1,y=15,d=16,b=7,O=256,P=16,I=17,H=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],$=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=new Array(2*(S+2));f(Q);var E=new Array(2*h);f(E);var L=new Array(512);f(L);var s=new Array(256);f(s);var N=new Array(x);f(N);var A,p,U,z=new Array(h);function D(_,R,M,W,T){this.static_tree=_,this.extra_bits=R,this.extra_base=M,this.elems=W,this.max_length=T,this.has_stree=_&&_.length}function k(_,R){this.dyn_tree=_,this.max_code=0,this.stat_desc=R}function C(_){return _<256?L[_]:L[256+(_>>>7)]}function V(_,R){_.pending_buf[_.pending++]=255&R,_.pending_buf[_.pending++]=R>>>8&255}function q(_,R,M){_.bi_valid>d-M?(_.bi_buf|=R<<_.bi_valid&65535,V(_,_.bi_buf),_.bi_buf=R>>d-_.bi_valid,_.bi_valid+=M-d):(_.bi_buf|=R<<_.bi_valid&65535,_.bi_valid+=M)}function G(_,R,M){q(_,M[2*R],M[2*R+1])}function et(_,R){for(var M=0;M|=1&_,_>>>=1,M<<=1,0<--R;);return M>>>1}function it(_,R,M){var W,T,Y=new Array(y+1),J=0;for(W=1;W<=y;W++)Y[W]=J=J+M[W-1]<<1;for(T=0;T<=R;T++){var X=_[2*T+1];X!==0&&(_[2*T]=et(Y[X]++,X))}}function rt(_){var R;for(R=0;R<S;R++)_.dyn_ltree[2*R]=0;for(R=0;R<h;R++)_.dyn_dtree[2*R]=0;for(R=0;R<w;R++)_.bl_tree[2*R]=0;_.dyn_ltree[2*O]=1,_.opt_len=_.static_len=0,_.last_lit=_.matches=0}function ot(_){8<_.bi_valid?V(_,_.bi_buf):0<_.bi_valid&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0}function lt(_,R,M,W){var T=2*R,Y=2*M;return _[T]<_[Y]||_[T]===_[Y]&&W[R]<=W[M]}function st(_,R,M){for(var W=_.heap[M],T=M<<1;T<=_.heap_len&&(T<_.heap_len&&lt(R,_.heap[T+1],_.heap[T],_.depth)&&T++,!lt(R,W,_.heap[T],_.depth));)_.heap[M]=_.heap[T],M=T,T<<=1;_.heap[M]=W}function dt(_,R,M){var W,T,Y,J,X=0;if(_.last_lit!==0)for(;W=_.pending_buf[_.d_buf+2*X]<<8|_.pending_buf[_.d_buf+2*X+1],T=_.pending_buf[_.l_buf+X],X++,W===0?G(_,T,R):(G(_,(Y=s[T])+m+1,R),(J=F[Y])!==0&&q(_,T-=N[Y],J),G(_,Y=C(--W),M),(J=$[Y])!==0&&q(_,W-=z[Y],J)),X<_.last_lit;);G(_,O,R)}function ht(_,R){var M,W,T,Y=R.dyn_tree,J=R.stat_desc.static_tree,X=R.stat_desc.has_stree,tt=R.stat_desc.elems,at=-1;for(_.heap_len=0,_.heap_max=c,M=0;M<tt;M++)Y[2*M]!==0?(_.heap[++_.heap_len]=at=M,_.depth[M]=0):Y[2*M+1]=0;for(;_.heap_len<2;)Y[2*(T=_.heap[++_.heap_len]=at<2?++at:0)]=1,_.depth[T]=0,_.opt_len--,X&&(_.static_len-=J[2*T+1]);for(R.max_code=at,M=_.heap_len>>1;1<=M;M--)st(_,Y,M);for(T=tt;M=_.heap[1],_.heap[1]=_.heap[_.heap_len--],st(_,Y,1),W=_.heap[1],_.heap[--_.heap_max]=M,_.heap[--_.heap_max]=W,Y[2*T]=Y[2*M]+Y[2*W],_.depth[T]=(_.depth[M]>=_.depth[W]?_.depth[M]:_.depth[W])+1,Y[2*M+1]=Y[2*W+1]=T,_.heap[1]=T++,st(_,Y,1),2<=_.heap_len;);_.heap[--_.heap_max]=_.heap[1],function(nt,ct){var At,pt,Ct,ut,Lt,Xt,_t=ct.dyn_tree,me=ct.max_code,wr=ct.stat_desc.static_tree,kr=ct.stat_desc.has_stree,xr=ct.stat_desc.extra_bits,ye=ct.stat_desc.extra_base,zt=ct.stat_desc.max_length,Nt=0;for(ut=0;ut<=y;ut++)nt.bl_count[ut]=0;for(_t[2*nt.heap[nt.heap_max]+1]=0,At=nt.heap_max+1;At<c;At++)zt<(ut=_t[2*_t[2*(pt=nt.heap[At])+1]+1]+1)&&(ut=zt,Nt++),_t[2*pt+1]=ut,me<pt||(nt.bl_count[ut]++,Lt=0,ye<=pt&&(Lt=xr[pt-ye]),Xt=_t[2*pt],nt.opt_len+=Xt*(ut+Lt),kr&&(nt.static_len+=Xt*(wr[2*pt+1]+Lt)));if(Nt!==0){do{for(ut=zt-1;nt.bl_count[ut]===0;)ut--;nt.bl_count[ut]--,nt.bl_count[ut+1]+=2,nt.bl_count[zt]--,Nt-=2}while(0<Nt);for(ut=zt;ut!==0;ut--)for(pt=nt.bl_count[ut];pt!==0;)me<(Ct=nt.heap[--At])||(_t[2*Ct+1]!==ut&&(nt.opt_len+=(ut-_t[2*Ct+1])*_t[2*Ct],_t[2*Ct+1]=ut),pt--)}}(_,R),it(Y,at,_.bl_count)}function i(_,R,M){var W,T,Y=-1,J=R[1],X=0,tt=7,at=4;for(J===0&&(tt=138,at=3),R[2*(M+1)+1]=65535,W=0;W<=M;W++)T=J,J=R[2*(W+1)+1],++X<tt&&T===J||(X<at?_.bl_tree[2*T]+=X:T!==0?(T!==Y&&_.bl_tree[2*T]++,_.bl_tree[2*P]++):X<=10?_.bl_tree[2*I]++:_.bl_tree[2*H]++,Y=T,at=(X=0)===J?(tt=138,3):T===J?(tt=6,3):(tt=7,4))}function Z(_,R,M){var W,T,Y=-1,J=R[1],X=0,tt=7,at=4;for(J===0&&(tt=138,at=3),W=0;W<=M;W++)if(T=J,J=R[2*(W+1)+1],!(++X<tt&&T===J)){if(X<at)for(;G(_,T,_.bl_tree),--X!=0;);else T!==0?(T!==Y&&(G(_,T,_.bl_tree),X--),G(_,P,_.bl_tree),q(_,X-3,2)):X<=10?(G(_,I,_.bl_tree),q(_,X-3,3)):(G(_,H,_.bl_tree),q(_,X-11,7));Y=T,at=(X=0)===J?(tt=138,3):T===J?(tt=6,3):(tt=7,4)}}f(z);var j=!1;function v(_,R,M,W){q(_,(g<<1)+(W?1:0),3),function(T,Y,J,X){ot(T),X&&(V(T,J),V(T,~J)),o.arraySet(T.pending_buf,T.window,Y,J,T.pending),T.pending+=J}(_,R,M,!0)}l._tr_init=function(_){j||(function(){var R,M,W,T,Y,J=new Array(y+1);for(T=W=0;T<x-1;T++)for(N[T]=W,R=0;R<1<<F[T];R++)s[W++]=T;for(s[W-1]=T,T=Y=0;T<16;T++)for(z[T]=Y,R=0;R<1<<$[T];R++)L[Y++]=T;for(Y>>=7;T<h;T++)for(z[T]=Y<<7,R=0;R<1<<$[T]-7;R++)L[256+Y++]=T;for(M=0;M<=y;M++)J[M]=0;for(R=0;R<=143;)Q[2*R+1]=8,R++,J[8]++;for(;R<=255;)Q[2*R+1]=9,R++,J[9]++;for(;R<=279;)Q[2*R+1]=7,R++,J[7]++;for(;R<=287;)Q[2*R+1]=8,R++,J[8]++;for(it(Q,S+1,J),R=0;R<h;R++)E[2*R+1]=5,E[2*R]=et(R,5);A=new D(Q,F,m+1,S,y),p=new D(E,$,0,h,y),U=new D(new Array(0),B,0,w,b)}(),j=!0),_.l_desc=new k(_.dyn_ltree,A),_.d_desc=new k(_.dyn_dtree,p),_.bl_desc=new k(_.bl_tree,U),_.bi_buf=0,_.bi_valid=0,rt(_)},l._tr_stored_block=v,l._tr_flush_block=function(_,R,M,W){var T,Y,J=0;0<_.level?(_.strm.data_type===2&&(_.strm.data_type=function(X){var tt,at=4093624447;for(tt=0;tt<=31;tt++,at>>>=1)if(1&at&&X.dyn_ltree[2*tt]!==0)return u;if(X.dyn_ltree[18]!==0||X.dyn_ltree[20]!==0||X.dyn_ltree[26]!==0)return a;for(tt=32;tt<m;tt++)if(X.dyn_ltree[2*tt]!==0)return a;return u}(_)),ht(_,_.l_desc),ht(_,_.d_desc),J=function(X){var tt;for(i(X,X.dyn_ltree,X.l_desc.max_code),i(X,X.dyn_dtree,X.d_desc.max_code),ht(X,X.bl_desc),tt=w-1;3<=tt&&X.bl_tree[2*K[tt]+1]===0;tt--);return X.opt_len+=3*(tt+1)+5+5+4,tt}(_),T=_.opt_len+3+7>>>3,(Y=_.static_len+3+7>>>3)<=T&&(T=Y)):T=Y=M+5,M+4<=T&&R!==-1?v(_,R,M,W):_.strategy===4||Y===T?(q(_,2+(W?1:0),3),dt(_,Q,E)):(q(_,4+(W?1:0),3),function(X,tt,at,nt){var ct;for(q(X,tt-257,5),q(X,at-1,5),q(X,nt-4,4),ct=0;ct<nt;ct++)q(X,X.bl_tree[2*K[ct]+1],3);Z(X,X.dyn_ltree,tt-1),Z(X,X.dyn_dtree,at-1)}(_,_.l_desc.max_code+1,_.d_desc.max_code+1,J+1),dt(_,_.dyn_ltree,_.dyn_dtree)),rt(_),W&&ot(_)},l._tr_tally=function(_,R,M){return _.pending_buf[_.d_buf+2*_.last_lit]=R>>>8&255,_.pending_buf[_.d_buf+2*_.last_lit+1]=255&R,_.pending_buf[_.l_buf+_.last_lit]=255&M,_.last_lit++,R===0?_.dyn_ltree[2*M]++:(_.matches++,R--,_.dyn_ltree[2*(s[M]+m+1)]++,_.dyn_dtree[2*C(R)]++),_.last_lit===_.lit_bufsize-1},l._tr_align=function(_){q(_,2,3),G(_,O,Q),function(R){R.bi_valid===16?(V(R,R.bi_buf),R.bi_buf=0,R.bi_valid=0):8<=R.bi_valid&&(R.pending_buf[R.pending++]=255&R.bi_buf,R.bi_buf>>=8,R.bi_valid-=8)}(_)}},{"../utils/common":41}],53:[function(t,n,l){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,l){(function(o){(function(u,a){if(!u.setImmediate){var f,g,x,m,S=1,h={},w=!1,c=u.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(u);y=y&&y.setTimeout?y:u,f={}.toString.call(u.process)==="[object process]"?function(P){process.nextTick(function(){b(P)})}:function(){if(u.postMessage&&!u.importScripts){var P=!0,I=u.onmessage;return u.onmessage=function(){P=!1},u.postMessage("","*"),u.onmessage=I,P}}()?(m="setImmediate$"+Math.random()+"$",u.addEventListener?u.addEventListener("message",O,!1):u.attachEvent("onmessage",O),function(P){u.postMessage(m+P,"*")}):u.MessageChannel?((x=new MessageChannel).port1.onmessage=function(P){b(P.data)},function(P){x.port2.postMessage(P)}):c&&"onreadystatechange"in c.createElement("script")?(g=c.documentElement,function(P){var I=c.createElement("script");I.onreadystatechange=function(){b(P),I.onreadystatechange=null,g.removeChild(I),I=null},g.appendChild(I)}):function(P){setTimeout(b,0,P)},y.setImmediate=function(P){typeof P!="function"&&(P=new Function(""+P));for(var I=new Array(arguments.length-1),H=0;H<I.length;H++)I[H]=arguments[H+1];var F={callback:P,args:I};return h[S]=F,f(S),S++},y.clearImmediate=d}function d(P){delete h[P]}function b(P){if(w)setTimeout(b,0,P);else{var I=h[P];if(I){w=!0;try{(function(H){var F=H.callback,$=H.args;switch($.length){case 0:F();break;case 1:F($[0]);break;case 2:F($[0],$[1]);break;case 3:F($[0],$[1],$[2]);break;default:F.apply(a,$)}})(I)}finally{d(P),w=!1}}}}function O(P){P.source===u&&typeof P.data=="string"&&P.data.indexOf(m)===0&&b(+P.data.slice(m.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Xe);var Er=Xe.exports;const Or=Ke(Er),Ve="3.7.7",Ur=Ve,Ut=typeof Buffer=="function",_e=typeof TextDecoder=="function"?new TextDecoder:void 0,ge=typeof TextEncoder=="function"?new TextEncoder:void 0,Ar="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Rt=Array.prototype.slice.call(Ar),Mt=(e=>{let r={};return e.forEach((t,n)=>r[t]=n),r})(Rt),Cr=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,ft=String.fromCharCode.bind(String),ve=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),Je=e=>e.replace(/=/g,"").replace(/[+\/]/g,r=>r=="+"?"-":"_"),Qe=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),tr=e=>{let r,t,n,l,o="";const u=e.length%3;for(let a=0;a<e.length;){if((t=e.charCodeAt(a++))>255||(n=e.charCodeAt(a++))>255||(l=e.charCodeAt(a++))>255)throw new TypeError("invalid character found");r=t<<16|n<<8|l,o+=Rt[r>>18&63]+Rt[r>>12&63]+Rt[r>>6&63]+Rt[r&63]}return u?o.slice(0,u-3)+"===".substring(u):o},ue=typeof btoa=="function"?e=>btoa(e):Ut?e=>Buffer.from(e,"binary").toString("base64"):tr,Jt=Ut?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,l=e.length;n<l;n+=4096)t.push(ft.apply(null,e.subarray(n,n+4096)));return ue(t.join(""))},$t=(e,r=!1)=>r?Je(Jt(e)):Jt(e),zr=e=>{if(e.length<2){var r=e.charCodeAt(0);return r<128?e:r<2048?ft(192|r>>>6)+ft(128|r&63):ft(224|r>>>12&15)+ft(128|r>>>6&63)+ft(128|r&63)}else{var r=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return ft(240|r>>>18&7)+ft(128|r>>>12&63)+ft(128|r>>>6&63)+ft(128|r&63)}},Rr=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,er=e=>e.replace(Rr,zr),be=Ut?e=>Buffer.from(e,"utf8").toString("base64"):ge?e=>Jt(ge.encode(e)):e=>ue(er(e)),St=(e,r=!1)=>r?Je(be(e)):be(e),we=e=>St(e,!0),Pr=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Ir=e=>{switch(e.length){case 4:var r=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),t=r-65536;return ft((t>>>10)+55296)+ft((t&1023)+56320);case 3:return ft((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return ft((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},rr=e=>e.replace(Pr,Ir),nr=e=>{if(e=e.replace(/\s+/g,""),!Cr.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let r,t="",n,l;for(let o=0;o<e.length;)r=Mt[e.charAt(o++)]<<18|Mt[e.charAt(o++)]<<12|(n=Mt[e.charAt(o++)])<<6|(l=Mt[e.charAt(o++)]),t+=n===64?ft(r>>16&255):l===64?ft(r>>16&255,r>>8&255):ft(r>>16&255,r>>8&255,r&255);return t},le=typeof atob=="function"?e=>atob(Qe(e)):Ut?e=>Buffer.from(e,"base64").toString("binary"):nr,ir=Ut?e=>ve(Buffer.from(e,"base64")):e=>ve(le(e).split("").map(r=>r.charCodeAt(0))),or=e=>ir(ar(e)),Tr=Ut?e=>Buffer.from(e,"base64").toString("utf8"):_e?e=>_e.decode(ir(e)):e=>rr(le(e)),ar=e=>Qe(e.replace(/[-_]/g,r=>r=="-"?"+":"/")),Qt=e=>Tr(ar(e)),Br=e=>{if(typeof e!="string")return!1;const r=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(r)||!/[^\s0-9a-zA-Z\-_]/.test(r)},sr=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),ur=function(){const e=(r,t)=>Object.defineProperty(String.prototype,r,sr(t));e("fromBase64",function(){return Qt(this)}),e("toBase64",function(r){return St(this,r)}),e("toBase64URI",function(){return St(this,!0)}),e("toBase64URL",function(){return St(this,!0)}),e("toUint8Array",function(){return or(this)})},lr=function(){const e=(r,t)=>Object.defineProperty(Uint8Array.prototype,r,sr(t));e("toBase64",function(r){return $t(this,r)}),e("toBase64URI",function(){return $t(this,!0)}),e("toBase64URL",function(){return $t(this,!0)})},Dr=()=>{ur(),lr()},jr={version:Ve,VERSION:Ur,atob:le,atobPolyfill:nr,btoa:ue,btoaPolyfill:tr,fromBase64:Qt,toBase64:St,encode:St,encodeURI:we,encodeURL:we,utob:er,btou:rr,decode:Qt,isValid:Br,fromUint8Array:$t,toUint8Array:or,extendString:ur,extendUint8Array:lr,extendBuiltins:Dr};var Fr=function(r,t){if(t=t.split(":")[0],r=+r,!r)return!1;switch(t){case"http":case"ws":return r!==80;case"https":case"wss":return r!==443;case"ftp":return r!==21;case"gopher":return r!==70;case"file":return!1}return r!==0},fe={},Lr=Object.prototype.hasOwnProperty,Nr;function ke(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function xe(e){try{return encodeURIComponent(e)}catch{return null}}function Hr(e){for(var r=/([^=?#&]+)=?([^&]*)/g,t={},n;n=r.exec(e);){var l=ke(n[1]),o=ke(n[2]);l===null||o===null||l in t||(t[l]=o)}return t}function Zr(e,r){r=r||"";var t=[],n,l;typeof r!="string"&&(r="?");for(l in e)if(Lr.call(e,l)){if(n=e[l],!n&&(n===null||n===Nr||isNaN(n))&&(n=""),l=xe(l),n=xe(n),l===null||n===null)continue;t.push(l+"="+n)}return t.length?r+t.join("&"):""}fe.stringify=Zr;fe.parse=Hr;var fr=Fr,Yt=fe,Mr=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,cr=/[\n\r\t]/g,Wr=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,hr=/:\d+$/,$r=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,qr=/^[a-zA-Z]:/;function ce(e){return(e||"").toString().replace(Mr,"")}var te=[["#","hash"],["?","query"],function(r,t){return mt(t.protocol)?r.replace(/\\/g,"/"):r},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Se={hash:1,query:1};function dr(e){var r;typeof window<"u"?r=window:typeof kt<"u"?r=kt:typeof self<"u"?r=self:r={};var t=r.location||{};e=e||t;var n={},l=typeof e,o;if(e.protocol==="blob:")n=new yt(unescape(e.pathname),{});else if(l==="string"){n=new yt(e,{});for(o in Se)delete n[o]}else if(l==="object"){for(o in e)o in Se||(n[o]=e[o]);n.slashes===void 0&&(n.slashes=Wr.test(e.href))}return n}function mt(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function pr(e,r){e=ce(e),e=e.replace(cr,""),r=r||{};var t=$r.exec(e),n=t[1]?t[1].toLowerCase():"",l=!!t[2],o=!!t[3],u=0,a;return l?o?(a=t[2]+t[3]+t[4],u=t[2].length+t[3].length):(a=t[2]+t[4],u=t[2].length):o?(a=t[3]+t[4],u=t[3].length):a=t[4],n==="file:"?u>=2&&(a=a.slice(2)):mt(n)?a=t[4]:n?l&&(a=a.slice(2)):u>=2&&mt(r.protocol)&&(a=t[4]),{protocol:n,slashes:l||mt(n),slashesCount:u,rest:a}}function Gr(e,r){if(e==="")return r;for(var t=(r||"/").split("/").slice(0,-1).concat(e.split("/")),n=t.length,l=t[n-1],o=!1,u=0;n--;)t[n]==="."?t.splice(n,1):t[n]===".."?(t.splice(n,1),u++):u&&(n===0&&(o=!0),t.splice(n,1),u--);return o&&t.unshift(""),(l==="."||l==="..")&&t.push(""),t.join("/")}function yt(e,r,t){if(e=ce(e),e=e.replace(cr,""),!(this instanceof yt))return new yt(e,r,t);var n,l,o,u,a,f,g=te.slice(),x=typeof r,m=this,S=0;for(x!=="object"&&x!=="string"&&(t=r,r=null),t&&typeof t!="function"&&(t=Yt.parse),r=dr(r),l=pr(e||"",r),n=!l.protocol&&!l.slashes,m.slashes=l.slashes||n&&r.slashes,m.protocol=l.protocol||r.protocol||"",e=l.rest,(l.protocol==="file:"&&(l.slashesCount!==2||qr.test(e))||!l.slashes&&(l.protocol||l.slashesCount<2||!mt(m.protocol)))&&(g[3]=[/(.*)/,"pathname"]);S<g.length;S++){if(u=g[S],typeof u=="function"){e=u(e,m);continue}o=u[0],f=u[1],o!==o?m[f]=e:typeof o=="string"?(a=o==="@"?e.lastIndexOf(o):e.indexOf(o),~a&&(typeof u[2]=="number"?(m[f]=e.slice(0,a),e=e.slice(a+u[2])):(m[f]=e.slice(a),e=e.slice(0,a)))):(a=o.exec(e))&&(m[f]=a[1],e=e.slice(0,a.index)),m[f]=m[f]||n&&u[3]&&r[f]||"",u[4]&&(m[f]=m[f].toLowerCase())}t&&(m.query=t(m.query)),n&&r.slashes&&m.pathname.charAt(0)!=="/"&&(m.pathname!==""||r.pathname!=="")&&(m.pathname=Gr(m.pathname,r.pathname)),m.pathname.charAt(0)!=="/"&&mt(m.protocol)&&(m.pathname="/"+m.pathname),fr(m.port,m.protocol)||(m.host=m.hostname,m.port=""),m.username=m.password="",m.auth&&(a=m.auth.indexOf(":"),~a?(m.username=m.auth.slice(0,a),m.username=encodeURIComponent(decodeURIComponent(m.username)),m.password=m.auth.slice(a+1),m.password=encodeURIComponent(decodeURIComponent(m.password))):m.username=encodeURIComponent(decodeURIComponent(m.auth)),m.auth=m.password?m.username+":"+m.password:m.username),m.origin=m.protocol!=="file:"&&mt(m.protocol)&&m.host?m.protocol+"//"+m.host:"null",m.href=m.toString()}function Kr(e,r,t){var n=this;switch(e){case"query":typeof r=="string"&&r.length&&(r=(t||Yt.parse)(r)),n[e]=r;break;case"port":n[e]=r,fr(r,n.protocol)?r&&(n.host=n.hostname+":"+r):(n.host=n.hostname,n[e]="");break;case"hostname":n[e]=r,n.port&&(r+=":"+n.port),n.host=r;break;case"host":n[e]=r,hr.test(r)?(r=r.split(":"),n.port=r.pop(),n.hostname=r.join(":")):(n.hostname=r,n.port="");break;case"protocol":n.protocol=r.toLowerCase(),n.slashes=!t;break;case"pathname":case"hash":if(r){var l=e==="pathname"?"/":"#";n[e]=r.charAt(0)!==l?l+r:r}else n[e]=r;break;case"username":case"password":n[e]=encodeURIComponent(r);break;case"auth":var o=r.indexOf(":");~o?(n.username=r.slice(0,o),n.username=encodeURIComponent(decodeURIComponent(n.username)),n.password=r.slice(o+1),n.password=encodeURIComponent(decodeURIComponent(n.password))):n.username=encodeURIComponent(decodeURIComponent(r))}for(var u=0;u<te.length;u++){var a=te[u];a[4]&&(n[a[1]]=n[a[1]].toLowerCase())}return n.auth=n.password?n.username+":"+n.password:n.username,n.origin=n.protocol!=="file:"&&mt(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function Yr(e){(!e||typeof e!="function")&&(e=Yt.stringify);var r,t=this,n=t.host,l=t.protocol;l&&l.charAt(l.length-1)!==":"&&(l+=":");var o=l+(t.protocol&&t.slashes||mt(t.protocol)?"//":"");return t.username?(o+=t.username,t.password&&(o+=":"+t.password),o+="@"):t.password?(o+=":"+t.password,o+="@"):t.protocol!=="file:"&&mt(t.protocol)&&!n&&t.pathname!=="/"&&(o+="@"),(n[n.length-1]===":"||hr.test(t.hostname)&&!t.port)&&(n+=":"),o+=n+t.pathname,r=typeof t.query=="object"?e(t.query):t.query,r&&(o+=r.charAt(0)!=="?"?"?"+r:r),t.hash&&(o+=t.hash),o}yt.prototype={set:Kr,toString:Yr};yt.extractProtocol=pr;yt.location=dr;yt.trimLeft=ce;yt.qs=Yt;var Xr=yt;const Vr=Ke(Xr);function Et(e){"@babel/helpers - typeof";return Et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Et(e)}function Ee(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qr(n.key),n)}}function Jr(e,r,t){return r&&Ee(e.prototype,r),t&&Ee(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qr(e){var r=tn(e,"string");return Et(r)=="symbol"?r:String(r)}function tn(e,r){if(Et(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(Et(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function en(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function rn(e,r,t){return r=It(r),nn(e,he()?Reflect.construct(r,t||[],It(e).constructor):r.apply(e,t))}function nn(e,r){if(r&&(Et(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return on(e)}function on(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function an(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Pt(e,r)}function ee(e){var r=typeof Map=="function"?new Map:void 0;return ee=function(n){if(n===null||!un(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof r<"u"){if(r.has(n))return r.get(n);r.set(n,l)}function l(){return sn(n,arguments,It(this).constructor)}return l.prototype=Object.create(n.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),Pt(l,n)},ee(e)}function sn(e,r,t){if(he())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,r);var l=new(e.bind.apply(e,n));return t&&Pt(l,t.prototype),l}function he(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(he=function(){return!!e})()}function un(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function Pt(e,r){return Pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,l){return n.__proto__=l,n},Pt(e,r)}function It(e){return It=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},It(e)}var Wt=function(e){an(r,e);function r(t){var n,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(en(this,r),n=rn(this,r,[t]),n.originalRequest=o,n.originalResponse=u,n.causingError=l,l!=null&&(t+=", caused by ".concat(l.toString())),o!=null){var a=o.getHeader("X-Request-ID")||"n/a",f=o.getMethod(),g=o.getURL(),x=u?u.getStatus():"n/a",m=u?u.getBody()||"":"n/a";t+=", originated from request (method: ".concat(f,", url: ").concat(g,", response code: ").concat(x,", response text: ").concat(m,", request id: ").concat(a,")")}return n.message=t,n}return Jr(r)}(ee(Error));function ln(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var r=Math.random()*16|0,t=e==="x"?r:r&3|8;return t.toString(16)})}function re(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */re=function(){return r};var e,r={},t=Object.prototype,n=t.hasOwnProperty,l=Object.defineProperty||function(A,p,U){A[p]=U.value},o=typeof Symbol=="function"?Symbol:{},u=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",f=o.toStringTag||"@@toStringTag";function g(A,p,U){return Object.defineProperty(A,p,{value:U,enumerable:!0,configurable:!0,writable:!0}),A[p]}try{g({},"")}catch{g=function(U,z,D){return U[z]=D}}function x(A,p,U,z){var D=p&&p.prototype instanceof d?p:d,k=Object.create(D.prototype),C=new s(z||[]);return l(k,"_invoke",{value:K(A,U,C)}),k}function m(A,p,U){try{return{type:"normal",arg:A.call(p,U)}}catch(z){return{type:"throw",arg:z}}}r.wrap=x;var S="suspendedStart",h="suspendedYield",w="executing",c="completed",y={};function d(){}function b(){}function O(){}var P={};g(P,u,function(){return this});var I=Object.getPrototypeOf,H=I&&I(I(N([])));H&&H!==t&&n.call(H,u)&&(P=H);var F=O.prototype=d.prototype=Object.create(P);function $(A){["next","throw","return"].forEach(function(p){g(A,p,function(U){return this._invoke(p,U)})})}function B(A,p){function U(D,k,C,V){var q=m(A[D],A,k);if(q.type!=="throw"){var G=q.arg,et=G.value;return et&&gt(et)=="object"&&n.call(et,"__await")?p.resolve(et.__await).then(function(it){U("next",it,C,V)},function(it){U("throw",it,C,V)}):p.resolve(et).then(function(it){G.value=it,C(G)},function(it){return U("throw",it,C,V)})}V(q.arg)}var z;l(this,"_invoke",{value:function(k,C){function V(){return new p(function(q,G){U(k,C,q,G)})}return z=z?z.then(V,V):V()}})}function K(A,p,U){var z=S;return function(D,k){if(z===w)throw new Error("Generator is already running");if(z===c){if(D==="throw")throw k;return{value:e,done:!0}}for(U.method=D,U.arg=k;;){var C=U.delegate;if(C){var V=Q(C,U);if(V){if(V===y)continue;return V}}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(z===S)throw z=c,U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);z=w;var q=m(A,p,U);if(q.type==="normal"){if(z=U.done?c:h,q.arg===y)continue;return{value:q.arg,done:U.done}}q.type==="throw"&&(z=c,U.method="throw",U.arg=q.arg)}}}function Q(A,p){var U=p.method,z=A.iterator[U];if(z===e)return p.delegate=null,U==="throw"&&A.iterator.return&&(p.method="return",p.arg=e,Q(A,p),p.method==="throw")||U!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+U+"' method")),y;var D=m(z,A.iterator,p.arg);if(D.type==="throw")return p.method="throw",p.arg=D.arg,p.delegate=null,y;var k=D.arg;return k?k.done?(p[A.resultName]=k.value,p.next=A.nextLoc,p.method!=="return"&&(p.method="next",p.arg=e),p.delegate=null,y):k:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,y)}function E(A){var p={tryLoc:A[0]};1 in A&&(p.catchLoc=A[1]),2 in A&&(p.finallyLoc=A[2],p.afterLoc=A[3]),this.tryEntries.push(p)}function L(A){var p=A.completion||{};p.type="normal",delete p.arg,A.completion=p}function s(A){this.tryEntries=[{tryLoc:"root"}],A.forEach(E,this),this.reset(!0)}function N(A){if(A||A===""){var p=A[u];if(p)return p.call(A);if(typeof A.next=="function")return A;if(!isNaN(A.length)){var U=-1,z=function D(){for(;++U<A.length;)if(n.call(A,U))return D.value=A[U],D.done=!1,D;return D.value=e,D.done=!0,D};return z.next=z}}throw new TypeError(gt(A)+" is not iterable")}return b.prototype=O,l(F,"constructor",{value:O,configurable:!0}),l(O,"constructor",{value:b,configurable:!0}),b.displayName=g(O,f,"GeneratorFunction"),r.isGeneratorFunction=function(A){var p=typeof A=="function"&&A.constructor;return!!p&&(p===b||(p.displayName||p.name)==="GeneratorFunction")},r.mark=function(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,O):(A.__proto__=O,g(A,f,"GeneratorFunction")),A.prototype=Object.create(F),A},r.awrap=function(A){return{__await:A}},$(B.prototype),g(B.prototype,a,function(){return this}),r.AsyncIterator=B,r.async=function(A,p,U,z,D){D===void 0&&(D=Promise);var k=new B(x(A,p,U,z),D);return r.isGeneratorFunction(p)?k:k.next().then(function(C){return C.done?C.value:k.next()})},$(F),g(F,f,"Generator"),g(F,u,function(){return this}),g(F,"toString",function(){return"[object Generator]"}),r.keys=function(A){var p=Object(A),U=[];for(var z in p)U.push(z);return U.reverse(),function D(){for(;U.length;){var k=U.pop();if(k in p)return D.value=k,D.done=!1,D}return D.done=!0,D}},r.values=N,s.prototype={constructor:s,reset:function(p){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!p)for(var U in this)U.charAt(0)==="t"&&n.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=e)},stop:function(){this.done=!0;var p=this.tryEntries[0].completion;if(p.type==="throw")throw p.arg;return this.rval},dispatchException:function(p){if(this.done)throw p;var U=this;function z(G,et){return C.type="throw",C.arg=p,U.next=G,et&&(U.method="next",U.arg=e),!!et}for(var D=this.tryEntries.length-1;D>=0;--D){var k=this.tryEntries[D],C=k.completion;if(k.tryLoc==="root")return z("end");if(k.tryLoc<=this.prev){var V=n.call(k,"catchLoc"),q=n.call(k,"finallyLoc");if(V&&q){if(this.prev<k.catchLoc)return z(k.catchLoc,!0);if(this.prev<k.finallyLoc)return z(k.finallyLoc)}else if(V){if(this.prev<k.catchLoc)return z(k.catchLoc,!0)}else{if(!q)throw new Error("try statement without catch or finally");if(this.prev<k.finallyLoc)return z(k.finallyLoc)}}}},abrupt:function(p,U){for(var z=this.tryEntries.length-1;z>=0;--z){var D=this.tryEntries[z];if(D.tryLoc<=this.prev&&n.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var k=D;break}}k&&(p==="break"||p==="continue")&&k.tryLoc<=U&&U<=k.finallyLoc&&(k=null);var C=k?k.completion:{};return C.type=p,C.arg=U,k?(this.method="next",this.next=k.finallyLoc,y):this.complete(C)},complete:function(p,U){if(p.type==="throw")throw p.arg;return p.type==="break"||p.type==="continue"?this.next=p.arg:p.type==="return"?(this.rval=this.arg=p.arg,this.method="return",this.next="end"):p.type==="normal"&&U&&(this.next=U),y},finish:function(p){for(var U=this.tryEntries.length-1;U>=0;--U){var z=this.tryEntries[U];if(z.finallyLoc===p)return this.complete(z.completion,z.afterLoc),L(z),y}},catch:function(p){for(var U=this.tryEntries.length-1;U>=0;--U){var z=this.tryEntries[U];if(z.tryLoc===p){var D=z.completion;if(D.type==="throw"){var k=D.arg;L(z)}return k}}throw new Error("illegal catch attempt")},delegateYield:function(p,U,z){return this.delegate={iterator:N(p),resultName:U,nextLoc:z},this.method==="next"&&(this.arg=e),y}},r}function Oe(e,r,t,n,l,o,u){try{var a=e[o](u),f=a.value}catch(g){t(g);return}a.done?r(f):Promise.resolve(f).then(n,l)}function fn(e){return function(){var r=this,t=arguments;return new Promise(function(n,l){var o=e.apply(r,t);function u(f){Oe(o,n,l,u,a,"next",f)}function a(f){Oe(o,n,l,u,a,"throw",f)}u(void 0)})}}function mr(e,r){return pn(e)||dn(e,r)||hn(e,r)||cn()}function cn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hn(e,r){if(e){if(typeof e=="string")return Ue(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ue(e,r)}}function Ue(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function dn(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,l,o,u,a=[],f=!0,g=!1;try{if(o=(t=t.call(e)).next,r===0){if(Object(t)!==t)return;f=!1}else for(;!(f=(n=o.call(t)).done)&&(a.push(n.value),a.length!==r);f=!0);}catch(x){g=!0,l=x}finally{try{if(!f&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(g)throw l}}return a}}function pn(e){if(Array.isArray(e))return e}function gt(e){"@babel/helpers - typeof";return gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gt(e)}function Ae(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,n)}return t}function bt(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ae(Object(t),!0).forEach(function(n){mn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ae(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function mn(e,r,t){return r=yr(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function yn(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ce(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yr(n.key),n)}}function _n(e,r,t){return r&&Ce(e.prototype,r),t&&Ce(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yr(e){var r=gn(e,"string");return gt(r)=="symbol"?r:String(r)}function gn(e,r){if(gt(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(gt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ne="tus-v1",qt="ietf-draft-03",vn={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:_r,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,parallelUploadBoundaries:null,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null,protocol:ne},Gt=function(){function e(r,t){yn(this,e),"resume"in t&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=t,this.options.chunkSize=Number(this.options.chunkSize),this._urlStorage=this.options.urlStorage,this.file=r,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}return _n(e,[{key:"findPreviousUploads",value:function(){var t=this;return this.options.fingerprint(this.file,this.options).then(function(n){return t._urlStorage.findUploadsByFingerprint(n)})}},{key:"resumeFromPreviousUpload",value:function(t){this.url=t.uploadUrl||null,this._parallelUploadUrls=t.parallelUploadUrls||null,this._urlStorageKey=t.urlStorageKey}},{key:"start",value:function(){var t=this,n=this.file;if(!n){this._emitError(new Error("tus: no file or stream to upload provided"));return}if(![ne,qt].includes(this.options.protocol)){this._emitError(new Error("tus: unsupported protocol ".concat(this.options.protocol)));return}if(!this.options.endpoint&&!this.options.uploadUrl&&!this.url){this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));return}var l=this.options.retryDelays;if(l!=null&&Object.prototype.toString.call(l)!=="[object Array]"){this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));return}if(this.options.parallelUploads>1)for(var o=0,u=["uploadUrl","uploadSize","uploadLengthDeferred"];o<u.length;o++){var a=u[o];if(this.options[a]){this._emitError(new Error("tus: cannot use the ".concat(a," option when parallelUploads is enabled")));return}}if(this.options.parallelUploadBoundaries){if(this.options.parallelUploads<=1){this._emitError(new Error("tus: cannot use the `parallelUploadBoundaries` option when `parallelUploads` is disabled"));return}if(this.options.parallelUploads!==this.options.parallelUploadBoundaries.length){this._emitError(new Error("tus: the `parallelUploadBoundaries` must have the same length as the value of `parallelUploads`"));return}}this.options.fingerprint(n,this.options).then(function(f){return t._fingerprint=f,t._source?t._source:t.options.fileReader.openFile(n,t.options.chunkSize)}).then(function(f){if(t._source=f,t.options.uploadLengthDeferred)t._size=null;else if(t.options.uploadSize!=null){if(t._size=Number(t.options.uploadSize),Number.isNaN(t._size)){t._emitError(new Error("tus: cannot convert `uploadSize` option into a number"));return}}else if(t._size=t._source.size,t._size==null){t._emitError(new Error("tus: cannot automatically derive upload's size from input. Specify it manually using the `uploadSize` option or use the `uploadLengthDeferred` option"));return}t.options.parallelUploads>1||t._parallelUploadUrls!=null?t._startParallelUpload():t._startSingleUpload()}).catch(function(f){t._emitError(f)})}},{key:"_startParallelUpload",value:function(){var t,n=this,l=this._size,o=0;this._parallelUploads=[];var u=this._parallelUploadUrls!=null?this._parallelUploadUrls.length:this.options.parallelUploads,a=(t=this.options.parallelUploadBoundaries)!==null&&t!==void 0?t:wn(this._source.size,u);this._parallelUploadUrls&&a.forEach(function(x,m){x.uploadUrl=n._parallelUploadUrls[m]||null}),this._parallelUploadUrls=new Array(a.length);var f=a.map(function(x,m){var S=0;return n._source.slice(x.start,x.end).then(function(h){var w=h.value;return new Promise(function(c,y){var d=bt(bt({},n.options),{},{uploadUrl:x.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,parallelUploadBoundaries:null,metadata:{},headers:bt(bt({},n.options.headers),{},{"Upload-Concat":"partial"}),onSuccess:c,onError:y,onProgress:function(P){o=o-S+P,S=P,n._emitProgress(o,l)},onUploadUrlAvailable:function(){n._parallelUploadUrls[m]=b.url,n._parallelUploadUrls.filter(function(P){return!!P}).length===a.length&&n._saveUploadInUrlStorage()}}),b=new e(w,d);b.start(),n._parallelUploads.push(b)})})}),g;Promise.all(f).then(function(){g=n._openRequest("POST",n.options.endpoint),g.setHeader("Upload-Concat","final;".concat(n._parallelUploadUrls.join(" ")));var x=ze(n.options.metadata);return x!==""&&g.setHeader("Upload-Metadata",x),n._sendRequest(g,null)}).then(function(x){if(!wt(x.getStatus(),200)){n._emitHttpError(g,x,"tus: unexpected response while creating upload");return}var m=x.getHeader("Location");if(m==null){n._emitHttpError(g,x,"tus: invalid or missing Location header");return}n.url=Te(n.options.endpoint,m),"Created upload at ".concat(n.url),n._emitSuccess()}).catch(function(x){n._emitError(x)})}},{key:"_startSingleUpload",value:function(){if(this._aborted=!1,this.url!=null){"Resuming upload from previous URL: ".concat(this.url),this._resumeUpload();return}if(this.options.uploadUrl!=null){"Resuming upload from provided URL: ".concat(this.options.uploadUrl),this.url=this.options.uploadUrl,this._resumeUpload();return}this._createUpload()}},{key:"abort",value:function(t){var n=this;return this._parallelUploads!=null&&this._parallelUploads.forEach(function(l){l.abort(t)}),this._req!==null&&this._req.abort(),this._aborted=!0,this._retryTimeout!=null&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),!t||this.url==null?Promise.resolve():e.terminate(this.url,this.options).then(function(){return n._removeFromUrlStorage()})}},{key:"_emitHttpError",value:function(t,n,l,o){this._emitError(new Wt(l,o,t,n))}},{key:"_emitError",value:function(t){var n=this;if(!this._aborted){if(this.options.retryDelays!=null){var l=this._offset!=null&&this._offset>this._offsetBeforeRetry;if(l&&(this._retryAttempt=0),Ie(t,this._retryAttempt,this.options)){var o=this.options.retryDelays[this._retryAttempt++];this._offsetBeforeRetry=this._offset,this._retryTimeout=setTimeout(function(){n.start()},o);return}}if(typeof this.options.onError=="function")this.options.onError(t);else throw t}}},{key:"_emitSuccess",value:function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),typeof this.options.onSuccess=="function"&&this.options.onSuccess()}},{key:"_emitProgress",value:function(t,n){typeof this.options.onProgress=="function"&&this.options.onProgress(t,n)}},{key:"_emitChunkComplete",value:function(t,n,l){typeof this.options.onChunkComplete=="function"&&this.options.onChunkComplete(t,n,l)}},{key:"_createUpload",value:function(){var t=this;if(!this.options.endpoint){this._emitError(new Error("tus: unable to create upload because no endpoint is provided"));return}var n=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?n.setHeader("Upload-Defer-Length",1):n.setHeader("Upload-Length",this._size);var l=ze(this.options.metadata);l!==""&&n.setHeader("Upload-Metadata",l);var o;this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,o=this._addChunkToRequest(n)):(this.options.protocol===qt&&n.setHeader("Upload-Complete","?0"),o=this._sendRequest(n,null)),o.then(function(u){if(!wt(u.getStatus(),200)){t._emitHttpError(n,u,"tus: unexpected response while creating upload");return}var a=u.getHeader("Location");if(a==null){t._emitHttpError(n,u,"tus: invalid or missing Location header");return}if(t.url=Te(t.options.endpoint,a),"Created upload at ".concat(t.url),typeof t.options.onUploadUrlAvailable=="function"&&t.options.onUploadUrlAvailable(),t._size===0){t._emitSuccess(),t._source.close();return}t._saveUploadInUrlStorage().then(function(){t.options.uploadDataDuringCreation?t._handleUploadResponse(n,u):(t._offset=0,t._performUpload())})}).catch(function(u){t._emitHttpError(n,null,"tus: failed to create upload",u)})}},{key:"_resumeUpload",value:function(){var t=this,n=this._openRequest("HEAD",this.url),l=this._sendRequest(n,null);l.then(function(o){var u=o.getStatus();if(!wt(u,200)){if(u===423){t._emitHttpError(n,o,"tus: upload is currently locked; retry later");return}if(wt(u,400)&&t._removeFromUrlStorage(),!t.options.endpoint){t._emitHttpError(n,o,"tus: unable to resume upload (new upload cannot be created without an endpoint)");return}t.url=null,t._createUpload();return}var a=parseInt(o.getHeader("Upload-Offset"),10);if(Number.isNaN(a)){t._emitHttpError(n,o,"tus: invalid or missing offset value");return}var f=parseInt(o.getHeader("Upload-Length"),10);if(Number.isNaN(f)&&!t.options.uploadLengthDeferred&&t.options.protocol===ne){t._emitHttpError(n,o,"tus: invalid or missing length value");return}typeof t.options.onUploadUrlAvailable=="function"&&t.options.onUploadUrlAvailable(),t._saveUploadInUrlStorage().then(function(){if(a===f){t._emitProgress(f,f),t._emitSuccess();return}t._offset=a,t._performUpload()})}).catch(function(o){t._emitHttpError(n,null,"tus: failed to resume upload",o)})}},{key:"_performUpload",value:function(){var t=this;if(!this._aborted){var n;this.options.overridePatchMethod?(n=this._openRequest("POST",this.url),n.setHeader("X-HTTP-Method-Override","PATCH")):n=this._openRequest("PATCH",this.url),n.setHeader("Upload-Offset",this._offset);var l=this._addChunkToRequest(n);l.then(function(o){if(!wt(o.getStatus(),200)){t._emitHttpError(n,o,"tus: unexpected response while uploading chunk");return}t._handleUploadResponse(n,o)}).catch(function(o){t._aborted||t._emitHttpError(n,null,"tus: failed to upload chunk at offset ".concat(t._offset),o)})}}},{key:"_addChunkToRequest",value:function(t){var n=this,l=this._offset,o=this._offset+this.options.chunkSize;return t.setProgressHandler(function(u){n._emitProgress(l+u,n._size)}),t.setHeader("Content-Type","application/offset+octet-stream"),(o===1/0||o>this._size)&&!this.options.uploadLengthDeferred&&(o=this._size),this._source.slice(l,o).then(function(u){var a=u.value,f=u.done,g=a&&a.size?a.size:0;n.options.uploadLengthDeferred&&f&&(n._size=n._offset+g,t.setHeader("Upload-Length",n._size));var x=n._offset+g;return!n.options.uploadLengthDeferred&&f&&x!==n._size?Promise.reject(new Error("upload was configured with a size of ".concat(n._size," bytes, but the source is done after ").concat(x," bytes"))):a===null?n._sendRequest(t):(n.options.protocol===qt&&t.setHeader("Upload-Complete",f?"?1":"?0"),n._emitProgress(n._offset,n._size),n._sendRequest(t,a))})}},{key:"_handleUploadResponse",value:function(t,n){var l=parseInt(n.getHeader("Upload-Offset"),10);if(Number.isNaN(l)){this._emitHttpError(t,n,"tus: invalid or missing offset value");return}if(this._emitProgress(l,this._size),this._emitChunkComplete(l-this._offset,l,this._size),this._offset=l,l===this._size){this._emitSuccess(),this._source.close();return}this._performUpload()}},{key:"_openRequest",value:function(t,n){var l=Re(t,n,this.options);return this._req=l,l}},{key:"_removeFromUrlStorage",value:function(){var t=this;this._urlStorageKey&&(this._urlStorage.removeUpload(this._urlStorageKey).catch(function(n){t._emitError(n)}),this._urlStorageKey=null)}},{key:"_saveUploadInUrlStorage",value:function(){var t=this;if(!this.options.storeFingerprintForResuming||!this._fingerprint||this._urlStorageKey!==null)return Promise.resolve();var n={size:this._size,metadata:this.options.metadata,creationTime:new Date().toString()};return this._parallelUploads?n.parallelUploadUrls=this._parallelUploadUrls:n.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,n).then(function(l){t._urlStorageKey=l})}},{key:"_sendRequest",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return Pe(t,n,this.options)}}],[{key:"terminate",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=Re("DELETE",t,n);return Pe(l,null,n).then(function(o){if(o.getStatus()!==204)throw new Wt("tus: unexpected response while terminating upload",null,l,o)}).catch(function(o){if(o instanceof Wt||(o=new Wt("tus: failed to terminate upload",o,l,null)),!Ie(o,0,n))throw o;var u=n.retryDelays[0],a=n.retryDelays.slice(1),f=bt(bt({},n),{},{retryDelays:a});return new Promise(function(g){return setTimeout(g,u)}).then(function(){return e.terminate(t,f)})})}}]),e}();function ze(e){return Object.entries(e).map(function(r){var t=mr(r,2),n=t[0],l=t[1];return"".concat(n," ").concat(jr.encode(String(l)))}).join(",")}function wt(e,r){return e>=r&&e<r+100}function Re(e,r,t){var n=t.httpStack.createRequest(e,r);t.protocol===qt?n.setHeader("Upload-Draft-Interop-Version","5"):n.setHeader("Tus-Resumable","1.0.0");var l=t.headers||{};if(Object.entries(l).forEach(function(u){var a=mr(u,2),f=a[0],g=a[1];n.setHeader(f,g)}),t.addRequestId){var o=ln();n.setHeader("X-Request-ID",o)}return n}function Pe(e,r,t){return ie.apply(this,arguments)}function ie(){return ie=fn(re().mark(function e(r,t,n){var l;return re().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(typeof n.onBeforeRequest!="function"){u.next=3;break}return u.next=3,n.onBeforeRequest(r);case 3:return u.next=5,r.send(t);case 5:if(l=u.sent,typeof n.onAfterResponse!="function"){u.next=9;break}return u.next=9,n.onAfterResponse(r,l);case 9:return u.abrupt("return",l);case 10:case"end":return u.stop()}},e)})),ie.apply(this,arguments)}function bn(){var e=!0;return typeof navigator<"u"&&navigator.onLine===!1&&(e=!1),e}function Ie(e,r,t){return t.retryDelays==null||r>=t.retryDelays.length||e.originalRequest==null?!1:t&&typeof t.onShouldRetry=="function"?t.onShouldRetry(e,r,t):_r(e)}function _r(e){var r=e.originalResponse?e.originalResponse.getStatus():0;return(!wt(r,400)||r===409||r===423)&&bn()}function Te(e,r){return new Vr(r,e).toString()}function wn(e,r){for(var t=Math.floor(e/r),n=[],l=0;l<r;l++)n.push({start:t*l,end:t*(l+1)});return n[r-1].end=e,n}Gt.defaultOptions=vn;function Tt(e){"@babel/helpers - typeof";return Tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Tt(e)}function kn(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Be(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sn(n.key),n)}}function xn(e,r,t){return r&&Be(e.prototype,r),t&&Be(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sn(e){var r=En(e,"string");return Tt(r)=="symbol"?r:String(r)}function En(e,r){if(Tt(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(Tt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var On=function(){function e(){kn(this,e)}return xn(e,[{key:"listAllUploads",value:function(){return Promise.resolve([])}},{key:"findUploadsByFingerprint",value:function(t){return Promise.resolve([])}},{key:"removeUpload",value:function(t){return Promise.resolve()}},{key:"addUpload",value:function(t,n){return Promise.resolve(null)}}]),e}();function Bt(e){"@babel/helpers - typeof";return Bt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Bt(e)}function Un(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function De(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cn(n.key),n)}}function An(e,r,t){return r&&De(e.prototype,r),t&&De(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cn(e){var r=zn(e,"string");return Bt(r)=="symbol"?r:String(r)}function zn(e,r){if(Bt(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(Bt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var oe=!1;try{oe="localStorage"in window;var Vt="tusSupport",je=localStorage.getItem(Vt);localStorage.setItem(Vt,je),je===null&&localStorage.removeItem(Vt)}catch(e){if(e.code===e.SECURITY_ERR||e.code===e.QUOTA_EXCEEDED_ERR)oe=!1;else throw e}var Rn=oe,Pn=function(){function e(){Un(this,e)}return An(e,[{key:"findAllUploads",value:function(){var t=this._findEntries("tus::");return Promise.resolve(t)}},{key:"findUploadsByFingerprint",value:function(t){var n=this._findEntries("tus::".concat(t,"::"));return Promise.resolve(n)}},{key:"removeUpload",value:function(t){return localStorage.removeItem(t),Promise.resolve()}},{key:"addUpload",value:function(t,n){var l=Math.round(Math.random()*1e12),o="tus::".concat(t,"::").concat(l);return localStorage.setItem(o,JSON.stringify(n)),Promise.resolve(o)}},{key:"_findEntries",value:function(t){for(var n=[],l=0;l<localStorage.length;l++){var o=localStorage.key(l);if(o.indexOf(t)===0)try{var u=JSON.parse(localStorage.getItem(o));u.urlStorageKey=o,n.push(u)}catch{}}return n}}]),e}();function Dt(e){"@babel/helpers - typeof";return Dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Dt(e)}function de(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Fe(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,In(n.key),n)}}function pe(e,r,t){return r&&Fe(e.prototype,r),t&&Fe(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function In(e){var r=Tn(e,"string");return Dt(r)=="symbol"?r:String(r)}function Tn(e,r){if(Dt(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(Dt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Bn=function(){function e(){de(this,e)}return pe(e,[{key:"createRequest",value:function(t,n){return new Dn(t,n)}},{key:"getName",value:function(){return"XHRHttpStack"}}]),e}(),Dn=function(){function e(r,t){de(this,e),this._xhr=new XMLHttpRequest,this._xhr.open(r,t,!0),this._method=r,this._url=t,this._headers={}}return pe(e,[{key:"getMethod",value:function(){return this._method}},{key:"getURL",value:function(){return this._url}},{key:"setHeader",value:function(t,n){this._xhr.setRequestHeader(t,n),this._headers[t]=n}},{key:"getHeader",value:function(t){return this._headers[t]}},{key:"setProgressHandler",value:function(t){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(n){n.lengthComputable&&t(n.loaded)})}},{key:"send",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return new Promise(function(l,o){t._xhr.onload=function(){l(new jn(t._xhr))},t._xhr.onerror=function(u){o(u)},t._xhr.send(n)})}},{key:"abort",value:function(){return this._xhr.abort(),Promise.resolve()}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),e}(),jn=function(){function e(r){de(this,e),this._xhr=r}return pe(e,[{key:"getStatus",value:function(){return this._xhr.status}},{key:"getHeader",value:function(t){return this._xhr.getResponseHeader(t)}},{key:"getBody",value:function(){return this._xhr.responseText}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),e}(),gr=function(){return typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"};function Fn(e){return new Promise(function(r,t){var n=new XMLHttpRequest;n.responseType="blob",n.onload=function(){var l=n.response;r(l)},n.onerror=function(l){t(l)},n.open("GET",e),n.send()})}var Ln=function(){return typeof window<"u"&&(typeof window.PhoneGap<"u"||typeof window.Cordova<"u"||typeof window.cordova<"u")};function Nn(e){return new Promise(function(r,t){var n=new FileReader;n.onload=function(){var l=new Uint8Array(n.result);r({value:l})},n.onerror=function(l){t(l)},n.readAsArrayBuffer(e)})}function jt(e){"@babel/helpers - typeof";return jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jt(e)}function Hn(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Le(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mn(n.key),n)}}function Zn(e,r,t){return r&&Le(e.prototype,r),t&&Le(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mn(e){var r=Wn(e,"string");return jt(r)=="symbol"?r:String(r)}function Wn(e,r){if(jt(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(jt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Ne=function(){function e(r){Hn(this,e),this._file=r,this.size=r.size}return Zn(e,[{key:"slice",value:function(t,n){if(Ln())return Nn(this._file.slice(t,n));var l=this._file.slice(t,n),o=n>=this.size;return Promise.resolve({value:l,done:o})}},{key:"close",value:function(){}}]),e}();function Ft(e){"@babel/helpers - typeof";return Ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ft(e)}function $n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function He(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gn(n.key),n)}}function qn(e,r,t){return r&&He(e.prototype,r),t&&He(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gn(e){var r=Kn(e,"string");return Ft(r)=="symbol"?r:String(r)}function Kn(e,r){if(Ft(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(Ft(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ze(e){return e===void 0?0:e.size!==void 0?e.size:e.length}function Yn(e,r){if(e.concat)return e.concat(r);if(e instanceof Blob)return new Blob([e,r],{type:e.type});if(e.set){var t=new e.constructor(e.length+r.length);return t.set(e),t.set(r,e.length),t}throw new Error("Unknown data type")}var Xn=function(){function e(r){$n(this,e),this._buffer=void 0,this._bufferOffset=0,this._reader=r,this._done=!1}return qn(e,[{key:"slice",value:function(t,n){return t<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(t,n)}},{key:"_readUntilEnoughDataOrDone",value:function(t,n){var l=this,o=n<=this._bufferOffset+Ze(this._buffer);if(this._done||o){var u=this._getDataFromBuffer(t,n),a=u==null?this._done:!1;return Promise.resolve({value:u,done:a})}return this._reader.read().then(function(f){var g=f.value,x=f.done;return x?l._done=!0:l._buffer===void 0?l._buffer=g:l._buffer=Yn(l._buffer,g),l._readUntilEnoughDataOrDone(t,n)})}},{key:"_getDataFromBuffer",value:function(t,n){t>this._bufferOffset&&(this._buffer=this._buffer.slice(t-this._bufferOffset),this._bufferOffset=t);var l=Ze(this._buffer)===0;return this._done&&l?null:this._buffer.slice(0,n-t)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}]),e}();function vt(e){"@babel/helpers - typeof";return vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},vt(e)}function ae(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ae=function(){return r};var e,r={},t=Object.prototype,n=t.hasOwnProperty,l=Object.defineProperty||function(A,p,U){A[p]=U.value},o=typeof Symbol=="function"?Symbol:{},u=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",f=o.toStringTag||"@@toStringTag";function g(A,p,U){return Object.defineProperty(A,p,{value:U,enumerable:!0,configurable:!0,writable:!0}),A[p]}try{g({},"")}catch{g=function(U,z,D){return U[z]=D}}function x(A,p,U,z){var D=p&&p.prototype instanceof d?p:d,k=Object.create(D.prototype),C=new s(z||[]);return l(k,"_invoke",{value:K(A,U,C)}),k}function m(A,p,U){try{return{type:"normal",arg:A.call(p,U)}}catch(z){return{type:"throw",arg:z}}}r.wrap=x;var S="suspendedStart",h="suspendedYield",w="executing",c="completed",y={};function d(){}function b(){}function O(){}var P={};g(P,u,function(){return this});var I=Object.getPrototypeOf,H=I&&I(I(N([])));H&&H!==t&&n.call(H,u)&&(P=H);var F=O.prototype=d.prototype=Object.create(P);function $(A){["next","throw","return"].forEach(function(p){g(A,p,function(U){return this._invoke(p,U)})})}function B(A,p){function U(D,k,C,V){var q=m(A[D],A,k);if(q.type!=="throw"){var G=q.arg,et=G.value;return et&&vt(et)=="object"&&n.call(et,"__await")?p.resolve(et.__await).then(function(it){U("next",it,C,V)},function(it){U("throw",it,C,V)}):p.resolve(et).then(function(it){G.value=it,C(G)},function(it){return U("throw",it,C,V)})}V(q.arg)}var z;l(this,"_invoke",{value:function(k,C){function V(){return new p(function(q,G){U(k,C,q,G)})}return z=z?z.then(V,V):V()}})}function K(A,p,U){var z=S;return function(D,k){if(z===w)throw new Error("Generator is already running");if(z===c){if(D==="throw")throw k;return{value:e,done:!0}}for(U.method=D,U.arg=k;;){var C=U.delegate;if(C){var V=Q(C,U);if(V){if(V===y)continue;return V}}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(z===S)throw z=c,U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);z=w;var q=m(A,p,U);if(q.type==="normal"){if(z=U.done?c:h,q.arg===y)continue;return{value:q.arg,done:U.done}}q.type==="throw"&&(z=c,U.method="throw",U.arg=q.arg)}}}function Q(A,p){var U=p.method,z=A.iterator[U];if(z===e)return p.delegate=null,U==="throw"&&A.iterator.return&&(p.method="return",p.arg=e,Q(A,p),p.method==="throw")||U!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+U+"' method")),y;var D=m(z,A.iterator,p.arg);if(D.type==="throw")return p.method="throw",p.arg=D.arg,p.delegate=null,y;var k=D.arg;return k?k.done?(p[A.resultName]=k.value,p.next=A.nextLoc,p.method!=="return"&&(p.method="next",p.arg=e),p.delegate=null,y):k:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,y)}function E(A){var p={tryLoc:A[0]};1 in A&&(p.catchLoc=A[1]),2 in A&&(p.finallyLoc=A[2],p.afterLoc=A[3]),this.tryEntries.push(p)}function L(A){var p=A.completion||{};p.type="normal",delete p.arg,A.completion=p}function s(A){this.tryEntries=[{tryLoc:"root"}],A.forEach(E,this),this.reset(!0)}function N(A){if(A||A===""){var p=A[u];if(p)return p.call(A);if(typeof A.next=="function")return A;if(!isNaN(A.length)){var U=-1,z=function D(){for(;++U<A.length;)if(n.call(A,U))return D.value=A[U],D.done=!1,D;return D.value=e,D.done=!0,D};return z.next=z}}throw new TypeError(vt(A)+" is not iterable")}return b.prototype=O,l(F,"constructor",{value:O,configurable:!0}),l(O,"constructor",{value:b,configurable:!0}),b.displayName=g(O,f,"GeneratorFunction"),r.isGeneratorFunction=function(A){var p=typeof A=="function"&&A.constructor;return!!p&&(p===b||(p.displayName||p.name)==="GeneratorFunction")},r.mark=function(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,O):(A.__proto__=O,g(A,f,"GeneratorFunction")),A.prototype=Object.create(F),A},r.awrap=function(A){return{__await:A}},$(B.prototype),g(B.prototype,a,function(){return this}),r.AsyncIterator=B,r.async=function(A,p,U,z,D){D===void 0&&(D=Promise);var k=new B(x(A,p,U,z),D);return r.isGeneratorFunction(p)?k:k.next().then(function(C){return C.done?C.value:k.next()})},$(F),g(F,f,"Generator"),g(F,u,function(){return this}),g(F,"toString",function(){return"[object Generator]"}),r.keys=function(A){var p=Object(A),U=[];for(var z in p)U.push(z);return U.reverse(),function D(){for(;U.length;){var k=U.pop();if(k in p)return D.value=k,D.done=!1,D}return D.done=!0,D}},r.values=N,s.prototype={constructor:s,reset:function(p){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!p)for(var U in this)U.charAt(0)==="t"&&n.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=e)},stop:function(){this.done=!0;var p=this.tryEntries[0].completion;if(p.type==="throw")throw p.arg;return this.rval},dispatchException:function(p){if(this.done)throw p;var U=this;function z(G,et){return C.type="throw",C.arg=p,U.next=G,et&&(U.method="next",U.arg=e),!!et}for(var D=this.tryEntries.length-1;D>=0;--D){var k=this.tryEntries[D],C=k.completion;if(k.tryLoc==="root")return z("end");if(k.tryLoc<=this.prev){var V=n.call(k,"catchLoc"),q=n.call(k,"finallyLoc");if(V&&q){if(this.prev<k.catchLoc)return z(k.catchLoc,!0);if(this.prev<k.finallyLoc)return z(k.finallyLoc)}else if(V){if(this.prev<k.catchLoc)return z(k.catchLoc,!0)}else{if(!q)throw new Error("try statement without catch or finally");if(this.prev<k.finallyLoc)return z(k.finallyLoc)}}}},abrupt:function(p,U){for(var z=this.tryEntries.length-1;z>=0;--z){var D=this.tryEntries[z];if(D.tryLoc<=this.prev&&n.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var k=D;break}}k&&(p==="break"||p==="continue")&&k.tryLoc<=U&&U<=k.finallyLoc&&(k=null);var C=k?k.completion:{};return C.type=p,C.arg=U,k?(this.method="next",this.next=k.finallyLoc,y):this.complete(C)},complete:function(p,U){if(p.type==="throw")throw p.arg;return p.type==="break"||p.type==="continue"?this.next=p.arg:p.type==="return"?(this.rval=this.arg=p.arg,this.method="return",this.next="end"):p.type==="normal"&&U&&(this.next=U),y},finish:function(p){for(var U=this.tryEntries.length-1;U>=0;--U){var z=this.tryEntries[U];if(z.finallyLoc===p)return this.complete(z.completion,z.afterLoc),L(z),y}},catch:function(p){for(var U=this.tryEntries.length-1;U>=0;--U){var z=this.tryEntries[U];if(z.tryLoc===p){var D=z.completion;if(D.type==="throw"){var k=D.arg;L(z)}return k}}throw new Error("illegal catch attempt")},delegateYield:function(p,U,z){return this.delegate={iterator:N(p),resultName:U,nextLoc:z},this.method==="next"&&(this.arg=e),y}},r}function Me(e,r,t,n,l,o,u){try{var a=e[o](u),f=a.value}catch(g){t(g);return}a.done?r(f):Promise.resolve(f).then(n,l)}function Vn(e){return function(){var r=this,t=arguments;return new Promise(function(n,l){var o=e.apply(r,t);function u(f){Me(o,n,l,u,a,"next",f)}function a(f){Me(o,n,l,u,a,"throw",f)}u(void 0)})}}function Jn(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function We(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ti(n.key),n)}}function Qn(e,r,t){return r&&We(e.prototype,r),t&&We(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ti(e){var r=ei(e,"string");return vt(r)=="symbol"?r:String(r)}function ei(e,r){if(vt(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(vt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ri=function(){function e(){Jn(this,e)}return Qn(e,[{key:"openFile",value:function(){var r=Vn(ae().mark(function n(l,o){var u;return ae().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!(gr()&&l&&typeof l.uri<"u")){f.next=11;break}return f.prev=1,f.next=4,Fn(l.uri);case 4:return u=f.sent,f.abrupt("return",new Ne(u));case 8:throw f.prev=8,f.t0=f.catch(1),new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(f.t0));case 11:if(!(typeof l.slice=="function"&&typeof l.size<"u")){f.next=13;break}return f.abrupt("return",Promise.resolve(new Ne(l)));case 13:if(typeof l.read!="function"){f.next=18;break}if(o=Number(o),Number.isFinite(o)){f.next=17;break}return f.abrupt("return",Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option")));case 17:return f.abrupt("return",Promise.resolve(new Xn(l,o)));case 18:return f.abrupt("return",Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment")));case 19:case"end":return f.stop()}},n,null,[[1,8]])}));function t(n,l){return r.apply(this,arguments)}return t}()}]),e}();function ni(e,r){return gr()?Promise.resolve(ii(e,r)):Promise.resolve(["tus-br",e.name,e.type,e.size,e.lastModified,r.endpoint].join("-"))}function ii(e,r){var t=e.exif?oi(JSON.stringify(e.exif)):"noexif";return["tus-rn",e.name||"noname",e.size||"nosize",t,r.endpoint].join("/")}function oi(e){var r=0;if(e.length===0)return r;for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);r=(r<<5)-r+n,r&=r}return r}function Ot(e){"@babel/helpers - typeof";return Ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ot(e)}function ai(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function $e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,br(n.key),n)}}function si(e,r,t){return r&&$e(e.prototype,r),t&&$e(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ui(e,r,t){return r=Kt(r),li(e,vr()?Reflect.construct(r,t||[],Kt(e).constructor):r.apply(e,t))}function li(e,r){if(r&&(Ot(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fi(e)}function fi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vr=function(){return!!e})()}function Kt(e){return Kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kt(e)}function ci(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&se(e,r)}function se(e,r){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,l){return n.__proto__=l,n},se(e,r)}function qe(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,n)}return t}function xt(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?qe(Object(t),!0).forEach(function(n){hi(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qe(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function hi(e,r,t){return r=br(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function br(e){var r=di(e,"string");return Ot(r)=="symbol"?r:String(r)}function di(e,r){if(Ot(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(Ot(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Ge=xt(xt({},Gt.defaultOptions),{},{httpStack:new Bn,fileReader:new ri,urlStorage:Rn?new Pn:new On,fingerprint:ni}),pi=function(e){ci(r,e);function r(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ai(this,r),n=xt(xt({},Ge),n),ui(this,r,[t,n])}return si(r,null,[{key:"terminate",value:function(n){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return l=xt(xt({},Ge),l),Gt.terminate(n,l)}}]),r}(Gt);const mi=()=>{const e="https://dev-updown.sbs.co.kr/";return{upload:r=>{const t=`${r.file.name.split(".")[0]}${Ye().format("YYMMDDHHmmSSS")}.${r.file.name.split(".").pop()}`;return new Promise((n,l)=>{new pi(r.file,{endpoint:`${e}uploads`,headers:{"X-Requested-With":"XMLHttpRequest"},chunkSize:209715200,metadata:{filename:t,filetype:r.file.type},onError:u=>{console.log(`Failed because: ${u}`),l(u)},onSuccess(){const u={fileName:t,extension:r.file.name.split(".").pop(),type:r.type??"attachment",canSearch:"false",mediaType:r.file.type.split("/")[0]};n(u)}}).start()})}}},yi=(e,r,t)=>{const n=window.URL.createObjectURL(new Blob([e])),l=document.createElement("a");l.href=n;let o=r;t==="excel"?o=`${o}.xlsx`:t==="abc"&&(o=`${o}.abc`),l.setAttribute("download",o),document.body.appendChild(l),l.click(),document.body.removeChild(l)},gi=Sr("file",{state:()=>({files:[]}),actions:{async fileUpload(e){try{return await Ht().file.basic.upload(e)}catch(r){throw console.error("store: fileUpload()",r),r}},async fileDownload(e){try{const r=Ht(),t={fileId:e.fileId},n=await r.file.basic.download(t);yi(n,e.name)}catch(r){console.error("store: fileDownload()",r)}},async downloadAllFiles(e){const r=Ye(new Date).format("YYYY-MM-DD"),t=e.map(async f=>{const g=Ht(),x={fileId:f.fileId};return{blob:await g.file.basic.download(x),fileName:f.fileNm}}),n=await Promise.all(t),l=new Or;n.forEach(f=>{l.file(f.fileName,f.blob)});const o=await l.generateAsync({type:"blob"}),u=document.createElement("a");u.download=`files_${r}.zip`;const a=URL.createObjectURL(o);u.href=a,document.body.appendChild(u),u.click(),document.body.removeChild(u)},async RequestFileUploadMam(e){try{return await Ht().mam.basic.fileRequest(e)}catch(r){console.error(r)}},async tusFileUpload(e){try{const t=await mi().upload(e);return this.RequestFileUploadMam(t)}catch(r){throw console.error("store: fileUpload()",r),r}}}});export{gi as u};
