import{p as O,q as G,d as D,ac as Y,k as f,l as S,t as H,ai as W,a as r,c as A,Y as i,G as l,j as o,a1 as Z,aj as w,ak as I,b1 as J,F as B,h,al as E,ad as V,w as y,K as b,X as R,a3 as F,am as ee,a0 as te,a2 as ae,Q as k,an as $,ao as le}from"./index-eLyz9_Ts.js";import{d as P}from"./format.util-TjqX3dGB.js";import{p as se}from"./time-formatter-ySAnBDjB.js";import"./journalist-QNhBHHjf.js";import"./organization-qjYuRO6g.js";import{h as oe}from"./html-dompurify.util-O5obI-gX.js";import{_ as T}from"./IconLabel.vue_vue_type_script_setup_true_lang-1rGRsbjZ.js";import{_ as ie}from"./VDCEditor.vue_vue_type_script_setup_true_lang-IhnNo6sk.js";import{g as ne}from"./edtior.helper-P5juSeN5.js";import{_ as re}from"./ArticleHeader.vue_vue_type_script_setup_true_lang-yXyrXb9T.js";import{_ as K}from"./ContentHeaderButtons.vue_vue_type_script_setup_true_lang-Db8CUXqr.js";import{_ as ce,a as me,C as ue,b as de}from"./InjestDefaultForm.vue_vue_type_script_setup_true_lang-5k6d6I19.js";import{_ as fe,a as pe}from"./VideoCoverageDetailModal.vue_vue_type_script_setup_true_lang-kK6MFMJO.js";import{c as q}from"./make-grid-column-aeLSdEws.js";import{G as he}from"./GRadioGroup-cHw1G1ew.js";import{u as _e,a as M,_ as ve}from"./CommentV2.vue_vue_type_script_setup_true_lang-bRF2pab6.js";const U=Symbol("ArticleTabState"),Q=Symbol("ArticleTabActions");function ge(_,s){O(U,_),O(Q,s)}function X(){const _=G(U),s=G(Q);if(!_||!s)throw new Error("useArticleTab must be used within an ArticleTab provider");return{state:_,actions:s}}const ye={class:"flex items-center gap-x-2 mt-2"},we={class:"flex-grow"},be={class:"flex gap-x-1"},Ce={class:"grid grid-cols-4 pt-2"},De={class:"grid grid-cols-3 pt-2"},Se={class:"mt-2 h-full dark:bg-dark bg-white p-2 border border-primary-gray-999"},xe="primary",ke=D({__name:"ArticleDefaultInfo",setup(_){const s=Y(),{cloneArticle:e}=s,{state:t,actions:c}=X(),v=f(""),d=S(()=>{var u;return`${(u=t.articleHistoryData.value)==null?void 0:u.length}건`}),g=S(()=>{var u,n;return ne((u=t.articleData.value)==null?void 0:u.artclFormatCd,(n=t.articleData.value)==null?void 0:n.artclTypCd)}),C=async()=>{var m;const u=(m=t.articleData.value)==null?void 0:m.id;await e(u,{changeReporter:!1,changeScheduleDay:!0,reportLocation:"reportLocation",scheduledDay:"2024-12-12T02:00:00.00Z",replaceArticle:!0})};return H(()=>{var u;return(u=t.articleData.value)==null?void 0:u.artclCtt},async u=>{if(!u){v.value="";return}try{const n=await oe(u);v.value=n}catch(n){console.error("Error sanitizing content",n),v.value=""}},{immediate:!0}),(u,n)=>{var a,p,x,N,z,L;const m=W("tooltip");return r(),A(B,null,[i("div",ye,[i("div",we,[l(Z,{"model-value":(a=o(t).articleData.value)==null?void 0:a.artclTitl,intent:xe,disabled:""},null,8,["model-value"])]),i("div",be,[w(l(I,{icon:"userGroup",class:"bg-primary text-white p-1",onClick:o(c).onShowAuthorityView},null,8,["onClick"]),[[m,"권한보기"]]),w(l(I,{icon:"sparkles",class:"bg-primary text-white p-1",onClick:o(c).onShowSpellChecker},null,8,["onClick"]),[[m,"맞춤법"]]),w(l(I,{icon:"clipboardDocumentList",class:"bg-primary text-white p-1"},null,512),[[m,"자막복사"]]),w(l(I,{icon:"clipboardDocument",class:"bg-primary text-white p-1",onClick:C},null,512),[[m,"기사복사"]]),w(l(I,{icon:"key",class:"bg-primary text-white p-1",onClick:o(c).onUnlock},null,8,["onClick"]),[[m,"해제"]])])]),i("div",Ce,[w(l(T,{icon:"Tv",text:o(P)((p=o(t).articleData.value)==null?void 0:p.brdcPgmNm)},null,8,["text"]),[[m,"프로그램"]]),w(l(T,{icon:"pencil",text:(x=o(t).articleData.value)==null?void 0:x.inputrNm},null,8,["text"]),[[m,"작성자"]]),w(l(T,{icon:"documentText",text:d.value},null,8,["text"]),[[m,"이력"]]),w(l(T,{icon:"checkBadge",text:"1111"},null,512),[[m,"데스킹"]])]),i("div",De,[w(l(T,{icon:"videoCamera",text:o(P)(o(J)((N=o(t).articleData.value)==null?void 0:N.brdcSchdDtm))},null,8,["text"]),[[m,"방송예정일"]]),w(l(T,{icon:"clock",text:o(se)((z=o(t).articleData.value)==null?void 0:z.artclCttTime)},null,8,["text"]),[[m,"전체멘트시간"]]),w(l(T,{icon:"calendarDays",text:o(P)((L=o(t).articleData.value)==null?void 0:L.inputDtm)},null,8,["text"]),[[m,"작성시간"]])]),i("div",Se,[l(ie,{content:v.value,disabled:"",mode:g.value,"editor-class":"vdc-readonly","custom-class":"font-roboto font-medium","spell-check":!1},null,8,["content","mode"])])],64)}}}),$e=D({__name:"ArticleContentsList",props:{isLoading:{type:Boolean},rowData:{},pageInfo:{}},setup(_){const s=[{headerName:"NO",field:"NO",filter:!1,hide:!1,sortable:!1,maxWidth:60,flex:1},{headerName:"구분",field:"type",filter:!1,hide:!1,sortable:!1,maxWidth:60,flex:1},{headerName:"제목",field:"title",filter:!1,hide:!1,sortable:!1,flex:1},{headerName:"의뢰일자",field:"requestDate",filter:!1,hide:!1,sortable:!1,maxWidth:120,flex:1}];return(e,t)=>(r(),h(E,{class:"w-full h-full flex flex-col","column-defs":s,"row-data":e.rowData,"is-loading":e.isLoading,"page-info":e.pageInfo,"row-selection":"single"},null,8,["row-data","is-loading","page-info"]))}}),Te={class:"flex flex-col h-full"},Ae={class:"h-[25vh]"},Ie=D({__name:"ArticleContents",setup(_){const s=f(V.sm),e=f({isShow:!0,page:1,totalElements:0,totalPages:1,numberOfElements:0,size:s.value}),t=S(()=>[{id:1,label:"새로고침"},{id:2,label:"오디오"}]),c=f([{id:1,type:1,title:'[영상]"사죄하라"야스쿠니 앞..',requestDate:"2024-10-31"},{id:2,type:1,title:'[영상]"손흥민" 노화..',requestDate:"2024-10-30"},{id:3,type:2,title:"ASMR",requestDate:"2024-10-29"}]);return(v,d)=>(r(),A("div",Te,[l(re,{"menu-items":t.value,"is-show-search":!1},null,8,["menu-items"]),i("div",Ae,[l($e,{"is-loading":!0,"row-data":c.value,"page-info":e.value},null,8,["row-data","page-info"])]),d[0]||(d[0]=i("div",{class:"flex flex-grow justify-center items-center"},"video player",-1))]))}}),Ne=D({__name:"ArticleRequestList",props:{isLoading:{type:Boolean},rowData:{},pageInfo:{}},setup(_){const s=[{headerName:"NO",field:"NO",filter:!1,hide:!1,sortable:!1,maxWidth:60,flex:1},{headerName:"작업유형",field:"workType",filter:!1,hide:!1,sortable:!1,maxWidth:100,flex:1},{headerName:"제목",field:"title",filter:!1,hide:!1,sortable:!1,flex:1},{headerName:"작업상태",field:"workStatus",filter:!1,hide:!1,sortable:!1,maxWidth:100,flex:1},{headerName:"의뢰자",field:"requestId",filter:!1,hide:!1,sortable:!1,maxWidth:120,flex:1},{headerName:"의뢰일자",field:"requestDate",filter:!1,hide:!1,sortable:!1,maxWidth:120,flex:1}];return(e,t)=>(r(),h(E,{class:"w-full h-full flex flex-col","column-defs":s,"row-data":e.rowData,"is-loading":e.isLoading,"page-info":e.pageInfo,"row-selection":"single"},null,8,["row-data","is-loading","page-info"]))}}),qe={class:"flex justify-end border-b"},He={class:"h-[25vh]"},Re=D({__name:"ArticleRequest",setup(_){const s=f(!1),e=f(!1),t=f(!1),c=f(!1),v=f(V.sm),d=f({isShow:!0,page:1,totalElements:0,totalPages:1,numberOfElements:0,size:v.value}),g=[{id:1,label:"새로고침"},{id:2,label:"인제스트의뢰",action:()=>{s.value=!s.value}},{id:3,label:"CG의뢰",action:()=>{e.value=!e.value}},{id:4,label:"취재의뢰",action:()=>{t.value=!t.value}},{id:5,label:"편집의뢰",action:()=>{c.value=!c.value}}],C=f([{id:1,workType:1,title:"의뢰 타이틀11111",workStatus:1,requestId:"test11",requestDate:"2024-08-11"},{id:2,workType:2,title:"의뢰 타이틀22222",workStatus:2,requestId:"test22",requestDate:"2024-08-11"},{id:3,workType:3,title:"의뢰 타이틀3333",workStatus:2,requestId:"test33",requestDate:"2024-08-11"},{id:4,workType:4,title:"의뢰 타이틀4444",workStatus:2,requestId:"test44",requestDate:"2024-08-11"}]);return(u,n)=>(r(),A(B,null,[i("div",qe,[l(K,{"menu-items":g})]),i("div",He,[l(Ne,{"row-data":C.value,"page-info":d.value},null,8,["row-data","page-info"])]),i("div",null,[s.value?(r(),h(me,{key:0,onClose:n[0]||(n[0]=m=>s.value=!1)},{default:y(()=>[l(ce)]),_:1})):b("",!0),e.value?(r(),h(fe,{key:1,onClose:n[1]||(n[1]=m=>e.value=!1)},{default:y(()=>[l(ue)]),_:1})):b("",!0),t.value?(r(),h(pe,{key:2,onClose:n[2]||(n[2]=m=>t.value=!1)})):b("",!0),c.value?(r(),h(de,{key:3,onClose:n[3]||(n[3]=m=>c.value=!1)})):b("",!0)])],64))}}),Pe={class:"flex items-center justify-between w-full"},Be={class:"flex items-center gap-4"},j=D({__name:"ArticleHistoryHeader",props:{menuItems:{}},setup(_){const s=[{typeId:1,typeName:"전체"},{typeId:2,typeName:"요약이력"}];return(e,t)=>(r(),A("div",Pe,[i("div",Be,[t[0]||(t[0]=i("span",{class:"text-sm font-medium text-gray-700"},"유형별 이력 조건",-1)),l(he,{"track-by":"typeName","value-key":"typeId",options:s,class:"border rounded-md px-2 py-0.5 bg-white text-gray-700"}),l(I,{icon:"magnifyingGlass",class:"bg-primary text-white rounded-full p-2"})]),i("div",null,[l(K,{"menu-items":e.menuItems},null,8,["menu-items"])])]))}}),Ee=D({__name:"ArticleHistoryDetailModal",emits:["close"],setup(_,{emit:s}){const e=s,t=()=>{e("close")},c=S(()=>[{id:1,label:"기사화"},{id:2,label:"Post"},{id:3,label:"인쇄"},{id:4,label:"닫기"}]);return(v,d)=>(r(),h(F,{"modal-class":"w-1/2 h-1/2","content-class":"h-full",onClose:t},{title:y(()=>d[0]||(d[0]=[R("기사 이력")])),content:y(()=>[i("div",null,[l(j,{"menu-items":c.value},null,8,["menu-items"])])]),_:1}))}}),je=D({__name:"ArticleHistoryCompareModal",emits:["close"],setup(_,{emit:s}){const e=s,t=()=>{e("close")},c=S(()=>[{id:1,label:"기사화"},{id:2,label:"Post"},{id:3,label:"인쇄"},{id:4,label:"닫기"}]);return(v,d)=>(r(),h(F,{"modal-class":"w-[calc(100%-2rem)] h-[calc(100%-2rem)]","content-class":"h-full",onClose:t},{title:y(()=>d[0]||(d[0]=[R("비교하기")])),content:y(()=>[i("div",null,[l(j,{"menu-items":c.value},null,8,["menu-items"])]),d[1]||(d[1]=i("div",null,[i("div"),i("div")],-1))]),_:1}))}}),ze={class:"flex justify-end border-b mb-2 py-2"},Le={class:"h-full"},Oe=D({__name:"ArticleHistory",props:{articleHistoryData:{}},emits:["update:page"],setup(_,{emit:s}){const e=s,t=f(!1),c=f({detail:!1,compare:!1}),v=f(1),d=f(10),g=f({isShow:!0,page:v.value,totalElements:0,totalPages:1,numberOfElements:0,size:d.value}),C=a=>{c.value[a]=!c.value[a]},u=a=>{e("update:page",a)},n=S(()=>[{id:1,label:"새로고침"},{id:2,label:"비교하기",action:()=>C("compare")}]),m=[q({headerName:"NO",cellRenderer:a=>ee(a)}),q({headerName:"제목",field:"artclTitl"}),q({headerName:"유형"}),q({headerName:"일시"}),q({headerName:"사용자"})];return(a,p)=>(r(),A(B,null,[i("div",ze,[l(j,{"menu-items":n.value},null,8,["menu-items"])]),i("div",Le,[l(E,{"is-loading":t.value,"row-data":a.articleHistoryData,"column-defs":m,"page-info":g.value,class:"w-full h-full flex flex-col",onOnChangePage:u},null,8,["is-loading","row-data","page-info"])]),i("div",null,[c.value.detail?(r(),h(Ee,{key:0,onClose:p[0]||(p[0]=x=>C("detail"))})):b("",!0),c.value.compare?(r(),h(je,{key:1,onClose:p[1]||(p[1]=x=>C("compare"))})):b("",!0)])],64))}}),Ge={class:"flex justify-between items-center"},Me={class:"text-sm"},We={class:"h-full"},Ve=D({__name:"ArticleComment",setup(_){const{state:s,actions:e}=X(),{commentCount:t,transformedComments:c,handleSubmit:v,handleRemove:d,handleComment:g}=_e({commentData:s.articleCommentData,transformer:M,actions:e});return(C,u)=>{const n=W("tooltip");return r(),A("div",null,[i("div",Ge,[i("div",Me,te(o(t))+")",1),w(l(ae,{icon:"arrowPath",type:"text",onClick:o(e).onRefreshComments},null,8,["onClick"]),[[n,"새로고침"]])]),i("div",We,[l(ve,{"comment-data":o(c),transformer:o(M),onSubmit:o(v),onRemove:o(d),onToggleReaction:o(g)},null,8,["comment-data","transformer","onSubmit","onRemove","onToggleReaction"])])])}}}),Fe={class:"h-full w-full p-0.5 bg-white dark:bg-dark-grid rounded-md"},ct=D({__name:"ArticleSearchTabPanel",props:{isShowDetail:{type:Boolean,default:!0},isShowContents:{type:Boolean,default:!0},isShowRequest:{type:Boolean,default:!0},isShowHistory:{type:Boolean,default:!0},isShowPlan:{type:Boolean,default:!0},isShowComment:{type:Boolean,default:!0},isShowSuper:{type:Boolean,default:!0},articleData:{default:void 0},articleHistoryData:{default:void 0},articleCommentData:{default:void 0},articleEditorState:{},articleFileTab:{},mode:{default:"read"},articleId:{default:0}},emits:["show-authority-view-modal","show-spell-checker-modal","update:history-page","on-load-comment","on-unlock","submit-comment","remove-comment","refresh-comments","toggle-comment-reaction"],setup(_,{emit:s}){const e=_,t=s,c=f(0),v=S(()=>[{id:1,name:"상세정보",isShow:e.isShowDetail},{id:2,name:"콘텐츠",isShow:e.isShowContents},{id:3,name:"의뢰정보",isShow:e.isShowRequest},{id:4,name:"기사이력",isShow:e.isShowHistory},{id:5,name:"구성안",isShow:e.isShowPlan},{id:6,name:"코멘트",isShow:e.isShowComment},{id:7,name:"수퍼",isShow:e.isShowSuper}]),d=async a=>{var x,N;switch(c.value=a,v.value[a].id){case 4:(x=e.articleHistoryData)!=null&&x.length||t("update:history-page",1);break;case 6:(N=e.articleCommentData)!=null&&N.length||t("on-load-comment");break}},g=S(()=>"flex flex-col h-full"),C=f(e.articleData),u=f(e.articleHistoryData),n=f(e.articleCommentData);ge({articleData:C,articleHistoryData:u,articleCommentData:n},{onShowAuthorityView:()=>t("show-authority-view-modal"),onShowSpellChecker:()=>t("show-spell-checker-modal"),onUnlock:()=>t("on-unlock"),onSubmitComment:(a,p)=>t("submit-comment",a,p),onRemoveComment:a=>t("remove-comment",a),onRefreshComments:()=>t("refresh-comments"),onToggleReaction:(a,p)=>t("toggle-comment-reaction",a,p),onHistoryPageChange:a=>t("update:history-page",a)});const m=a=>{t("update:history-page",a)};return H(()=>e.articleData,a=>{C.value=a},{immediate:!0}),H(()=>e.articleHistoryData,a=>{u.value=a},{immediate:!0}),H(()=>e.articleCommentData,a=>{n.value=a},{immediate:!0}),(a,p)=>(r(),A("div",Fe,[l(le,{tabs:v.value,"is-plain-text-mode":!0,"is-compact-mode":!0,onChange:d},{default:y(()=>[a.isShowDetail?(r(),h(o($),{key:0,unmount:!1,class:k(g.value)},{default:y(()=>[l(ke)]),_:1},8,["class"])):b("",!0),a.isShowContents?(r(),h(o($),{key:1,unmount:!1,class:k(g.value)},{default:y(()=>[l(Ie)]),_:1},8,["class"])):b("",!0),a.isShowRequest?(r(),h(o($),{key:2,unmount:!1,class:k(g.value)},{default:y(()=>[l(Re)]),_:1},8,["class"])):b("",!0),a.isShowHistory?(r(),h(o($),{key:3,unmount:!1,class:k(g.value)},{default:y(()=>[l(Oe,{"article-history-data":a.articleHistoryData,"onUpdate:page":m},null,8,["article-history-data"])]),_:1},8,["class"])):b("",!0),a.isShowPlan?(r(),h(o($),{key:4,unmount:!1,class:k(g.value)},{default:y(()=>p[0]||(p[0]=[R(" 구성안 ")])),_:1},8,["class"])):b("",!0),a.isShowComment?(r(),h(o($),{key:5,unmount:!1,class:k(g.value)},{default:y(()=>[l(Ve)]),_:1},8,["class"])):b("",!0),a.isShowSuper?(r(),h(o($),{key:6,unmount:!1,class:k(g.value)},{default:y(()=>p[1]||(p[1]=[R(" 수퍼 ")])),_:1},8,["class"])):b("",!0)]),_:1},8,["tabs"])]))}});export{ct as _};
