import{c as d}from"./use-plan-menu-omF6lTyZ.js";import{e as _}from"./journalist-QNhBHHjf.js";import{k as m,ah as C,d as J,a as f,c as h,G as p,j as i,Y as v,h as B,K as S}from"./index-eLyz9_Ts.js";import"./organization-qjYuRO6g.js";import{_ as y}from"./JournalistHeader.vue_vue_type_script_setup_true_lang-49dK_3bg.js";import{u as w,_ as I}from"./JournalistForm.vue_vue_type_script_setup_true_lang-6Noz4xPg.js";import{_ as N}from"./ConfirmModal.vue_vue_type_script_setup_true_lang-k_ZxaDhN.js";import"./buttons-3hbXC8Cn.js";import"./GDatePicker.vue_vue_type_style_index_0_lang-aP5TJiAZ.js";import"./use-date-GeeGTbYh.js";import"./ContentHeaderButtons.vue_vue_type_script_setup_true_lang-Db8CUXqr.js";import"./GSingleSelect-7u8H0FdH.js";import"./vue-multiselect-Yz8FsF-E.js";import"./use-model-wrapper-XtiLc3Xd.js";import"./index.esm-Hbr0u7mK.js";import"./FormItem.vue_vue_type_script_setup_true_lang-ZXQ_7x89.js";import"./OpenTypeSelect.vue_vue_type_script_setup_true_lang-iyP-3dNY.js";import"./UserSearchModal.vue_vue_type_script_setup_true_lang-iHw_FmsN.js";import"./make-grid-column-aeLSdEws.js";import"./OrganizationSelect.vue_vue_type_script_setup_true_lang-BNuugYEX.js";import"./VDCEditor.vue_vue_type_script_setup_true_lang-IhnNo6sk.js";import"./file-Gx0JxWZZ.js";import"./file-division-code-x51qUgaH.js";import"./news-source-d-EIoPzs.js";function V(t){const a=_(),{createJournalist:s}=a,r=m(),o=m();return{formRef:r,handlerCreateJournalist:e=>{o.value=e,t==null||t.onBeforeCreate()},handleCreateButton:async()=>{var e;if(r.value)try{await((e=r.value)==null?void 0:e.onSubmitJournalist())}catch(n){console.error("handleCreateButton Error",n)}},createJournalistItem:async()=>{try{(await s(o.value)).success&&(window.Notify.success({message:C.journalist.success.create}),t==null||t.onCreateSuccess())}catch(e){console.error("useJournalistCreateActions createJournalistItem Error",e)}}}}const A={class:"h-full"},k=J({__name:"JournalistCreateView",setup(t){const{formRef:a,closedTabAndMovePage:s,handleFormButton:r}=w(),o=m({submit:!1}),{handlerCreateJournalist:u,createJournalistItem:c}=V({onBeforeCreate:()=>{o.value.submit=!0},onCreateSuccess:()=>{o.value.submit=!1,s()}}),l=d({actionLabel:"저장",onAction:r,onClose:s});return(e,n)=>(f(),h("div",A,[p(y,{"is-show-search":!1,"menu-items":i(l)},null,8,["menu-items"]),v("div",null,[p(I,{ref_key:"formRef",ref:a,mode:"create",onOnSubmitJournlist:i(u)},null,8,["onOnSubmitJournlist"])]),o.value.submit?(f(),B(N,{key:0,text:"저장하시겠습니까?",onOnSubmit:i(c),onClose:n[0]||(n[0]=O=>o.value.submit=!1)},null,8,["onOnSubmit"])):S("",!0)]))}});export{k as default};
