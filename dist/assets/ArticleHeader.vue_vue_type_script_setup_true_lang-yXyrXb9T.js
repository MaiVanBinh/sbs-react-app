import{k as l,ae as v,l as Y,d as w,a7 as k,a as b,h as _,w as g,X as E,Y as o,G as i,af as M,Q as D,a1 as V,c as C,C as $,j as f,F as I,a3 as L,as as B,aj as R,au as U,a2 as A,$ as x,K as j}from"./index-eLyz9_Ts.js";import"./journalist-QNhBHHjf.js";import"./organization-qjYuRO6g.js";import"./article-type.code-5cb8riL1.js";import{u as T}from"./use-pagination-JgK9yJDA.js";import{_ as F}from"./GDatePicker.vue_vue_type_style_index_0_lang-aP5TJiAZ.js";import{_ as P}from"./ContentHeaderButtons.vue_vue_type_script_setup_true_lang-Db8CUXqr.js";import{_ as S}from"./FormItem.vue_vue_type_script_setup_true_lang-ZXQ_7x89.js";import{u as H}from"./use-model-wrapper-XtiLc3Xd.js";import{G as O}from"./GSingleSelect-7u8H0FdH.js";import{_ as q}from"./OrganizationSelect.vue_vue_type_script_setup_true_lang-BNuugYEX.js";import{_ as G}from"./ArticleTypeSelect.vue_vue_type_script_setup_true_lang-Kp5wzGNr.js";import{_ as N}from"./ProgramSelect.vue_vue_type_script_setup_true_lang-UHoCrnxw.js";function z(){const y=l("article"),h={selectedArticle:l(),selectedRowIndex:l(0),selectedRows:l([])},r={articleListItem:l([]),selectedArticleData:l(),selectedArticleHistoryData:l([]),selectedArticleCommentData:l([]),selectedArticleDeskingData:l()},d={articleListPagination:T(),articleHistoryListPagination:T({initialSize:10})},s={articleSearchCondition:l({startDate:v().format("YYYY-MM-DD"),endDate:v().format("YYYY-MM-DD"),divSearchDateType:"B",divSearchDate:v().format("YYYY-MM-DD")}),isDeleteArticle:l(!1),isDisasterArticle:l(!1)},m=l({anchorTextArray:[""],reporterTextArray:[""],captionArray:[]}),p=l([]),t=l([]),c=l(),n=l(!1),a=Y(()=>h.selectedRows.value.length>0),e=l({dateType:{id:"B",label:"방송예정일"},articleType:void 0,program:void 0,transferType:void 0});return{code:y,...h,...r,...d,...s,articleEditorState:m,articleFile:p,columnDefs:t,customColumn:c,hasSelectedItems:a,showDeleteList:n,filterState:e}}const K={FIELDS:[{label:"제목",field:"titl",type:"text"},{label:"기사내용",field:"titl",type:"text"},{label:"앵커멘트",field:"titl",type:"text"},{label:"작성자",field:"titl",type:"text"},{label:"프로그램",field:"titl",type:"text"},{label:"부서",field:"titl",type:"text"},{label:"참고사항",field:"titl",type:"text"},{label:"형식",field:"titl",type:"text"}]},Q={class:"mt-2"},W=w({__name:"ArticleDetailSearchModal",props:{initialValue:{}},emits:["close","search"],setup(y,{emit:h}){const r=y,d=h,s={formItem:"w-full mb-2"},m=l({startDate:v().format("YYYY-MM-DD"),endDate:v().format("YYYY-MM-DD"),divSearchDate:v().format("YYYY-MM-DD"),divSearchDateType:"B",...r.initialValue}),p=(c,n)=>{m.value={...m.value,[c]:n}},t=()=>{d("search",m.value),d("close")};return(c,n)=>{const a=k("g-button");return b(),_(L,{"modal-class":"w-1/3","content-class":"h-full",onClose:n[0]||(n[0]=e=>d("close"))},{title:g(()=>n[1]||(n[1]=[E("상세검색")])),content:g(()=>[o("div",null,[o("div",null,[o("div",null,[i(S,{label:"일자"},{default:g(()=>[i(M,{clearable:!0,class:D(s.formItem)},null,8,["class"])]),_:1}),i(S,{label:"검색어"},{default:g(()=>[i(V,{class:D(s.formItem)},null,8,["class"])]),_:1})])]),o("div",null,[(b(!0),C(I,null,$(f(K).FIELDS,e=>(b(),_(S,{key:e.field,label:e.label},{default:g(()=>[i(V,{class:D(s.formItem),"model-value":m.value[e.field],"onUpdate:modelValue":u=>p(e.field,u)},null,8,["class","model-value","onUpdate:modelValue"])]),_:2},1032,["label"]))),128))])])]),bottom:g(()=>[o("div",Q,[i(a,{"button-text":"검색",class:"w-full rounded-none",onClick:t})])]),_:1})}}}),X={SCHEDULED:{id:"B",name:"방송예정일",label:"방송예정일"},CREATED:{id:"I",name:"작성일자",label:"작성일자"}},J=Object.values(X),Z={class:"flex flex-col"},ee=w({__name:"ArticleDateTypeSelect",props:{modelValue:{default:""},placeholder:{default:"날짜 타입 선택"},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},selectLabel:{default:"선택"},deselectLabel:{default:"취소"},allowEmpty:{type:Boolean,default:!0},searchable:{type:Boolean,default:!1},required:{type:Boolean,default:!1},width:{default:"w-28"}},emits:["update:modelValue","on-selected"],setup(y,{emit:h}){const r=y,d=h,s=H(r,d,"modelValue"),m=t=>{s.value=t.id,d("update:modelValue",String(t.id)),d("on-selected",t)},p=()=>{s.value="",d("update:modelValue",""),d("on-selected",{id:"",name:"",label:""})};return(t,c)=>(b(),C("div",{class:D(t.width)},[o("div",Z,[i(O,{modelValue:f(s),"onUpdate:modelValue":c[0]||(c[0]=n=>B(s)?s.value=n:null),multiple:!1,"track-by":"id","item-label":"label",intent:"primary",options:f(J),placeholder:t.placeholder,searchable:t.searchable,disabled:t.disabled||t.readonly,"select-label":t.selectLabel,"deselect-label":t.deselectLabel,"allow-empty":t.allowEmpty,required:t.required,"onSelect:value":m,"onRemove:value":p},null,8,["modelValue","options","placeholder","searchable","disabled","select-label","deselect-label","allow-empty","required"])])],2))}}),le={class:"flex flex-wrap items-start"},te={class:"flex items-center gap-2 flex-1 min-w-[1000px]"},ae={class:"flex items-center gap-2"},oe={class:"flex gap-x-1"},se={class:"flex items-center px-2 gap-x-2"},ne={class:"flex justify-end"},De=w({__name:"ArticleHeader",props:{itemCount:{default:0},menuItems:{},isShowSearch:{type:Boolean,default:!0},type:{default:"detail"}},emits:["click:search","update:detail-search-value","on-change-date-type","on-change-date","on-change-program","on-change-article-type","on-change-transfer-type","on-toggle-deleted-articles"],setup(y,{emit:h}){const r=h,d=z(),{filterState:s}=d,m=l(!1),p=l(!1),t=l(!1),c=l(!1),n={search:{onSearch:()=>{r("click:search")},onDetailSearch:a=>{r("update:detail-search-value",a),c.value=!1},onDetailSearchModal:()=>{c.value=!c.value}},filter:{onChagneDateType:a=>{r("on-change-date-type",a.id)},onChangeDate:a=>{r("on-change-date",a)},onChangeArticleType:a=>{r("on-change-article-type",a.id)},onChangeProgram:a=>{r("on-change-program",a.id)},onChangeArticleTransferType:a=>{r("on-change-transfer-type",a.id)}},toggle:{onDeleteAritcles:()=>{p.value=!p.value,r("on-toggle-deleted-articles",p.value)}}};return(a,e)=>(b(),C("div",le,[o("div",{class:D(["w-full flex flex-wrap items-center gap-2 m-[-0.5rem] mb-0 px-2 py-2 bg-primary-gray-900 border-y border-primary-gray-surface-500 dark:bg-dark",a.isShowSearch?"justify-between":"justify-end"])},[R(o("div",te,[o("div",ae,[i(ee,{modelValue:f(s).dateType,"onUpdate:modelValue":e[0]||(e[0]=u=>f(s).dateType=u),"allow-empty":!1,onOnSelected:n.filter.onChagneDateType},null,8,["modelValue","onOnSelected"]),i(F,{intent:"primary",class:"w-[9rem]","onUpdate:modelValue":n.filter.onChangeDate},null,8,["onUpdate:modelValue"])]),e[6]||(e[6]=o("div",{class:"w-px h-4 bg-gray-400"},null,-1)),o("div",null,[i(q,{"hide-first-depth":"","hide-second-depth":"","is-news-room":""})]),e[7]||(e[7]=o("div",{class:"w-px h-4 bg-gray-400"},null,-1)),o("div",null,[i(G,{modelValue:f(s).articleType,"onUpdate:modelValue":e[1]||(e[1]=u=>f(s).articleType=u),onOnSelected:n.filter.onChangeArticleType},null,8,["modelValue","onOnSelected"])]),e[8]||(e[8]=o("div",{class:"w-px h-4 bg-gray-400"},null,-1)),o("div",null,[i(N,{modelValue:f(s).program,"onUpdate:modelValue":e[2]||(e[2]=u=>f(s).program=u),label:"",class:"w-32"},null,8,["modelValue"])]),e[9]||(e[9]=o("div",{class:"w-px h-4 bg-gray-400"},null,-1)),o("div",oe,[i(A,{icon:"magnifying-glass",type:"tertiary",onClick:n.search.onSearch},null,8,["onClick"]),i(A,{"button-text":"상세검색",type:"tertiary",onClick:n.search.onDetailSearchModal},null,8,["onClick"]),o("div",se,[i(x,{modelValue:m.value,"onUpdate:modelValue":e[3]||(e[3]=u=>m.value=u),label:"삭제자료",checked:p.value,onChange:n.toggle.onDeleteAritcles},null,8,["modelValue","checked","onChange"]),i(x,{modelValue:t.value,"onUpdate:modelValue":e[4]||(e[4]=u=>t.value=u),label:"자동검색"},null,8,["modelValue"])])])],512),[[U,a.isShowSearch]]),o("div",ne,[i(P,{"menu-items":a.menuItems},null,8,["menu-items"])])],2),c.value?(b(),_(W,{key:0,onSearch:n.search.onDetailSearchModal,onClose:e[5]||(e[5]=u=>c.value=!1)},null,8,["onSearch"])):j("",!0)]))}});export{De as _,z as u};
