import{d as k,a as v,h as w,w as u,X as x,Y as a,G as t,a2 as d,$ as U,a1 as M,a3 as g,k as p,ae as N,ai as O,aj as b,K as $,ah as E,c as Y}from"./index-eLyz9_Ts.js";import{G as A}from"./GTextarea-5GIFD2Mo.js";import{_ as I}from"./FileDropzone.vue_vue_type_script_setup_true_lang-SVeHifZw.js";import{u as G}from"./file-Gx0JxWZZ.js";const P={class:"border p-2 h-60"},S={class:"flex justify-end items-center gap-x-2"},T={class:"mt-2"},V={class:"mt-4"},H={class:"flex justify-center gap-x-2 my-4"},le=k({__name:"SuperInputModal",emits:["close"],setup(h,{emit:m}){const c=m,f=()=>{c("close")};return(s,l)=>(v(),w(g,{"modal-class":"w-1/3","content-class":"h-full",onClose:f},{title:u(()=>l[3]||(l[3]=[x("수퍼입력")])),content:u(()=>[a("div",null,[l[4]||(l[4]=a("span",{class:"flex-1 text-xs"},"내용",-1)),a("div",P,[a("div",S,[t(d,{"button-text":"기호삽입",onClick:l[0]||(l[0]=n=>console.log("기호삽입"))}),t(U,{label:"맞춤법체크"})]),a("div",T,[t(A,{rows:10})])]),a("div",V,[t(M,{label:"ID"})])])]),bottom:u(()=>[a("div",H,[t(d,{"button-text":"확인",onClick:l[1]||(l[1]=n=>console.log("confirm"))}),t(d,{"button-text":"취소",type:"secondary",onClick:l[2]||(l[2]=n=>console.log("cancel"))})])]),_:1}))}}),z={class:"space-y-4"},K={class:"flex flex-wrap space-x-2 justify-end gap-1 text-sm"},X={class:"flex justify-center"},q=["src"],J={class:"space-x-2 flex justify-end pt-4"},F="audio/wav",ae=k({__name:"RecordModal",emits:["close","on-add-file"],setup(h,{emit:m}){const c=m,f=()=>{c("close")},s=p(),l={audio:!0},n=p([]),e=p(!1),r=p(""),R=`recorded_audio_${N().format("YYYY-MM-DD HH-mm-ss")}`,_=p(),D=o=>{o.data.size>0&&n.value.push(o.data)},C=async()=>{try{const o=await navigator.mediaDevices.getUserMedia(l);o&&(s.value=new MediaRecorder(o),s.value.ondataavailable=D,s.value.start(),r.value="",_.value=null,e.value=!0)}catch(o){window.Notify.error({message:E.mediaRecorder.error}),console.error("녹음 시작 실패",o)}},B=()=>{s.value&&(s.value.stop(),s.value.onstop=()=>{if(n.value.length>0){const o=new Blob(n.value,{type:F});n.value.splice(0);const i=new File([o],R,{type:F});_.value=i,r.value=URL.createObjectURL(o)}},e.value=!1)},j=()=>{const o=document.createElement("a");o.href=r.value,o.download=R,o.click(),URL.revokeObjectURL(r.value)},L=()=>{c("on-add-file",_.value)};return(o,i)=>{const y=O("tooltip");return v(),w(g,{changed:!1,"dialog-overlay":!1,"content-class":"w-[500px]","modal-class":"h-[280px]",onClose:f},{title:u(()=>i[0]||(i[0]=[a("span",{class:""}," 녹음 ",-1)])),content:u(()=>[a("div",z,[a("div",K,[e.value?$("",!0):b((v(),w(d,{key:0,icon:"microphone",disabled:e.value,onClick:C},null,8,["disabled"])),[[y,"녹음"]]),e.value?b((v(),w(d,{key:1,icon:"stop-circle",disabled:!e.value,onClick:B},null,8,["disabled"])),[[y,"정지"]]):$("",!0),b(t(d,{icon:"-arrow-down-tray",disabled:e.value||!r.value,onClick:j},null,8,["disabled"]),[[y,"다운로드"]])]),a("div",X,[a("audio",{controls:"",src:r.value,controlsList:"noplaybackrate nodownload nofullscreen",class:"w-full"},null,8,q)]),a("div",J,[t(d,{type:"secondary",onClick:f},{default:u(()=>i[1]||(i[1]=[x(" 취소 ")])),_:1}),t(d,{disabled:!_.value,onClick:L},{default:u(()=>i[2]||(i[2]=[x(" 첨부파일 등록 ")])),_:1},8,["disabled"])])])]),_:1})}}}),Q={class:"h-full w-full mx-[-0.5em] rounded-md"},te=k({__name:"ArticleFileTabPanel",props:{isShowRecode:{type:Boolean},isShowFiles:{type:Boolean},isReadOnly:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1},articleRecodeData:{default:null},articleFileData:{default:null},mode:{default:"read"},articleId:{default:0}},emits:["on-upload-file","on-download-file","on-delete-file"],setup(h,{emit:m}){const c=m,{fileDownload:f}=G(),s=e=>{f(e.file)},l=e=>{c("on-upload-file",e)},n=e=>{c("on-delete-file",e)};return(e,r)=>(v(),Y("div",Q,[t(I,{"file-data":e.articleFileData,mode:e.mode,"is-read-only":e.isReadOnly,"is-preview":e.isPreview,onOnDownloadFile:s,onOnUploadFile:l,onOnDeleteFile:n},null,8,["file-data","mode","is-read-only","is-preview"])]))}});export{le as _,ae as a,te as b};
