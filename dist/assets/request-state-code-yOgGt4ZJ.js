var N=Object.defineProperty;var O=(c,r,t)=>r in c?N(c,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[r]=t;var s=(c,r,t)=>(O(c,typeof r!="symbol"?r+"":r,t),t);import{d as I,a5 as k,ac as Y,k as o,ad as $,ae as E,o as z,a as G,h as U,w as A,X as j,a0 as K,j as m,Y as n,G as i,af as B,L,a1 as F,a2 as h,a3 as J}from"./index-eLyz9_Ts.js";import{_ as W}from"./ArticleTypeSelect.vue_vue_type_script_setup_true_lang-Kp5wzGNr.js";import"./vue-multiselect-Yz8FsF-E.js";import"./GSingleSelect-7u8H0FdH.js";import"./tag-Q73uuSte.js";import"./program-omP_c4K3.js";import{_ as X}from"./UserSelect.vue_vue_type_script_setup_true_lang-Hk5THi0e.js";import"./category-zIRntbmZ.js";import"./department-wnuBQoCo.js";import{_ as H}from"./ArticleSearchTabPanel.vue_vue_type_script_setup_true_lang-t50ochUl.js";const Q={class:"flex flex-col h-full w-full space-y-4"},Z={class:"flex flex-row h-full space-x-2 w-full overflow-auto"},ee={class:"flex flex-col h-full space-y-4 basis-2/3"},ae={class:"flex items-center space-x-2"},te={class:"flex flex-col h-full basis-1/3 overflow-y-hidden"},le={class:"flex justify-end space-x-2"},he=I({__name:"SearchRequestArticleModal",emits:["close","selected-request-article"],setup(c,{emit:r}){const{t}=k(),_=r,p=()=>{_("close")},S=Y(),{fetchArticles:M}=S,V=o(),C=o({anchorTextArray:[""],reporterTextArray:[""],captionArray:[]}),D=o([]),g=o(1),R=o($.sm),T=o({isShow:!0,page:1,totalElements:0,totalPages:1,numberOfElements:0,size:R.value}),e=o({searchRangeDate:[E().subtract(1,"week").format("YYYY-MM-DD"),E().format("YYYY-MM-DD")],articleReporter:void 0,articleApprove:void 0,program:void 0,articleType:void 0,searchText:""}),w=o(!1),P=o([]),x=o(),y=async()=>{var f,a,l,b;try{w.value=!0;const v={startDate:e.value.searchRangeDate[0],endDate:e.value.searchRangeDate[1],apprvTypCds:(f=e.value.articleApprove)==null?void 0:f.id,brdcPgmId:(a=e.value.program)==null?void 0:a.id,artclTypCd:(l=e.value.articleType)==null?void 0:l.id,page:g.value-1,size:R.value,rptrId:(b=e.value.articleReporter)==null?void 0:b.id,searchValue:e.value.searchText},d=await M(v);d.success&&(P.value=d.data.content,T.value={isShow:!0,page:g.value,totalPages:d.data.totalPages,totalElements:d.data.totalElements,numberOfElements:d.data.numberOfElements,size:d.data.size})}catch(v){console.log("articleView getArticles Error",v)}finally{w.value=!1}},u=async()=>{await y()},q=()=>{_("selected-request-article",x.value.data),p()};return z(async()=>{await y()}),(f,a)=>(G(),U(J,{"modal-class":"sm:w-[90vw]","content-class":"h-[85vh]",onClose:p},{title:A(()=>[j(K(m(t)("Modal.RequestMovie.CreateModal.SearchRequestArticleModal.의뢰_기사_등록")),1)]),content:A(()=>[n("div",Q,[n("div",Z,[n("div",ee,[n("div",null,[n("div",ae,[i(B,{modelValue:e.value.searchRangeDate,"onUpdate:modelValue":a[0]||(a[0]=l=>e.value.searchRangeDate=l),onChange:u},null,8,["modelValue"]),i(m(X),{modelValue:e.value.articleReporter,"onUpdate:modelValue":a[1]||(a[1]=l=>e.value.articleReporter=l),class:"w-32","is-all-option":!0,"preselect-first":!0,onOnSelected:u},null,8,["modelValue"]),i(W,{modelValue:e.value.articleType,"onUpdate:modelValue":a[2]||(a[2]=l=>e.value.articleType=l),class:"w-32","is-all-option":!0,"preselect-first":!0,onOnSelected:u},null,8,["modelValue"]),i(F,{modelValue:e.value.searchText,"onUpdate:modelValue":a[3]||(a[3]=l=>e.value.searchText=l),placeholder:m(t)("ContactUsManagement.검색어"),onKeyup:L(u,["enter"])},null,8,["modelValue","placeholder"]),i(h,{icon:"magnifying-glass",onClick:u})])])]),n("div",te,[i(H,{"article-file-tab":D.value,"article-editor-state":C.value,"selected-article-data":V.value,"is-show-action-log":!1,"is-show-drop-zone":!1,"is-show-request":!1,"is-show-workflow":!1,mode:"read"},null,8,["article-file-tab","article-editor-state","selected-article-data"])])]),n("div",le,[i(h,{type:"secondary","button-text":m(t)("Modal.RequestMovie.CreateModal.SearchRequestArticleModal.취소"),onClick:p},null,8,["button-text"]),i(h,{"button-text":m(t)("Modal.RequestMovie.CreateModal.SearchRequestArticleModal.선택"),disabled:!x.value,onClick:q},null,8,["button-text","disabled"])])])]),_:1}))}});class se{constructor(){s(this,"allOption",{id:"",name:"상태 전체",label:"상태 전체"});s(this,"PREPARE",{id:"pending",name:"준비",label:"준비"});s(this,"ASSIGN",{id:"assign",name:"배정",label:"배정"});s(this,"WORKING",{id:"working",name:"작업중",label:"작업중"});s(this,"PENDING",{id:"request_review",name:"확인중",label:"확인중"});s(this,"APPROVE",{id:"approve",name:"승인",label:"승인"});s(this,"REJECT",{id:"reject",name:"반려",label:"반려"});s(this,"DONE",{id:"complete",name:"완료",label:"완료"});s(this,"values",[this.allOption,this.PREPARE,this.ASSIGN,this.WORKING,this.PENDING,this.APPROVE,this.DONE,this.REJECT])}}const _e=new se;export{_e as R,he as _};
