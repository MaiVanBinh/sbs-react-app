import{g as ee,M as xe}from"./splitpanes.es-dEoJOrhT.js";import{u as se,a as $e}from"./journalist-QNhBHHjf.js";import{k as v,ag as Ne,d as b,V as Re,l as k,a as h,h as P,w as g,X as Ve,a0 as Te,Y as _,G as o,$ as Le,a2 as j,a1 as N,c as O,F as K,K as x,a3 as Ee,ah as M,ae as F,B as Oe,j as r,t as be,ai as re,aj as V,ak as z,al as Ae,am as Ue,ad as Me,an as te,ao as qe,o as Be,ap as We}from"./index-eLyz9_Ts.js";import"./organization-qjYuRO6g.js";import"./vue-multiselect-Yz8FsF-E.js";import"./GSingleSelect-7u8H0FdH.js";import"./sam-tw0uWIQ_.js";import"./purify.es-OZOo_0xz.js";import"./spell-check-OnBbfX8h.js";/* empty css                                                                  */import{_ as oe}from"./GDatePicker.vue_vue_type_style_index_0_lang-aP5TJiAZ.js";import{_ as C}from"./FormItem.vue_vue_type_script_setup_true_lang-ZXQ_7x89.js";import{_ as Ye}from"./FormLabel.vue_vue_type_script_setup_true_lang-SB4ukE1P.js";import{_ as Ge}from"./FontSizeSelect.vue_vue_type_script_setup_true_lang-aHE2H38g.js";import{_ as je}from"./ArticleTypeSelect.vue_vue_type_script_setup_true_lang-Kp5wzGNr.js";import{_ as ze}from"./ArticleFormatSelect.vue_vue_type_script_setup_true_lang-0vSziBpo.js";import{_ as Fe}from"./ProgramSelect.vue_vue_type_script_setup_true_lang-UHoCrnxw.js";import{_ as ke}from"./ArticleDivisionSelect.vue_vue_type_script_setup_true_lang-Ln9_DwnO.js";import{_ as Ke}from"./UserSearchModal.vue_vue_type_script_setup_true_lang-iHw_FmsN.js";import{_ as ae}from"./ConfirmModal.vue_vue_type_script_setup_true_lang-k_ZxaDhN.js";import{g as B}from"./code-mapper-C6rl9hti.js";/* empty css                                                                    *//* empty css                                                                        */import"./tag-Q73uuSte.js";import"./program-omP_c4K3.js";import"./article-type.code-5cb8riL1.js";import"./category-zIRntbmZ.js";import"./department-wnuBQoCo.js";import"./GEditor.vue_vue_type_style_index_0_lang-FifEywK1.js";import"./file-Gx0JxWZZ.js";import"./GVideoPlayer-1SUF8s3O.js";import"./main-sHItgwS4.js";import"./vue-resizable.umd.min-blE9hPz6.js";import{w as He,b as Xe}from"./pagination-_g_gc7Ms.js";import{_ as Je}from"./PlanHeader.vue_vue_type_script_setup_true_lang-kVPG60_7.js";import{u as Qe}from"./use-plan-menu-omF6lTyZ.js";import{u as Ze}from"./use-pagination-JgK9yJDA.js";import{u as et}from"./use-intersection-observer-N6Mx7i0c.js";import{u as tt}from"./use-button-actions-XDAYYO3a.js";import{c as I}from"./make-grid-column-aeLSdEws.js";import{d as U}from"./format.util-TjqX3dGB.js";import{_ as ot}from"./BaseList.vue_vue_type_script_setup_true_lang-aJzIAVm-.js";import{u as at}from"./use-dynamic-height-sJY6bk6Z.js";import{_ as q}from"./IconLabel.vue_vue_type_script_setup_true_lang-1rGRsbjZ.js";import{G as ne}from"./GTextarea-5GIFD2Mo.js";import{_ as nt}from"./ContentHeaderButtons.vue_vue_type_script_setup_true_lang-Db8CUXqr.js";import{_ as lt,a as st,C as rt,b as it}from"./InjestDefaultForm.vue_vue_type_script_setup_true_lang-5k6d6I19.js";import{_ as dt,a as ut}from"./VideoCoverageDetailModal.vue_vue_type_script_setup_true_lang-kK6MFMJO.js";import"./use-model-wrapper-XtiLc3Xd.js";import"./use-date-GeeGTbYh.js";import"./OrganizationSelect.vue_vue_type_script_setup_true_lang-BNuugYEX.js";import"./vue.runtime.esm-bundler-3P3R-Xon.js";import"./index.esm-Hbr0u7mK.js";import"./buttons-3hbXC8Cn.js";import"./GEditor.vue_vue_type_script_setup_true_lang-a2qGOvtc.js";import"./file-division-code-x51qUgaH.js";import"./FileListView.vue_vue_type_script_setup_true_lang-A40KFqZZ.js";import"./GNoData.vue_vue_type_script_setup_true_lang-rWUb5JCO.js";function ie(){const e=v(!1),i=async()=>{e.value=!0;try{console.log("savePersonalColumn")}catch(a){console.log("Failed to save column settings:",a)}finally{e.value=!1}},n=Ne.debounce(async a=>{e.value=!0;try{console.log(a,"updatePersonalColumn")}catch(m){console.log("Failed to update column settings:",m)}finally{e.value=!1}},1e3);return{savePersonalColumn:i,updatePersonalColumn:n,initialPersonalColumn:async()=>{e.value=!0;try{console.log("initialPersonalColumn")}catch(a){console.log("Failed to initial column settings",a)}finally{e.value=!1}},columnSettingLoading:e}}const mt={class:"flex items-center justify-between border-b pb-2"},ct={class:"flex gap-2"},pt={class:"flex justify-between p-2 gap-2"},ft={class:"w-[60%]"},gt={class:"border rounded-md p-2 w-[40%]"},vt={class:"space-y-1"},S="primary",le=b({__name:"ArticleCreateModal",props:{modalTitle:{}},emits:["close"],setup(e,{emit:i}){const n=i,t=v(!1),a=Re({fontSize:"12",title:"",writer:{deptNm:"",name:""},rmk:"",type:"0010",format:"format_001",progrmId:"",division:"div_001"}),m=k(()=>a.division==="div_003"),d={modal:{userSearch:()=>{t.value=!t.value}},userSearch:{select:c=>{if(c.length>0){const l=c[0];a.writer.deptNm=String(l.deptNm),a.writer.name=String(l.userNm)}}}},u=()=>{n("close")};return(c,l)=>(h(),P(Ee,{"modal-class":"w-[70%]",onClose:u},{title:g(()=>[Ve(Te(c.modalTitle),1)]),content:g(()=>[_("div",null,[_("div",mt,[_("div",ct,[o(Ge,{modelValue:a.fontSize,"onUpdate:modelValue":l[0]||(l[0]=s=>a.fontSize=s)},null,8,["modelValue"]),o(Le,{label:"맞춤법"})]),_("div",null,[o(j,{"button-text":"저장",type:"text"}),o(j,{"button-text":"닫기",type:"text",onClick:u})])]),_("div",pt,[_("div",ft,[o(C,{label:"제목",class:"w-full"},{default:g(()=>[o(N,{intent:S,class:"w-full"})]),_:1})]),_("div",gt,[o(Ye,{label:"상세정보"}),_("div",vt,[o(C,{label:"작성자"},{default:g(()=>[o(N,{modelValue:a.writer.deptNm,"onUpdate:modelValue":l[1]||(l[1]=s=>a.writer.deptNm=s),intent:S,readonly:""},null,8,["modelValue"]),o(N,{modelValue:a.writer.name,"onUpdate:modelValue":l[2]||(l[2]=s=>a.writer.name=s),intent:S,readonly:""},null,8,["modelValue"]),o(j,{icon:"users",intent:S,onClick:d.modal.userSearch},null,8,["onClick"])]),_:1}),o(C,{label:"참고사항"},{default:g(()=>[o(N,{intent:S,class:"w-full"})]),_:1}),o(C,{label:"형식"},{default:g(()=>[o(je,{modelValue:a.type,"onUpdate:modelValue":l[3]||(l[3]=s=>a.type=s),intent:S},null,8,["modelValue"]),o(ze,{modelValue:a.format,"onUpdate:modelValue":l[4]||(l[4]=s=>a.format=s),intent:S},null,8,["modelValue"])]),_:1}),o(C,{label:"프로그램"},{default:g(()=>[o(Fe,{modelValue:a.progrmId,"onUpdate:modelValue":l[5]||(l[5]=s=>a.progrmId=s),label:"",intent:S,class:"w-full"},null,8,["modelValue"])]),_:1}),o(C,{label:"방송예정일"},{default:g(()=>[o(oe,{intent:S,class:"w-full"})]),_:1}),o(C,{label:"앵커멘트"},{default:g(()=>[o(N,{intent:S,readonly:""})]),_:1}),o(C,{label:"기사멘트"},{default:g(()=>[o(N,{intent:S,readonly:""})]),_:1}),o(C,{label:"전체멘트"},{default:g(()=>[o(N,{intent:S,readonly:""})]),_:1}),o(C,{label:"구분"},{default:g(()=>[o(ke,{modelValue:a.division,"onUpdate:modelValue":l[6]||(l[6]=s=>a.division=s),intent:S,class:"w-full"},null,8,["modelValue"])]),_:1}),(h(),O(K,{key:0},[o(C,{label:"엠바고 일시"},{default:g(()=>[o(oe,{intent:S,disabled:!m.value,class:"w-full"},null,8,["disabled"])]),_:1}),o(C,{label:"엠바고 사유"},{default:g(()=>[o(N,{intent:S,disabled:!m.value,placeholder:"사유를 입력하여 주세요.",class:"w-full"},null,8,["disabled"])]),_:1})],64))])])])]),t.value?(h(),P(Ke,{key:0,onSelectedRow:d.userSearch.select,onClose:d.modal.userSearch},null,8,["onSelectedRow","onClose"])):x("",!0)]),_:1}))}});function ht(e){const i={aggBasisCd:e.aggBasisCd,searchTyp:e.searchTyp,searchValue:e.searchValue,startDate:e.startDate,endDate:e.endDate,titl:e.titl,ctt:e.ctt,prdCmpnt:e.prdCmpnt,planUserNm:e.planUserNm,deleted:e.deleted};return e.orgId!==void 0&&(i.orgId=e.orgId),e.deptId!==void 0&&(i.deptId=e.deptId),{...i,startDate:e.startDate,endDate:e.endDate}}function wt(e,i,n,t){const a=se(),{fetchPlans:m,fetchPlan:d,deletePlan:u,restorePlan:c,toggleLock:l}=a,s=async()=>{var w,f;try{const y=He.default(ht({startDate:e.value.startDate,endDate:e.value.endDate,deleted:e.value.deleted,titl:e.value.titl,planUserNm:e.value.planUserNm,orgId:e.value.orgId,deptId:e.value.deptId}),i),L=await m(y);L!=null&&L.success&&((w=t==null?void 0:t.onListSuccess)==null||w.call(t,L.data),(f=t==null?void 0:t.onUpdatePageInfo)==null||f.call(t,Xe(L.data,i)))}catch(y){console.error("usePlanActions getPlans Error",y)}},$=async w=>{var f;try{const y=await d(w);y!=null&&y.success&&((f=t==null?void 0:t.onDetailSuccess)==null||f.call(t,y.data))}catch(y){console.error("usePlanActions getPlan Error",y)}};return{getPlanList:s,getPlan:$,deletePlanItem:async w=>{try{const f=await u(w);if(f!=null&&f.success)return window.Notify.success({message:M.plan.success.delete}),await s(),!0}catch(f){window.Notify.error({message:M.plan.failed.delete}),console.error("usePlanActions deletePlanItem Error",f)}},restorePlanItem:async w=>{try{const f=await c(w);if(f!=null&&f.success)return window.Notify.success({message:M.plan.success.restore}),await s(),!0}catch(f){window.Notify.error({message:M.plan.failed.restore}),console.error("usePlanActions restorePlanItem Error",f)}},onLockToggle:async(w,f)=>{try{(await l(w,f)).success&&await s()}catch(y){console.error("usePlanActions onLockToggle Error",y)}},handleRowSelect:w=>{var f;n.updateSelection(w),a.planId=w[0].data.id,a.planId&&$(a.planId),(f=t==null?void 0:t.onRowSelect)==null||f.call(t,w)},handleRowDeselect:()=>{var w;n.clearSelection(),a.planId=null,(w=t==null?void 0:t.onRowDeselect)==null||w.call(t)}}}function _t(){const e=v({restore:!1,delete:!1,personalArticle:!1,commonArticle:!1,print:!1});return{modals:e,toggleModal:n=>{e.value[n]=!e.value[n]}}}function yt(e){const i=v(!1),n=async()=>{var d;try{await((d=e.onSearch)==null?void 0:d.call(e))}catch(u){console.error("usePlanSearchActions onSearch Error",u)}};return{onSearch:n,onChangeDate:async d=>{try{await new Promise(u=>{var c;d&&((c=e==null?void 0:e.onUpdateSearchCondition)==null||c.call(e,{startDate:d,endDate:d})),u(null)})}catch(u){console.error("useArticleSearchActions onChangeDate Error",u)}},onChangeDepartment:async(d,u)=>{try{if(!d&&!u)return;console.log(d,u),await new Promise(c=>{var s;const l={};d!==void 0?l.orgId=d:l.orgId=void 0,u!==void 0?l.deptId=u:l.deptId=void 0,(s=e==null?void 0:e.onUpdateSearchCondition)==null||s.call(e,l),c(null)})}catch(c){console.error("userArticleSearchActions onChangeDepartment Error",c)}},onToggleDeletedPlanList:async d=>{try{i.value=d,await n()}catch(u){console.error("useArticleSearchActions onToggleDeletedPlanList Error",u)}},showDeletedPlanList:i,onUpdateSearchCondition:e.onUpdateSearchCondition}}function Dt(){const e={selectedRowIndex:v(0),selectedRowIds:v([])},i={planListData:v([]),planItemData:v()},n={planSearchCondition:v({aggBasisCd:"",planDeptId:0,searchTyp:"",searchValue:"",startDate:F().format("YYYY-MM-DD"),endDate:F().format("YYYY-MM-DD"),ctt:"",prdCmpnt:""})},t=v(),a=v([]),m=c=>{var l;e.selectedRowIndex.value=((l=c[0])==null?void 0:l.rowIndex)||0,e.selectedRowIds.value=c.map(s=>s.data.id)},d=()=>{e.selectedRowIndex.value=-1,e.selectedRowIds.value=[]},u=k(()=>e.selectedRowIds.value.length>0);return{...e,...i,...n,customColumn:t,columnDefs:a,updateSelection:m,clearSelection:d,hasSelectedItems:u}}const St={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Pt=b({__name:"PlanList",props:{isLoading:{type:Boolean},rowData:{},customColumn:{default:void 0},pageInfo:{},selectedRowIndex:{default:0},isShowColumnSetting:{type:Boolean,default:!1}},setup(e){const{columnSettingLoading:i}=ie(),n=[I({headerName:"발제근거",field:"aggBasisCd",maxWidth:90,cellRenderer:t=>U(B(t.value,"basis"))}),I({headerName:"시간",field:"updtDtm",maxWidth:60,sortable:!0,valueFormatter:t=>F(t.value).format("HH:mm")}),I({headerName:"부서",field:"updtDeptNm",maxWidth:80,sortable:!0}),I({headerName:"제목",field:"titl",minWidth:100,sortable:!0,flex:1}),I({headerName:"기획자",field:"planUserNm",maxWidth:100,sortable:!0}),I({headerName:"수정중",field:"modify",maxWidth:70,sortable:!0})];return(t,a)=>(h(),O(K,null,[o(ot,Oe({"column-defs":n,"row-data":t.rowData,"page-info":t.pageInfo,"row-selection":"multiple"},t.$attrs),null,16,["row-data","page-info"]),r(i)?(h(),O("div",St,a[0]||(a[0]=[_("div",{class:"bg-white p-5 rounded-lg shadow-lg text-gray-700 text-lg"}," 컬럼 순서 변경 적용중입니다... ",-1)]))):x("",!0)],64))}}),Ct={class:"flex items-center gap-x-2"},It={class:"flex gap-x-1"},xt={class:"grid grid-cols-4 mt-2"},$t={class:"flex flex-col gap-y-2 py-2 mt-4"},Nt=b({__name:"PlanDetailInfo",props:{planData:{}},setup(e){const{dynamicHeightVh:i}=at("16","26"),n=v(16);return be(()=>i.value,t=>{t==="16"?n.value=16:t==="26"?n.value=26:n.value=20}),(t,a)=>{var d,u,c,l,s,$,R;const m=re("tooltip");return h(),O("div",null,[_("div",Ct,[o(N,{"model-value":(d=t.planData)==null?void 0:d.titl,class:"flex-grow",readonly:""},null,8,["model-value"]),_("div",It,[V(o(z,{icon:"sparkles",class:"bg-primary text-white p-1"},null,512),[[m,"맞춤법"]]),V(o(z,{icon:"clipboardDocumentList",class:"bg-primary text-white p-1"},null,512),[[m,"자막복사"]]),V(o(z,{icon:"clipboardDocument",class:"bg-primary text-white p-1"},null,512),[[m,"기사복사"]])])]),_("div",xt,[V(o(q,{icon:"information-circle",text:r(U)(r(B)(String((u=t.planData)==null?void 0:u.aggBasisCd),"basis"))},null,8,["text"]),[[m,"발제근거"]]),V(o(q,{icon:"calendar",text:r(U)((c=t.planData)==null?void 0:c.planDt)},null,8,["text"]),[[m,"기획일"]]),V(o(q,{icon:"user-group",text:r(U)((l=t.planData)==null?void 0:l.planDeptNm)},null,8,["text"]),[[m,"기획부서"]]),V(o(q,{icon:"user",text:r(U)((s=t.planData)==null?void 0:s.planUserNm)},null,8,["text"]),[[m,"기획자"]])]),_("div",$t,[o(ne,{label:"제작구성요소",rows:5,resize:!1,readonly:"","model-value":($=t.planData)==null?void 0:$.prdCmpnt},null,8,["model-value"]),o(ne,{label:"기사 주요내용",rows:n.value,resize:!1,readonly:"","model-value":(R=t.planData)==null?void 0:R.ctt},null,8,["rows","model-value"])])])}}}),Rt=b({__name:"RequestList",props:{isLoading:{type:Boolean},rowData:{},pageInfo:{}},setup(e){const i=[I({headerName:"NO",maxWidth:60,valueGetter:"node.rowIndex",cellRenderer:n=>Ue(n)}),I({headerName:"작업유형",field:"workType",maxWidth:100,flex:1,cellRenderer:n=>B(n.value,"workingType")}),I({headerName:"제목",field:"title",flex:1}),I({headerName:"작업상태",field:"workStatus",maxWidth:100,flex:1,cellRenderer:n=>{const t=B(n.value,"workingStatus"),a=n.value;let m="";switch(a){case 1:m="bg-blue-500";break;case 2:m="bg-emerald-500";break;default:m="bg-gray-400"}return`<span class='inline-block px-2 py-1 rounded-[5px] w-full text-white text-center leading-none   ${m}'>${t}</span>`}}),I({headerName:"의뢰자",field:"requestId",maxWidth:120,flex:1}),I({headerName:"의뢰일자",field:"requestDate",maxWidth:120,flex:1})];return(n,t)=>(h(),P(Ae,{class:"w-full h-full flex flex-col","column-defs":i,"row-data":n.rowData,"is-loading":n.isLoading,"page-info":n.pageInfo,"row-selection":"single"},null,8,["row-data","is-loading","page-info"]))}}),Vt={class:"flex justify-end"},Tt={class:"h-[30vh]"},Lt=b({__name:"RequestInfo",setup(e){const i=v(!1),n=v(!1),t=v(!1),a=v(!1),m=v(Me.sm),d=v({isShow:!0,page:1,totalElements:0,totalPages:1,numberOfElements:0,size:m.value,isShowTotalElements:!0}),u=[{id:1,label:"새로고침",action:()=>{console.log("refresh action")}},{id:2,label:"인제스트의뢰",action:()=>{i.value=!i.value}},{id:3,label:"CG의뢰",action:()=>{n.value=!n.value}},{id:4,label:"취재의뢰",action:()=>{t.value=!t.value}},{id:5,label:"편집의뢰",action:()=>{a.value=!a.value}}],c=v([{id:1,workType:1,title:"의뢰 타이틀11111",workStatus:1,requestId:"test11",requestDate:"2024-08-11"},{id:2,workType:2,title:"의뢰 타이틀22222",workStatus:2,requestId:"test22",requestDate:"2024-08-11"},{id:3,workType:3,title:"의뢰 타이틀3333",workStatus:2,requestId:"test33",requestDate:"2024-08-11"},{id:4,workType:4,title:"의뢰 타이틀4444",workStatus:3,requestId:"test44",requestDate:"2024-08-11"}]);return(l,s)=>(h(),O(K,null,[_("div",Vt,[o(nt,{"menu-items":u})]),_("div",Tt,[o(Rt,{"row-data":c.value,"page-info":d.value},null,8,["row-data","page-info"])]),_("div",null,[i.value?(h(),P(st,{key:0,onClose:s[0]||(s[0]=$=>i.value=!1)},{default:g(()=>[o(lt)]),_:1})):x("",!0),n.value?(h(),P(dt,{key:1,onClose:s[1]||(s[1]=$=>n.value=!1)},{default:g(()=>[o(rt)]),_:1})):x("",!0),t.value?(h(),P(ut,{key:2,onClose:s[2]||(s[2]=$=>t.value=!1)})):x("",!0),a.value?(h(),P(it,{key:3,onClose:s[3]||(s[3]=$=>a.value=!1)})):x("",!0)])],64))}}),Et={class:"w-full h-full p-0.5 bg-white dark:bg-dark-grid rounded-md"},Ot=b({__name:"PlanTabPanel",props:{planData:{},planId:{default:0}},setup(e){const i=v({detailInfo:!0,reqeustInfo:!0}),n=k(()=>[{id:1,name:"상세정보",isShow:i.value.detailInfo},{id:2,name:"의뢰정보",isShow:i.value.reqeustInfo}]);return(t,a)=>(h(),O("div",Et,[o(qe,{tabs:n.value,"is-plain-text-mode":!0,"is-compact-mode":!0},{default:g(()=>[i.value.detailInfo?(h(),P(r(te),{key:0,unmount:!1,class:"pt-2"},{default:g(()=>[o(Nt,{"plan-data":t.planData},null,8,["plan-data"])]),_:1})):x("",!0),i.value.reqeustInfo?(h(),P(r(te),{key:1,unmount:!1,class:"pt-2"},{default:g(()=>[o(Lt)]),_:1})):x("",!0)]),_:1},8,["tabs"])]))}}),bt={class:"flex flex-grow overflow-y-hidden h-[calc(100vh-150px)] mt-2"},Wo=b({__name:"PlanView",setup(e){const{moveCreatePlan:i,moveEditPlan:n}=We(),t=$e(),a=se(),{updatePersonalColumn:m}=ie(),d=v(!1),u=v(!1),{modals:c,toggleModal:l}=_t(),s=Dt(),{selectedRowIndex:$,selectedRowIds:R,planListData:W,planItemData:Y,planSearchCondition:T,customColumn:H,columnDefs:w,hasSelectedItems:f,updateSelection:y,clearSelection:L}=s,{isActionDisabled:de}=tt(f),X=Ze(),{pageInfo:J,onChangePage:ue,setPageChangeCallback:me}=X,{getPlanList:G,getPlan:ce,deletePlanItem:pe,restorePlanItem:fe,onLockToggle:ge}=wt(T,X,s,{onListSuccess:p=>{W.value=p.content},onDetailSuccess:p=>{Y.value=p},onUpdatePageInfo:p=>{J.value=p}});me(async()=>{await G()});const{observerTarget:ve,setupObserver:he}=et({onIntersect:async()=>{await G()}}),{onSearch:Q,onChangeDate:we,onChangeDepartment:_e,onToggleDeletedPlanList:ye,showDeletedPlanList:Z,onUpdateSearchCondition:De}=yt({onSearch:async()=>{try{T.value.deleted=Z.value?"Y":"N",Z.value?(T.value.deleted="Y",u.value=!0):(T.value.deleted="N",u.value=!1),await G()}catch(p){console.error("PlanView onSearch Error",p)}},onUpdateSearchCondition:p=>{try{T.value={...T.value,...p},Q()}catch(D){console.error("PlanView onUpdateSearchCondition Error",D)}}}),Se=p=>{w.value=p},E={navigation:{onNavigateToEdit:()=>{a.planId&&n(a.planId)}},data:{onDeletePlan:async()=>{try{if(!R.value)return;await pe(R.value)&&l("delete")}catch(p){console.error("PlanView onDeletePlan Error",p)}},onRestorePlan:async()=>{try{if(!R.value)return;await fe(R.value)&&l("restore")}catch(p){console.error("PlanView onRestorePlan Error",p)}}},grid:{onMoveColumn:p=>{m(p)},onRowSelect:p=>{var D;y(p),a.planId=(D=p[0])==null?void 0:D.data.id,a.planId&&ce(a.planId)},onRowDeselect:()=>{L(),a.planId=null}}},{menuItems:Pe}=Qe(u,de,{moveCreatePlan:i,moveEditPlan:E.navigation.onNavigateToEdit,toggleModal:l}),Ce=p=>{switch(p.srcKey){case"create":{i();break}case"edit":{E.navigation.onNavigateToEdit();break}case"personal":{console.log("personal shortkey logic");break}case"print":{console.log("print shortkey logic");break}case"post":{console.log("post shortkey logic");break}case"close":{console.log("close shortkey logic");break}}};return Be(()=>{he(),t.setShortKey()}),(p,D)=>{const Ie=re("shortkey");return V((h(),O("div",{ref_key:"observerTarget",ref:ve,onShortkey:Ce},[_("div",null,[o(Je,{"menu-items":r(Pe),"selected-id":r(a).planId,"onClick:search":r(Q),onOnChangeDate:r(we),onOnChangeDepartment:r(_e),onOnToggleDeletePlanList:r(ye),"onUpdate:detailSearchValue":D[0]||(D[0]=A=>r(De)(A))},null,8,["menu-items","selected-id","onClick:search","onOnChangeDate","onOnChangeDepartment","onOnToggleDeletePlanList"]),_("div",bt,[o(r(xe),{class:"default-theme primary-theme"},{default:g(()=>[o(r(ee),null,{default:g(()=>[o(Pt,{"is-loading":d.value,"row-data":r(W),"page-info":r(J),"custom-column":r(H),"selected-row-index":r($),"is-show-column-setting":"",onOnGridReady:Se,onOnMoveColumn:E.grid.onMoveColumn,onOnLockToggle:r(ge),onOnRowSelect:E.grid.onRowSelect,onOnRowDeselect:E.grid.onRowDeselect,onOnChangePage:r(ue)},null,8,["is-loading","row-data","page-info","custom-column","selected-row-index","onOnMoveColumn","onOnLockToggle","onOnRowSelect","onOnRowDeselect","onOnChangePage"])]),_:1}),o(r(ee),null,{default:g(()=>[o(Ot,{"plan-data":r(Y)},null,8,["plan-data"])]),_:1})]),_:1})])]),_("div",null,[r(c).delete?(h(),P(r(ae),{key:0,text:"기획서를 삭제하시겠습니까?",onOnSubmit:E.data.onDeletePlan,onClose:D[1]||(D[1]=A=>r(l)("delete"))},null,8,["onOnSubmit"])):x("",!0),r(c).restore?(h(),P(r(ae),{key:1,text:"기획서를 복구하시겠습니까?",onOnSubmit:E.data.onRestorePlan,onClose:D[2]||(D[2]=A=>r(l)("restore"))},null,8,["onOnSubmit"])):x("",!0),r(c).personalArticle?(h(),P(r(le),{key:2,"modal-title":"개인 기사 작성",onClose:D[3]||(D[3]=A=>r(l)("personalArticle"))})):x("",!0),r(c).commonArticle?(h(),P(r(le),{key:3,"modal-title":"공용 기사 작성",onClose:D[4]||(D[4]=A=>r(l)("commonArticle"))})):x("",!0)])],32)),[[Ie,r(t).currentShortkeys]])}}});export{Wo as default};
