import{u as _,_ as S}from"./PlanForm.vue_vue_type_script_setup_true_lang-UnW1PizK.js";import{u as g}from"./journalist-QNhBHHjf.js";import{k as p,ah as y,d as B,a as u,c as h,G as v,j as m,h as C,K as P}from"./index-eLyz9_Ts.js";import"./organization-qjYuRO6g.js";import{c as w}from"./use-plan-menu-omF6lTyZ.js";import{_ as $}from"./PlanHeader.vue_vue_type_script_setup_true_lang-kVPG60_7.js";import"./vue-multiselect-Yz8FsF-E.js";import"./GSingleSelect-7u8H0FdH.js";import"./sam-tw0uWIQ_.js";import"./purify.es-OZOo_0xz.js";import"./spell-check-OnBbfX8h.js";/* empty css                                                                  */import"./GDatePicker.vue_vue_type_style_index_0_lang-aP5TJiAZ.js";import"./article-type.code-5cb8riL1.js";import"./program-omP_c4K3.js";import{_ as F}from"./ConfirmModal.vue_vue_type_script_setup_true_lang-k_ZxaDhN.js";import"./code-mapper-C6rl9hti.js";/* empty css                                                                    *//* empty css                                                                        */import"./tag-Q73uuSte.js";import"./category-zIRntbmZ.js";import"./department-wnuBQoCo.js";import"./GEditor.vue_vue_type_style_index_0_lang-FifEywK1.js";import"./file-Gx0JxWZZ.js";import"./GVideoPlayer-1SUF8s3O.js";import"./main-sHItgwS4.js";import{_ as I}from"./VideoCoverageCreateModal.vue_vue_type_script_setup_true_lang-tGy_Chpl.js";import"./vue-resizable.umd.min-blE9hPz6.js";import"./FormLabel.vue_vue_type_script_setup_true_lang-SB4ukE1P.js";import"./FormItem.vue_vue_type_script_setup_true_lang-ZXQ_7x89.js";import"./PermissionSettingModal.vue_vue_type_script_setup_true_lang-Cz5aOmSI.js";import"./OrganizationSelect.vue_vue_type_script_setup_true_lang-BNuugYEX.js";import"./UserSearchModal.vue_vue_type_script_setup_true_lang-iHw_FmsN.js";import"./make-grid-column-aeLSdEws.js";import"./BasisTypeSelect.vue_vue_type_script_setup_true_lang-7Pe-eM4w.js";import"./buttons-3hbXC8Cn.js";import"./index.esm-Hbr0u7mK.js";import"./ContentHeaderButtons.vue_vue_type_script_setup_true_lang-Db8CUXqr.js";import"./use-model-wrapper-XtiLc3Xd.js";import"./use-date-GeeGTbYh.js";import"./vue.runtime.esm-bundler-3P3R-Xon.js";function V(t){const s=g(),{createPlan:i}=s,n=p(),o=p();return{formRef:n,handleCreatePlan:e=>{o.value=e,t==null||t.onBeforeCreate()},handleCreateButton:async()=>{var e;if(n.value)try{await((e=n.value)==null?void 0:e.onSubmitPlan())}catch(a){console.error("Failed onSubmitPlan",a)}},createPlanItem:async()=>{try{(await i(o.value)).success&&(window.Notify.success({message:y.plan.success.create}),t==null||t.onCreateSuccess())}catch(e){console.error("Failed Plan Create",e)}}}}const Ce=B({__name:"PlanCreateView",setup(t){const{formRef:s,closedTabAndMovePage:i,handleFormButton:n}=_(),o=p({videoCoverage:!1,submit:!1}),{handleCreatePlan:l,createPlanItem:f}=V({onBeforeCreate:()=>{o.value.submit=!0},onCreateSuccess:()=>{o.value.submit=!1,i()}}),c=w({actionLabel:"저장",onAction:n,onClose:i}),e=a=>{o.value[a]=!o.value[a]};return(a,r)=>(u(),h("div",null,[v($,{"is-show-search":!1,"menu-items":m(c)},null,8,["menu-items"]),v(S,{ref_key:"formRef",ref:s,mode:"create",onOnSubmitPlan:m(l),onShowVideoCoverageModal:r[0]||(r[0]=d=>e("videoCoverage"))},null,8,["onOnSubmitPlan"]),o.value.submit?(u(),C(m(F),{key:0,text:"기획서를 저장하시겠습니니까?",onOnSubmit:m(f),onClose:r[1]||(r[1]=d=>e("submit"))},null,8,["onOnSubmit"])):P("",!0),o.value.videoCoverage?(u(),C(m(I),{key:1,onClose:r[2]||(r[2]=d=>e("videoCoverage"))})):P("",!0)]))}});export{Ce as default};
