import{g as D,M as G}from"./splitpanes.es-dEoJOrhT.js";import{u as x}from"./news-source-d-EIoPzs.js";import{w as M}from"./pagination-_g_gc7Ms.js";import{u as O,_ as E}from"./NewsSourceHeader.vue_vue_type_script_setup_true_lang-7Ke_zHhg.js";import{k as f,l as L,d as g,t as F,ai as j,a as S,c as N,Y as u,G as e,w as c,a1 as _,aj as v,a7 as Y,h as I,K as b,ao as z,o as H,j as l,ap as K}from"./index-eLyz9_Ts.js";import{u as k}from"./use-pagination-JgK9yJDA.js";import{u as q}from"./use-intersection-observer-N6Mx7i0c.js";import{u as J}from"./use-button-actions-XDAYYO3a.js";import{_ as Q}from"./NewsSourceList.vue_vue_type_script_setup_true_lang-y3fTp4YU.js";import{u as U}from"./use-dynamic-height-sJY6bk6Z.js";import{G as W}from"./GTextarea-5GIFD2Mo.js";import{_ as p}from"./FormItem.vue_vue_type_script_setup_true_lang-ZXQ_7x89.js";import{_ as h}from"./IconLabel.vue_vue_type_script_setup_true_lang-1rGRsbjZ.js";import"./buttons-3hbXC8Cn.js";import"./ContentHeaderButtons.vue_vue_type_script_setup_true_lang-Db8CUXqr.js";import"./make-grid-column-aeLSdEws.js";import"./journalist-QNhBHHjf.js";import"./organization-qjYuRO6g.js";import"./time-formatter-ySAnBDjB.js";import"./BaseList.vue_vue_type_script_setup_true_lang-aJzIAVm-.js";/* empty css                                                                  */function X(d,t){const o=x(),{fetchNewsSources:a,fetchNewsSource:w}=o;return{getNewsSourceList:async()=>{try{const i=M.default({delYn:"N"},d),s=await a(i);s!=null&&s.success&&(t==null||t.onListSuccess(s.data))}catch(i){console.error("useNewsSourceActions getNewsSourceList Error",i)}},getNewsSource:async i=>{try{const s=await w(i);s!=null&&s.success&&(t==null||t.onDetailSuccess(s.data))}catch(s){console.error("useNewsSourceActions getNewsSource Error",s)}}}}function Z(){const d={selectedRowId:f()},t={newsSourceListData:f([]),newsSourceItemData:f()},o=L(()=>!0);return{...d,...t,hasSelectedItems:o}}const ee={class:"flex flex-col gap-y-1"},te={class:"grid grid-cols-2 gap-1"},oe={class:"grid grid-cols-2 gap-1"},se={class:"grid grid-cols-2 gap-1"},ae={class:"grid grid-cols-4 mt-2"},re={class:"mt-2"},ne=g({__name:"NewsSourceDetailInfo",props:{newsSourceData:{}},setup(d){const{dynamicHeightVh:t}=U("22","33"),o=f(22);return F(()=>t.value,a=>{a==="22"?o.value=22:a==="33"?o.value=33:o.value=26}),(a,w)=>{const n=j("tooltip");return S(),N("div",null,[u("div",ee,[u("div",te,[e(p,{label:"이름"},{default:c(()=>{var r;return[e(_,{"model-value":(r=a.newsSourceData)==null?void 0:r.providerName,readonly:""},null,8,["model-value"])]}),_:1}),e(p,{label:"소속"},{default:c(()=>{var r;return[e(_,{"model-value":(r=a.newsSourceData)==null?void 0:r.companyName,readonly:""},null,8,["model-value"])]}),_:1})]),u("div",oe,[e(p,{label:"핸드폰1"},{default:c(()=>{var r;return[e(_,{"model-value":(r=a.newsSourceData)==null?void 0:r.phoneNumber,readonly:""},null,8,["model-value"])]}),_:1}),e(p,{label:"핸드폰2"},{default:c(()=>[e(_,{readonly:""})]),_:1})]),u("div",se,[e(p,{label:"전문가 구분"},{default:c(()=>[e(_,{readonly:""})]),_:1})])]),u("div",ae,[v(e(h,{icon:"information-circle",text:"시민-시민 시민사회부"},null,512),[[n,""]]),v(e(h,{icon:"information-circle",text:"2024-08-01 15:21:54"},null,512),[[n,""]]),v(e(h,{icon:"information-circle",text:"시민-시민 시민사회부"},null,512),[[n,""]]),v(e(h,{icon:"information-circle",text:"2024-08-01 15:21:54"},null,512),[[n,""]])]),u("div",re,[e(W,{label:"비고",rows:o.value,resize:!1,readonly:""},null,8,["rows"])])])}}}),ce={class:"w-full h-full p-0.5 bg-white dark:bg-dark-grid rounded-md"},ie=g({__name:"NewsSourceTabPanel",props:{newsSourceData:{}},setup(d){const t=f({detailInfo:!0,attachmentFile:!0}),o=L(()=>[{id:1,name:"상세정보",isShow:t.value.detailInfo},{id:2,name:"첨부파일",isShow:t.value.attachmentFile}]);return(a,w)=>{const n=Y("tab-panel");return S(),N("div",ce,[e(z,{tabs:o.value,"is-plain-text-mode":!0,"is-compact-mode":!0},{default:c(()=>[t.value.detailInfo?(S(),I(n,{key:0,unmount:!1,class:"pt-2"},{default:c(()=>[e(ne,{"news-source-data":a.newsSourceData},null,8,["news-source-data"])]),_:1})):b("",!0),t.value.attachmentFile?(S(),I(n,{key:1,unmount:!1,class:"pt-2"})):b("",!0)]),_:1},8,["tabs"])])}}}),ue={class:"flex flex-grow overflow-y-hidden h-[calc(100vh-150px)] mt-2"},Be=g({__name:"NewsSourceView",setup(d){const{moveCreateNewsSource:t}=K(),o=x(),{setNewsSourceId:a}=o,w=f(!1),n=Z(),{newsSourceListData:r,newsSourceItemData:i,hasSelectedItems:s}=n,{isActionDisabled:$}=J(s),y=k(),{pageInfo:R}=y,{getNewsSourceList:T,getNewsSource:A}=X(y,{onListSuccess:m=>{r.value=m.content},onDetailSuccess:m=>{i.value=m}}),{observerTarget:B,setupObserver:C}=q({onIntersect:async()=>{await T()}}),P={grid:{onRowSelect:m=>{a(m[0].data.newsSourceId),o.newsSourceId&&A(o.newsSourceId)}}},{menuItems:V}=O(w,$,{moveCreateNewsSource:t});return H(()=>{C()}),(m,le)=>(S(),N("div",{ref_key:"observerTarget",ref:B},[u("div",null,[e(E,{"menu-items":l(V)},null,8,["menu-items"]),u("div",ue,[e(l(G),{class:"default-theme primary-theme"},{default:c(()=>[e(l(D),null,{default:c(()=>[e(Q,{"row-data":l(r),"page-info":l(R),"is-show-column-setting":"",onOnRowSelect:P.grid.onRowSelect},null,8,["row-data","page-info","onOnRowSelect"])]),_:1}),e(l(D),null,{default:c(()=>[e(ie,{"news-source-data":l(i)},null,8,["news-source-data"])]),_:1})]),_:1})])])],512))}});export{Be as default};
