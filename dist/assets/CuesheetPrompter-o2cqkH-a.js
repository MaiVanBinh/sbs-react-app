import{k as p,l as j,d as ye,e8 as je,q as He,e9 as Be,ea as Ee,o as he,t as G,v as ce,eb as Pe,ec as $e,ed as ze,ee as Me,ef as Ne,F as xe,eg as de,c6 as Ke,eh as N,a as w,h as Fe,Y as l,c as T,G as h,ak as K,w as F,Q as g,j as x,aU as $,aj as pe,dS as fe,K as R,a2 as me,a0 as B,ax as Oe,C as _e,ay as Ge,az as qe}from"./index-eLyz9_Ts.js";import{G as be}from"./GSingleSelect-7u8H0FdH.js";import{C as O}from"./cuesheet-item-code-_LsFMWbX.js";function Qe(t={},v=null,n=[]){for(let[m,d]of Object.entries(t))we(n,ke(v,m),d);return n}function ke(t,v){return t?t+"["+v+"]":v}function we(t,v,n){if(Array.isArray(n))for(let[m,d]of n.entries())we(t,ke(v,m.toString()),d);else n instanceof Date?t.push([v,n.toISOString()]):typeof n=="boolean"?t.push([v,n?"1":"0"]):typeof n=="string"?t.push([v,n]):typeof n=="number"?t.push([v,`${n}`]):n==null?t.push([v,""]):Qe(n,v,t)}function Ye(t){var v,n;let m=(v=t==null?void 0:t.form)!=null?v:t.closest("form");if(m){for(let d of m.elements)if(d!==t&&(d.tagName==="INPUT"&&d.type==="submit"||d.tagName==="BUTTON"&&d.type==="submit"||d.nodeName==="INPUT"&&d.type==="image")){d.click();return}(n=m.requestSubmit)==null||n.call(m)}}function Je(t,v,n){let m=p(n==null?void 0:n.value),d=j(()=>t.value!==void 0);return[j(()=>d.value?t.value:m.value),function(s){return d.value||(m.value=s),v==null?void 0:v(s)}]}let We=Symbol("GroupContext"),_=ye({name:"Switch",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${je()}`}},inheritAttrs:!1,setup(t,{emit:v,attrs:n,slots:m,expose:d}){let s=He(We,null),[r,S]=Je(j(()=>t.modelValue),u=>v("update:modelValue",u),j(()=>t.defaultChecked));function I(){S(!r.value)}let k=p(null),c=s===null?k:s.switchRef,A=Be(j(()=>({as:t.as,type:n.type})),c);d({el:c,$el:c});function f(u){u.preventDefault(),I()}function b(u){u.key===de.Space?(u.preventDefault(),I()):u.key===de.Enter&&Ye(u.currentTarget)}function C(u){u.preventDefault()}let o=j(()=>{var u,y;return(y=(u=Ee(c))==null?void 0:u.closest)==null?void 0:y.call(u,"form")});return he(()=>{G([o],()=>{if(!o.value||t.defaultChecked===void 0)return;function u(){S(t.defaultChecked)}return o.value.addEventListener("reset",u),()=>{var y;(y=o.value)==null||y.removeEventListener("reset",u)}},{immediate:!0})}),()=>{let{id:u,name:y,value:H,form:V,...E}=t,z={checked:r.value},L={id:u,ref:c,role:"switch",type:A.value,tabIndex:0,"aria-checked":r.value,"aria-labelledby":s==null?void 0:s.labelledby.value,"aria-describedby":s==null?void 0:s.describedby.value,onClick:f,onKeyup:b,onKeypress:C};return ce(xe,[y!=null&&r.value!=null?ce(Pe,$e({features:ze.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:r.value,form:V,name:y,value:H})):null,Me({ourProps:L,theirProps:{...n,...Ne(E,["modelValue","defaultChecked"])},slot:z,attrs:n,slots:m,name:"Switch"})])}}});const ge=t=>{t.preventDefault(),t.returnValue=""},Sl=()=>{window.addEventListener("beforeunload",ge)},Il=()=>{window.removeEventListener("beforeunload",ge)},Xe={class:"flex h-full"},Ze={key:0,class:"w-[230px] h-full bg-dark-grid z-10"},el={class:"flex flex-col p-2 space-y-6"},ll={class:"flex justify-end"},al={class:"w-fit flex"},tl={class:"flex flex-col gap-5"},ol={class:"flex justify-between px-1 items-center"},sl={class:"flex justify-between px-1 items-center"},nl={class:"flex justify-between px-1 items-center"},rl={class:"flex justify-between px-1 items-center"},ul={class:"flex justify-between px-1 items-center"},il={key:0,class:"flex justify-between space-x-2"},vl={class:"flex space-x-2"},cl={class:"flex space-x-2 text-right"},dl={class:"flex justify-between items-center px-4 space-x-4"},pl={class:"flex flex-col w-full relative"},fl={class:"sticky flex justify-between p-2 items-center border-b-2 space-x-2 border-gray-700"},ml={class:"flex space-x-2 truncate lg:text-5xl"},bl={class:"text-yellow-300"},yl={class:""},hl={key:0,class:"whitespace-pre-wrap break-normal",style:{"font-family":"Helvetica, Arial, sans-serif"}},xl={key:1,class:"boundary my-20"},kl={key:3,class:"whitespace-pre-wrap break-normal",style:{"font-family":"Arial, Helvetica, sans-serif"}},wl=ye({__name:"CuesheetPrompter",props:{cuesheetItemList:{},mode:{default:()=>"cuesheet"}},emits:["close"],setup(t,{emit:v}){const n=t,m=v,d=()=>{m("close")},s=p([]),r=p(0),S=p(!0),I=p(!0),k=p(!1),c=p(!1),A=p(!1),f=p(!1),b=p(),C=p(!1),o=p(),u=p(),y=p([]),H=p(),V=p(),E=p([{name:"1",value:60},{name:"2",value:65},{name:"3",value:70},{name:"4",value:65},{name:"5",value:80},{name:"6",value:85},{name:"7",value:90},{name:"8",value:95},{name:"9",value:100}]),z=()=>{H.value=u.value.value},L=p(!1),P=p(!1),Ce=()=>{f.value=!1,clearInterval(b.value)},Te=()=>{f.value=!1,c.value?(o.value.scrollTop=o.value.scrollHeight,clearInterval(b.value)):o.value.scrollTop=0},M=()=>{const a=100-V.value.value;c.value?c.value&&(b.value=setInterval(()=>{o.value.scrollTop-=1,o.value.scrollTop===0&&(f.value=!1,clearInterval(b.value))},a)):b.value=setInterval(()=>{o.value.scrollTop+=1,o.value.offsetHeight===o.value.scrollHeight-o.value.scrollTop&&(f.value=!1,clearInterval(b.value))},a)},Se=()=>{f.value&&(clearInterval(b.value),M())},Ie=()=>{if(f.value=!f.value,f.value){M();return}clearInterval(b.value)},U=(a,e)=>{e&&e.stopPropagation(),a==="back"?r.value>0&&(f.value=!1,r.value-=1,c.value?o.value.scrollTop=o.value.scrollHeight:o.value.scrollTop=0,clearInterval(b.value)):r.value<s.value.length-1&&(f.value=!1,r.value+=1,c.value?o.value.scrollTop=o.value.scrollHeight:o.value.scrollTop=0,clearInterval(b.value))},q=(a=160)=>{c.value?o.value.scrollTop!==0&&(o.value.scrollTop-=a):o.value.scrollHeight!==o.value.offsetHeight+o.value.scrollTop&&(o.value.scrollTop+=a)},Ae=(a=160)=>{c.value?o.value.scrollHeight!==o.value.offsetHeight+o.value.scrollTop&&(o.value.scrollTop+=a):o.value.scrollTop!==0&&(o.value.scrollTop-=a)},Ve=()=>{C.value?Ie():q(640)},Le=a=>{const{key:e}=a;switch(e){case"Enter":f.value=!f.value,f.value?M():clearInterval(b.value);break;case"ArrowLeft":U("back");break;case"ArrowRight":U("next");break;case"ArrowUp":Ae();break;case"ArrowDown":q();break;case"Escape":d();break}},Ue=a=>{a.key!=="F12"&&a.key!=="F11"&&a.preventDefault()},De=a=>{a.target.type==="portrait-primary"&&(L.value=!1,P.value=!1),L.value=!0,P.value=!0},Re=()=>{s.value=n.cuesheetItemList.map((a,e)=>({index:e+1,editorCount:Math.max(1,a.anchorTextArray.length,a.reporterTextArray.length),...a}))};return Ke(()=>{y.value=[];for(let a=5;a<=100;a+=5)y.value.push({name:a,value:`font-size: ${a}px`})}),he(()=>{Re(),u.value=y.value.filter(a=>a.name===80)[0],H.value=u.value.value,V.value=E.value.filter(a=>a.name==="6")[0],N(window.screen.orientation,"change",De),N(document,"keydown",Ue),N(document,"keyup",Le)}),G(()=>C.value,a=>{a||(f.value=!1,clearInterval(b.value))}),G(()=>c.value,()=>{Te()}),(a,e)=>{var Q,Y,J,W,X;return w(),Fe(Ge,{to:"body"},[l("div",{class:g(["h-screen fixed inset-0 z-50 w-full flex flex-col text-white bg-black select-none",P.value&&!L.value||!P.value&&L.value?"promptTemplate":""])},[l("div",Xe,[A.value?(w(),T("div",Ze,[l("div",el,[l("div",ll,[l("div",al,[h(K,{icon:"x-mark",class:"block","icon-size":"w-6 h-6",onClick:e[0]||(e[0]=i=>A.value=!A.value)})])]),l("div",tl,[l("div",ol,[e[14]||(e[14]=l("div",null,"좌우 변경",-1)),h(x(_),{modelValue:k.value,"onUpdate:modelValue":e[1]||(e[1]=i=>k.value=i),class:g([k.value?"bg-blue-600":"bg-gray-300","relative inline-flex h-6 w-12 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"]),onClick:Ce},{default:F(()=>[e[13]||(e[13]=l("span",{class:"sr-only"},"Switch left and right",-1)),l("span",{"aria-hidden":"true",class:g([k.value?"translate-x-6":"translate-x-0","pointer-events-none inline-block h-[20px] w-[20px] transform rounded-full bg-white shadow-lg ring-0 transition duration-200 ease-in-out"])},null,2)]),_:1},8,["modelValue","class"])]),l("div",sl,[e[16]||(e[16]=l("div",null,"상하 변경",-1)),h(x(_),{modelValue:c.value,"onUpdate:modelValue":e[2]||(e[2]=i=>c.value=i),class:g([c.value?"bg-blue-600":"bg-gray-300","relative inline-flex h-6 w-12 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"])},{default:F(()=>[e[15]||(e[15]=l("span",{class:"sr-only"},"Switch up and down",-1)),l("span",{"aria-hidden":"true",class:g([c.value?"translate-x-6":"translate-x-0","pointer-events-none inline-block h-[20px] w-[20px] transform rounded-full bg-white shadow-lg ring-0 transition duration-200 ease-in-out"])},null,2)]),_:1},8,["modelValue","class"])]),l("div",nl,[e[17]||(e[17]=l("div",null,"글자크기",-1)),h(be,{modelValue:u.value,"onUpdate:modelValue":[e[3]||(e[3]=i=>u.value=i),z],"track-by":"value",class:"w-20","item-label":"name",options:y.value,searchable:!1,"allow-empty":!1,placeholder:"size"},null,8,["modelValue","options"])]),l("div",rl,[e[18]||(e[18]=l("div",null,"글자속도",-1)),h(be,{modelValue:V.value,"onUpdate:modelValue":[e[4]||(e[4]=i=>V.value=i),Se],class:"w-20","track-by":"value","item-label":"name",searchable:!1,"allow-empty":!1,"show-pointer":!1,placeholder:"speed",options:E.value},null,8,["modelValue","options"])]),l("div",ul,[e[20]||(e[20]=l("div",{class:"inline-block"},"오토 스크롤",-1)),h(x(_),{modelValue:C.value,"onUpdate:modelValue":e[5]||(e[5]=i=>C.value=i),class:g([C.value?"bg-blue-600":"bg-gray-300","relative inline-flex h-6 w-12 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"])},{default:F(()=>[e[19]||(e[19]=l("span",{class:"sr-only"},"Switch autoscroll",-1)),l("span",{"aria-hidden":"true",class:g([C.value?"translate-x-6":"translate-x-0","pointer-events-none inline-block h-[20px] w-[20px] transform rounded-full bg-white shadow-lg ring-0 transition duration-200 ease-in-out"])},null,2)]),_:1},8,["modelValue","class"])])]),a.mode==="article"||((Q=s.value[r.value])==null?void 0:Q.artclTypCd)===x($).Report.id||((Y=s.value[r.value])==null?void 0:Y.artclTypCd)===x($).CrossTalk.id?(w(),T("div",il,[l("div",vl,[e[21]||(e[21]=l("div",null,"Anchor",-1)),pe(l("input",{id:"chk-anchor","onUpdate:modelValue":e[6]||(e[6]=i=>S.value=i),type:"checkbox",name:"anchor-checkbox",class:"w-12"},null,512),[[fe,S.value]]),e[22]||(e[22]=l("label",{for:"chk-anchor"},[l("span")],-1))]),l("div",cl,[e[23]||(e[23]=l("div",null,"Report",-1)),pe(l("input",{id:"chk-report","onUpdate:modelValue":e[7]||(e[7]=i=>I.value=i),type:"checkbox",name:"report-checkbox",class:"w-12"},null,512),[[fe,I.value]]),e[24]||(e[24]=l("label",{for:"chk-report"},[l("span")],-1))])])):R("",!0),l("div",dl,[h(me,{"button-text":"이전 기사",class:"truncate w-18",onClick:e[8]||(e[8]=i=>U("back"))}),h(me,{"button-text":"다음 기사",class:"truncate w-18",onClick:e[9]||(e[9]=i=>U("next"))})])])])):R("",!0),l("div",pl,[l("div",{class:"absolute left-0 h-full w-44 cursor-pointer",onClick:e[10]||(e[10]=i=>U("back",i))}),l("div",{class:"absolute right-0 h-full w-44 cursor-pointer",onClick:e[11]||(e[11]=i=>U("next",i))}),l("div",fl,[l("div",null,[h(K,{icon:"bars3","icon-size":"w-12 h-12",onClick:e[12]||(e[12]=i=>A.value=!A.value)})]),l("div",ml,[l("div",bl,B((J=s.value[r.value])==null?void 0:J.index),1),l("div",yl,B((W=s.value[r.value])==null?void 0:W.cueItemTitl),1)]),l("div",null,[h(K,{icon:"x-mark","icon-size":"w-12 h-12",onClick:d})])]),l("div",{ref_key:"content",ref:o,class:"content overflow-y-auto overflow-x-hidden cursor-pointer",onClick:Ve},[e[28]||(e[28]=l("div",{class:"h-[2px] bg-[#00ff00] absolute top-1/2 w-full"},null,-1)),l("div",{class:g(["pt-[9vh] pb-[50rem] px-11",[k.value&&!c.value?"LRrotate":"",c.value&&!k.value?"UDrotate":"",k.value&&c.value?"UDLRrotate":""]])},[l("div",{class:"pb-10",style:Oe(H.value)},[(w(!0),T(xe,null,_e((X=s.value[r.value])==null?void 0:X.editorCount,(i,D)=>{var Z,ee,le,ae,te,oe,se,ne,re,ue,ie,ve;return w(),T("div",{key:`prompter-[${i}]`},[e[25]||(e[25]=l("br",null,null,-1)),e[26]||(e[26]=l("br",null,null,-1)),e[27]||(e[27]=l("br",null,null,-1)),((Z=s.value[r.value])==null?void 0:Z.cueItemDivCd)===x(O).ARTICLE.id&&S.value&&((ee=s.value[r.value])!=null&&ee.anchorTextArray[D])?(w(),T("pre",hl,B((le=s.value[r.value])==null?void 0:le.anchorTextArray[D].replace(/^\s+/,"")),1)):R("",!0),(ae=s.value[r.value])!=null&&ae.anchorTextArray[D].replace(/^\s+/,"")&&S.value?(w(),T("div",xl)):R("",!0),((te=s.value[r.value])==null?void 0:te.cueItemDivCd)===x(O).ARTICLE.id&&I.value&&((oe=s.value[r.value])!=null&&oe.reporterTextArray[D])?(w(),T("pre",{key:2,class:g(["whitespace-pre-wrap break-normal",((se=s.value[r.value])==null?void 0:se.artclTypCd)===x($).Report.id||((ne=s.value[r.value])==null?void 0:ne.artclTypCd)===x($).CrossTalk.id?"text-[#61e2f3]":""]),style:{"font-family":"Helvetica, Arial, sans-serif"}},B((re=s.value[r.value])==null?void 0:re.reporterTextArray[D].replace(/^\s+/,"")),3)):R("",!0),((ue=s.value[r.value])==null?void 0:ue.cueItemDivCd)!==x(O).ARTICLE.id&&I.value&&((ie=s.value[r.value])!=null&&ie.cueItemCtt)?(w(),T("pre",kl,B((ve=s.value[r.value])==null?void 0:ve.reporterTextArray[D].replace(/^\s+/,"")),1)):R("",!0)])}),128))],4)],2)],512)])])],2)])}}}),Al=qe(wl,[["__scopeId","data-v-ef872a78"]]);export{Al as C,Sl as a,Je as d,Qe as e,Ye as p,Il as r};
