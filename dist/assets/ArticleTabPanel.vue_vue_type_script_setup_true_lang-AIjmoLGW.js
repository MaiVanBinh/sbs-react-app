import{d as q,a5 as le,aq as te,ac as oe,k as C,l as F,t as se,o as ie,b3 as re,ai as J,a as u,c as P,aj as L,Y as _,a0 as K,j as a,h as b,as as N,K as f,G as t,a1 as T,w as d,Q as S,a2 as Z,an as A,X as z,ao as ne}from"./index-eLyz9_Ts.js";import{_ as de}from"./ArticleTypeSelect.vue_vue_type_script_setup_true_lang-Kp5wzGNr.js";import{u as h}from"./use-model-wrapper-XtiLc3Xd.js";import{r as G,C as ue,a as me}from"./CuesheetPrompter-o2cqkH-a.js";import{_ as ce}from"./ArticleFormatSelect.vue_vue_type_script_setup_true_lang-0vSziBpo.js";import{_ as fe}from"./VDCEditor.vue_vue_type_script_setup_true_lang-IhnNo6sk.js";import{g as pe}from"./edtior.helper-P5juSeN5.js";import{a as ve,_ as ye,b as be}from"./ArticleFileTabPanel.vue_vue_type_script_setup_true_lang-Yk1q8ET1.js";import{_ as we}from"./SpellCheckerModal.vue_vue_type_script_setup_true_lang-Vt6XDlm8.js";import{_ as Se}from"./GDatePicker.vue_vue_type_style_index_0_lang-aP5TJiAZ.js";import{G as he}from"./GDateTimePicker-bSYwb_xW.js";import{_ as w}from"./FormItem.vue_vue_type_script_setup_true_lang-ZXQ_7x89.js";import{_ as _e}from"./ProgramSelect.vue_vue_type_script_setup_true_lang-UHoCrnxw.js";import{_ as Ve}from"./ArticleDivisionSelect.vue_vue_type_script_setup_true_lang-Ln9_DwnO.js";import{_ as Te}from"./UserSearchModal.vue_vue_type_script_setup_true_lang-iHw_FmsN.js";import{_ as De}from"./PermissionSettingModal.vue_vue_type_script_setup_true_lang-Cz5aOmSI.js";const Ce={class:"h-full flex flex-col"},ge={class:"flex justify-start items-center gap-x-2.5"},Me={class:"text-xs text-primary-gray-40 w-[80px] text-right"},ke={class:"text-xs pb-1 mt-4"},xe={class:"flex items-center gap-x-2.5"},Be={class:"text-xs text-primary-gray-40 w-[80px] text-right"},Ie={class:"mt-4 flex-grow overflow-y-auto"},Xe=q({__name:"ArticleForm",props:{articleEditorState:{},originArticleEditorState:{default:void 0},articleType:{},articleFormat:{},title:{},content:{default:""},articleTime:{},ancMentCttTime:{},reportTime:{},errorMsg:{default:""},isReadOnly:{type:Boolean,default:!1},isShowArticleType:{type:Boolean,default:!0},isShowArticleFormat:{type:Boolean,default:!0},isCueTemplate:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},validation:{type:Boolean,default:!0},isDelete:{type:Boolean,default:!1},mode:{default:"read"}},emits:["update:title","update:articleType","update:articleFormat","update:articleEditorState","update:articleTime","update:ancMentCttTime","update:reportTime","on-save","on-clicked-edit","on-add-file","update:content"],setup(x,{expose:B,emit:p}){const m=x,e=p,{t:M}=le(),{getActiveTab:s}=te(),c=h(m,e,"articleEditorState"),r=h(m,e,"articleType"),V=h(m,e,"articleFormat"),I=h(m,e,"articleTime"),v=h(m,e,"ancMentCttTime"),U=h(m,e,"reportTime"),$=h(m,e,"content"),k=h(m,e,"title"),{CalcArticleTime:O,CalcAnchorTime:E,CalcReportTime:j}=oe(),y=C(!1),l=C(!1),R=C(!1),o=C(!1),Q=C([]),H=F(()=>pe(V.value.id,r.value.id)),W=()=>{e("on-save")},X=i=>{switch(i.srcKey){case"macSave":case"winSave":{W();break}}},Y=i=>{e("on-add-file",i)};se(()=>[c.value],([i])=>{if(I.value=O(i),v.value=E(i),U.value=j(i),m.originArticleEditorState){const n=JSON.stringify(m.originArticleEditorState)!==JSON.stringify(i);s&&(s.canClose=!n),n?me():G()}},{deep:!0}),ie(()=>{G()}),re(()=>{G()});const ee=i=>{$.value=i};return B({editorMode:H}),(i,n)=>{const ae=J("shortkey");return u(),P("div",Ce,[L((u(),P("div",{class:"h-full flex flex-col",onShortkey:X},[_("div",ge,[_("p",Me,K(a(M)("Cuesheet.형식")),1),i.isShowArticleType?(u(),b(de,{key:0,modelValue:a(r),"onUpdate:modelValue":n[0]||(n[0]=D=>N(r)?r.value=D:null),"preselect-first":!0,disabled:i.isReadOnly||i.isCueTemplate,class:"w-[149px] short-multiselect"},null,8,["modelValue","disabled"])):f("",!0),i.isShowArticleFormat?(u(),b(ce,{key:1,modelValue:a(V),"onUpdate:modelValue":n[1]||(n[1]=D=>N(V)?V.value=D:null),"preselect-first":!0,disabled:i.isReadOnly||i.isCueTemplate,class:"w-[139px]","custom-class":"short-multiselect"},null,8,["modelValue","disabled"])):f("",!0),f("",!0)]),_("div",ke,[_("div",xe,[_("p",Be,K(a(M)("Cuesheet.제목")),1),t(T,{id:"article_title_input",modelValue:a(k),"onUpdate:modelValue":n[2]||(n[2]=D=>N(k)?k.value=D:null),name:"title",disabled:i.isReadOnly,placeholder:"제목을 입력하세요.","error-placeholder":"","error-msg":i.errorMsg,"text-size":"text-[15px]",class:"w-3/5",intent:"primary"},null,8,["modelValue","disabled","error-msg"])])]),_("div",Ie,[t(fe,{content:a($),"editor-class":"h-full",output:"html",mode:H.value,"onUpdate:content":ee},null,8,["content","mode"])]),y.value?(u(),b(we,{key:0,"editor-data":a(c),"article-type":a(r).id,onClose:n[3]||(n[3]=D=>y.value=!1)},null,8,["editor-data","article-type"])):f("",!0),R.value?(u(),b(ve,{key:1,onClose:n[4]||(n[4]=D=>R.value=!1),onOnAddFile:Y})):f("",!0),l.value?(u(),b(ye,{key:2,onClose:n[5]||(n[5]=D=>l.value=!1)})):f("",!0)],32)),[[ae,{macSave:["meta","s"],macMacro1:["meta","1"],macMacro2:["meta","2"],macMacro3:["meta","3"],macMacro4:["meta","4"],macMacro5:["meta","5"],macMacro6:["meta","6"],macMacro7:["meta","7"],winSave:["ctrl","s"],winMacro1:["alt","1"],winMacro2:["alt","2"],winMacro3:["alt","3"],winMacro4:["alt","4"],winMacro5:["alt","5"],winMacro6:["alt","6"],winMacro7:["alt","7"]}]]),o.value?(u(),b(ue,{key:0,"cuesheet-item-list":Q.value,class:"flex flex-col h-full",onClose:n[6]||(n[6]=D=>o.value=!1)},null,8,["cuesheet-item-list"])):f("",!0)])}}}),$e={class:"p-2 space-y-2"},Ue={class:"flex justify-center"},g="primary",Re=q({__name:"ArticleDetailInfo",props:{mode:{},detailInfoData:{}},emits:["update:detailInfoData"],setup(x,{emit:B}){const p=x,e=h(p,B,"detailInfoData"),M=C(null),s=F(()=>p.mode==="read"),c=F(()=>{var y;return((y=M.value)==null?void 0:y.id)==="div_003"}),r=C(),V=C(!1),I=C(!1),v={formItem:"w-full",formItemTime:"w-1/3",select:"w-full"},U=()=>{r.value&&r.value.onFocusButton()},$=()=>{V.value=!V.value},k=()=>{I.value=!I.value},O=y=>{const l=y[0];e.value.userNm=l.userNm,e.value.deptNm=l.deptNm},E=y=>{e.value.userGroupId=`[${y.map(l=>String(l.userId)).join(";")};]`,e.value.userGroupNm=`[${y.map(l=>String(l.userNm)).join("#13")}#13]`},j=y=>{M.value=y,e.value.embargoReason=""};return(y,l)=>{const R=J("tooltip");return u(),P("div",$e,[t(w,{label:"기자",class:S(v.formItem)},{default:d(()=>[t(T,{modelValue:a(e).userNm,"onUpdate:modelValue":l[0]||(l[0]=o=>a(e).userNm=o),disabled:s.value,intent:g,onClick:U},null,8,["modelValue","disabled"]),t(T,{modelValue:a(e).userNm,"onUpdate:modelValue":l[1]||(l[1]=o=>a(e).userNm=o),disabled:s.value,intent:g,onClick:U},null,8,["modelValue","disabled"]),s.value?f("",!0):L((u(),b(Z,{key:0,ref_key:"searchButtonRef",ref:r,icon:"user",onClick:$},null,512)),[[R,"검색"]])]),_:1},8,["class"]),t(w,{label:"프로그램"},{default:d(()=>[t(_e,{modelValue:a(e).program,"onUpdate:modelValue":l[2]||(l[2]=o=>a(e).program=o),label:"",disabled:s.value,class:S(v.select)},null,8,["modelValue","disabled","class"])]),_:1}),t(w,{label:"방송예정일"},{default:d(()=>[t(Se,{modelValue:a(e).brdcSchdDtm,"onUpdate:modelValue":l[3]||(l[3]=o=>a(e).brdcSchdDtm=o),disabled:s.value,class:S(v.formItem),intent:g},null,8,["modelValue","disabled","class"])]),_:1}),t(w,{label:"앵커멘트"},{default:d(()=>[t(T,{modelValue:a(e).ancMentCttTime,"onUpdate:modelValue":l[4]||(l[4]=o=>a(e).ancMentCttTime=o),disabled:s.value,class:S(v.formItemTime),intent:g,readonly:""},null,8,["modelValue","disabled","class"])]),_:1}),t(w,{label:"기사멘트"},{default:d(()=>[t(T,{modelValue:a(e).artclCttTime,"onUpdate:modelValue":l[5]||(l[5]=o=>a(e).artclCttTime=o),disabled:s.value,class:S(v.formItemTime),intent:g,readonly:""},null,8,["modelValue","disabled","class"])]),_:1}),t(w,{label:"전체멘트"},{default:d(()=>[t(T,{disabled:s.value,class:S(v.formItemTime),intent:g,readonly:""},null,8,["disabled","class"])]),_:1}),t(w,{label:"작성일","is-show":s.value,class:S(v.formItem)},{default:d(()=>[t(T,{modelValue:a(e).inputDtm,"onUpdate:modelValue":l[6]||(l[6]=o=>a(e).inputDtm=o),disabled:s.value,class:"w-full"},null,8,["modelValue","disabled"])]),_:1},8,["is-show","class"]),t(w,{label:"송고일시","is-show":s.value,class:S(v.formItem)},{default:d(()=>[t(T,{disabled:s.value,class:"w-full"},null,8,["disabled"])]),_:1},8,["is-show","class"]),t(w,{label:"출고일시","is-show":s.value},{default:d(()=>[t(T,{modelValue:a(e).apprvTypDtm,"onUpdate:modelValue":l[7]||(l[7]=o=>a(e).apprvTypDtm=o),disabled:s.value,class:"w-full"},null,8,["modelValue","disabled"])]),_:1},8,["is-show"]),t(w,{label:"구분"},{default:d(()=>[t(Ve,{modelValue:a(e).artclDivCd,"onUpdate:modelValue":l[8]||(l[8]=o=>a(e).artclDivCd=o),class:S(v.select),onOnSelected:j},null,8,["modelValue","class"])]),_:1}),t(w,{label:"엠바고 일시"},{default:d(()=>[t(he,{modelValue:a(e).embargoDateTime,"onUpdate:modelValue":l[9]||(l[9]=o=>a(e).embargoDateTime=o),intent:g,class:S(v.formItem),disabled:!c.value},null,8,["modelValue","class","disabled"])]),_:1}),t(w,{label:"엠바고 사유",class:S(v.formItem)},{default:d(()=>[t(T,{modelValue:a(e).embargoReason,"onUpdate:modelValue":l[10]||(l[10]=o=>a(e).embargoReason=o),intent:g,disabled:!c.value,placeholder:"사유를 입력하여 주세요.",class:"w-full"},null,8,["modelValue","disabled"])]),_:1},8,["class"]),_("div",Ue,[t(Z,{"button-text":"권한설정",onClick:k})]),V.value?(u(),b(Te,{key:0,onSelectedRow:O,onClose:$})):f("",!0),I.value?(u(),b(De,{key:1,onOnSubmit:E,onClose:k})):f("",!0)])}}}),Ae={class:"h-[calc(100vh-150px)] border mt-2 rounded-md"},Ye=q({__name:"ArticleTabPanel",props:{mode:{},isReadOnly:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1},articleFileData:{},articleDetailInfoData:{},isShowDetailInfo:{type:Boolean,default:!0},isShowDropZone:{type:Boolean,default:!0},isShowHistory:{type:Boolean,default:!0},isShowPlan:{type:Boolean},isShowRequest:{type:Boolean,default:!0}},emits:["update:articleDetailInfoData","update:articleFileData","on-load-history"],setup(x,{emit:B}){const p=x,m=B,e=h(p,m,"articleDetailInfoData"),M=h(p,m,"articleFileData"),s=F(()=>[{id:1,name:"상세정보",isShow:p.isShowDetailInfo},{id:2,name:"첨부파일",isShow:p.isShowDropZone},{id:3,name:"이력",isShow:p.isShowHistory&&p.mode!=="create"},{id:4,name:"기획서",isShow:p.isShowRequest&&p.mode!=="create"}].filter(c=>c.isShow));return(c,r)=>(u(),P("div",Ae,[t(ne,{tabs:s.value,"is-plain-text-mode":"","is-compact-mode":""},{default:d(()=>[c.isShowDetailInfo?(u(),b(a(A),{key:0,unmount:!1},{default:d(()=>[t(Re,{"detail-info-data":a(e),"onUpdate:detailInfoData":r[0]||(r[0]=V=>N(e)?e.value=V:null),mode:c.mode},null,8,["detail-info-data","mode"])]),_:1})):f("",!0),c.isShowDropZone?(u(),b(a(A),{key:1,class:"h-full flex flex-col",unmount:!1},{default:d(()=>[_("div",null,[t(be,{"article-file-data":a(M),mode:c.mode},null,8,["article-file-data","mode"]),r[1]||(r[1]=_("div",{class:"mt-2 text-sm text-gray-600"},[_("div",null,"* 파일 하나당 최대 200MB까지 업로드할 수 있습니다."),_("div",null,"* 등록 개수는 최대 5개 입니다.")],-1))])]),_:1})):f("",!0),c.isShowHistory?(u(),b(a(A),{key:2},{default:d(()=>r[2]||(r[2]=[z("이력")])),_:1})):f("",!0),c.isShowPlan?(u(),b(a(A),{key:3},{default:d(()=>r[3]||(r[3]=[z("기획서")])),_:1})):f("",!0)]),_:1},8,["tabs"])]))}});export{Xe as _,Ye as a};
